.\" Copyright (c) 1993
.\"	Da Regentz of tha Universitizzle of California.  All muthafuckin rights reserved.
.\"
.\" %%%LICENSE_START(BSD_4_CLAUSE_UCB)
.\" Redistribution n' use up in source n' binary forms, wit or without
.\" modification, is permitted provided dat tha followin conditions
.\" is met:
.\" 1. Redistributionz of source code must retain tha above copyright
.\"    notice, dis list of conditions n' tha followin disclaimer.
.\" 2. Redistributions up in binary form must reproduce tha above copyright
.\"    notice, dis list of conditions n' tha followin disclaimer up in the
.\"    documentation and/or other shiznit provided wit tha distribution.
.\" 3 fo' realz. All advertisin shiznit mentionin features or use of dis software
.\"    must display tha followin acknowledgement:
.\"	This thang includes software pimped by tha Universitizzle of
.\"	California, Berkeley n' its contributors.
.\" 4. Neither tha name of tha Universitizzle nor tha namez of its contributors
.\"    may be used ta endorse or promote shizzle derived from dis software
.\"    without specific prior freestyled permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\" %%%LICENSE_END
.\"
.\"	@(#)daemon.3	8.1 (Berkeley) 6/9/93
.\" Added mentionin of glibc weirdnizz wrt unistd.h. 5/11/98, Al Viro
.TH DAEMON 3 2009-12-05 "GNU" "Linux Programmerz Manual"
.SH NAME
daemon \- run up in tha background
.SH SYNOPSIS
.B #include <unistd.h>
.sp
.BI "int daemon(int " nochdir ", int " noclose );
.sp
.in -4n
Feature Test Macro Requirements fo' glibc (see
.BR feature_test_macros (7)):
.in
.sp
.BR daemon ():
_BSD_SOURCE || (_XOPEN_SOURCE && _XOPEN_SOURCE\ <\ 500)
.SH DESCRIPTION
The
.BR daemon ()
function is fo' programs wishin ta detach theyselves from the
controllin terminal n' run up in tha background as system daemons.
.PP
If
.I nochdir
is zero,
.BR daemon ()
changes tha callin processs current hustlin directory
to tha root directory ("/");
otherwise, tha current hustlin directory is left unchanged.
.PP
If
.I noclose
is zero,
.BR daemon ()
redirects standard input, standard output n' standard error
to
.IR /dev/null ;
otherwise, no chizzlez is made ta these file descriptors.
.SH RETURN VALUE
(This function forks, n' if the
.BR fork (2)
succeeds, tha parent calls
.\" not .IR up in order not ta underline _
.BR _exit (2),
so dat further errors is peeped by tha lil pimp only.)
On success
.BR daemon ()
returns zero.
If a error occurs,
.BR daemon ()
returns \-1 n' sets
.I errno
to any of tha errors specified fo' the
.BR fork (2)
and
.BR setsid (2).
.SH CONFORMING TO
Not up in POSIX.1-2001.
A similar function appears on tha BSDs.
The
.BR daemon ()
function first rocked up in 4.4BSD.
.SH NOTES
Da glibc implementation can also return \-1 when
.I /dev/null
exists but aint a cold-ass lil characta thang wit tha expected
major n' minor numbers.
In dis case
.I errno
need not be set.
.SH SEE ALSO
.BR fork (2),
.BR setsid (2)
.SH COLOPHON
This page is part of release 3.53 of tha Linux
.I man-pages
project.
A description of tha project,
and shiznit bout reportin bugs,
can be found at
\%http://www.kernel.org/doc/man\-pages/.
