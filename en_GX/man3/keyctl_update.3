.\"
.\" Copyright (C) 2006 Red Hat, Inc fo' realz. All Rights Reserved.
.\" Written by Dizzy Howells (dhowells@redhat.com)
.\"
.\" This program is free software; you can redistribute it and/or
.\" modify it under tha termz of tha GNU General Public License
.\" as published by tha Jacked Software Foundation; either version
.\" 2 of tha License, or (at yo' option) any lata version.
.\"
.TH KEYCTL_UPDATE 3 "4 May 2006" Linux "Linux Key Management Calls"
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH NAME
keyctl_update \- Update a key
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH SYNOPSIS
.nf
.B #include <keyutils.h>
.sp
.BI "long keyctl_update(key_serial_t " key ", const void *" payload ,
.BI "size_t " plen ");"
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH DESCRIPTION
.BR keyctl_update ()
updates tha payload of a key if tha key type permits dat shit.
.P
Da calla must have
.B write
permission on a key ta be able update dat shit.
.P
.I payload
and
.I plen
specify tha data fo' tha freshly smoked up payload.
.I payload
may be NULL and
.I plen
may be zero if tha key type permits dis shit.  Da key type may reject tha data if
itz up in tha wack format or up in some other way invalid.
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH RETURN VALUE
On success
.BR keyctl_update ()
returns
.BR 0 .
On error, tha value
.B -1
will be returned n' errno gonna git been set ta a appropriate error.
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH ERRORS
.TP
.B ENOKEY
Da key specified is invalid.
.TP
.B EKEYEXPIRED
Da key specified has expired.
.TP
.B EKEYREVOKED
Da key specified had been revoked.
.TP
.B EINVAL
Da payload data was invalid.
.TP
.B ENOMEM
Insufficient memory ta store tha freshly smoked up payload.
.TP
.B EDQUOT
Da key quota fo' dis user would be exceeded by increasin tha size of the
key ta accommodate tha freshly smoked up payload.
.TP
.B EACCES
Da key exists yo, but is not
.B writable
by tha callin process.
.TP
.B EOPNOTSUPP
Da key type do not support tha update operation on its keys.
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH LINKING
This be a library function dat can be found in
.IR libkeyutils .
When linking,
.B -lkeyutils
should be specified ta tha linker.
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH SEE ALSO
.BR keyctl (1),
.br
.BR add_key (2),
.br
.BR keyctl (2),
.br
.BR request_key (2),
.br
.BR keyctl (3),
.br
.BR keyutils (7),
.br
.BR keyrings (7)
