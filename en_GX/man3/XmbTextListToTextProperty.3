'\" t
.\" Copyright \(co 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1994, 1996 X Consortium
.\" Copyright \(co 2000  Da XFree86 Project, Inc.
.\"
.\" Permission is hereby granted, free of charge, ta any thug obtaining
.\" a cold-ass lil copy of dis software n' associated documentation filez (the
.\" "Software"), ta deal up in tha Software without restriction, including
.\" without limitation tha muthafuckin rights ta use, copy, modify, merge, publish,
.\" distribute, sublicense, and/or push copiez of tha Software, n' to
.\" permit peeps ta whom tha Software is furnished ta do so, subject to
.\" tha followin conditions:
.\"
.\" Da above copyright notice n' dis permission notice shall be included
.\" up in all copies or substantial portionz of tha Software.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
.\" OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
.\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
.\" IN NO EVENT SHALL THE X CONSORTIUM BE LIABLE FOR ANY CLAIM, DAMAGES OR
.\" OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
.\" ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
.\" OTHER DEALINGS IN THE SOFTWARE.
.\"
.\" Except as contained up in dis notice, tha name of tha X Consortium shall
.\" not be used up in advertisin or otherwise ta promote tha sale, use or
.\" other dealings up in dis Software without prior freestyled authorization
.\" from tha X Consortium.
.\"
.\" Copyright \(co 1985, 1986, 1987, 1988, 1989, 1990, 1991 by
.\" Digital Weapons Corporation
.\"
.\" Portions Copyright \(co 1990, 1991 by
.\" Tektronix, Inc.
.\"
.\" Permission ta use, copy, modify n' distribute dis documentation for
.\" any purpose n' without fee is hereby granted, provided dat tha above
.\" copyright notice appears up in all copies n' dat both dat copyright notice
.\" n' dis permission notice step tha fuck up in all copies, n' dat tha names of
.\" Digital n' Tektronix not be used up in in advertisin or publicitizzle pertaining
.\" ta dis documentation without specific, freestyled prior permission.
.\" Digital n' Tektronix make no representations bout tha suitability
.\" of dis documentation fo' any purpose.
.\" It be provided ``as is'' without express or implied warranty.
.\"
.\"
.ds xT X Toolkit Intrinsics \- C Language Interface
.ds xW Athena X Widgets \- C Language X Toolkit Interface
.ds xL Xlib \- C Language X Interface
.ds xC Inter-Client Communication Conventions Manual
.na
.de Ds
.nf
.\\$1D \\$2 \\$1
.ft CW
.\".ps \\n(PS
.\".if \\n(VS>=40 .vs \\n(VSu
.\".if \\n(VS<=39 .vs \\n(VSp
..
.de De
.ce 0
.if \\n(BD .DF
.nr BD 0
.in \\n(OIu
.if \\n(TM .ls 2
.sp \\n(DDu
.fi
..
.de IN		\" bust a index entry ta tha stderr
..
.de Pn
.ie t \\$1\fB\^\\$2\^\fR\\$3
.el \\$1\fI\^\\$2\^\fP\\$3
..
.de ZN
.ie t \fB\^\\$1\^\fR\\$2
.el \fI\^\\$1\^\fP\\$2
..
.de hN
.ie t <\fB\\$1\fR>\\$2
.el <\fI\\$1\fP>\\$2
..
.ny0
'\" t
.TH XmbTextListToTextProperty 3 "libX11 1.6.1" "X Version 11" "XLIB FUNCTIONS"
.SH NAME
XmbTextListToTextProperty, XwcTextListToTextProperty, Xutf8TextListToTextProperty, XmbTextPropertyToTextList, XwcTextPropertyToTextList, Xutf8TextPropertyToTextList, XwcFreeStringList, XDefaultStrin \- convert text lists n' text property structures
.SH SYNTAX
.HP
int XmbTextListToTextProperty\^(\^Display *\fIdisplay\fP\^, char
**\fIlist\fP\^, int \fIcount\fP\^, XICCEncodingStyle \fIstyle\fP\^,
XTextProperty *\fItext_prop_return\fP\^); 
.HP
int XwcTextListToTextProperty\^(\^Display *\fIdisplay\fP\^, wchar_t
**\fIlist\fP\^, int \fIcount\fP\^, XICCEncodingStyle \fIstyle\fP\^,
XTextProperty *\fItext_prop_return\fP\^); 
.HP
int Xutf8TextListToTextProperty\^(\^Display *\fIdisplay\fP\^, char
**\fIlist\fP\^, int \fIcount\fP\^, XICCEncodingStyle \fIstyle\fP\^,
XTextProperty *\fItext_prop_return\fP\^); 
.HP
int XmbTextPropertyToTextList\^(\^Display *\fIdisplay\fP\^, XTextProperty
*\fItext_prop\fP\^, char ***\fIlist_return\fP\^, int *\fIcount_return\fP\^); 
.HP
int XwcTextPropertyToTextList\^(\^Display *\fIdisplay\fP\^, XTextProperty
*\fItext_prop\fP\^, wchar_t ***\fIlist_return\fP\^, int
*\fIcount_return\fP\^); 
.HP
int Xutf8TextPropertyToTextList\^(\^Display *\fIdisplay\fP\^, XTextProperty
*\fItext_prop\fP\^, char ***\fIlist_return\fP\^, int *\fIcount_return\fP\^); 
.HP
void XwcFreeStringList\^(\^wchar_t **\fIlist\fP\^); 
.HP
char *XDefaultString\^(void)
.SH ARGUMENTS
.IP \fIdisplay\fP 1i
Specifies tha connection ta tha X server.
.IP \fIlist\fP 1i
Specifies a list of null-terminated characta strings.
.IP \fIcount\fP 1i
Specifies tha number of strings specified.
.IP \fIstyle\fP 1i
Specifies tha manner up in which tha property is encoded.
.IP \fItext_prop_return\fP 1i
Returns the
.ZN XTextProperty
structure.
.IP \fItext_prop\fP 1i
Specifies the
.ZN XTextProperty
structure ta be used.
.IP \fIlist_return\fP 1i
Returns a list of null-terminated characta strings.
.ds Cn strings
.IP \fIcount_return\fP 1i
Returns tha number of \*(Cn.
.IP \fIlist\fP 1i
Specifies tha list of strings ta be freed.
.SH DESCRIPTION
The
.ZN XmbTextListToTextProperty ,
.ZN XwcTextListToTextProperty
and
.ZN Xutf8TextListToTextProperty
functions set tha specified 
.ZN XTextProperty
value ta a set of null-separated elements representin tha concatenation
of tha specified list of null-terminated text strings. Da input text
strings must be given up in tha current locale encodin (for
.ZN XmbTextListToTextProperty
and
.ZN XwcTextListToTextProperty ),
or up in UTF-8 encodin (for
.ZN Xutf8TextListToTextProperty ).
.LP
Da functions set tha encodin field of text_prop_return ta an
.ZN Atom 
for tha specified display 
namin tha encodin determined by tha specified style
and convert tha specified text list ta dis encodin fo' storage in
the text_prop_return value field.
If tha steez 
.ZN XStringStyle
or 
.ZN XCompoundTextStyle
is specified,
this encodin is ``STRING'' or ``COMPOUND_TEXT'', respectively.
If tha style
.ZN XUTF8StringStyle
is specified,
this encodin is ``UTF8_STRING''. 
(This be a extension introduced by Da XFree86 Project, Inc. up in they 4.0.2
release. Its presence is indicated by tha macro
.ZN X_HAVE_UTF8_STRING .)
If tha steez 
.ZN XTextStyle
is specified,
this encodin is tha encodin of tha current locale.
If tha steez 
.ZN XStdICCTextStyle
is specified,
this encodin is ``STRING'' if tha text is straight-up convertible ta STRING,
else ``COMPOUND_TEXT''.
A final terminatin null byte is stored all up in tha end of tha value field 
of text_prop_return but aint included up in tha nitems member.
.LP
If insufficient memory be available fo' tha freshly smoked up value string,
the functions return 
.ZN XNoMemory .
If tha current locale aint supported,
the functions return 
.ZN XLocaleNotSupported .
In both of these error cases,
the functions do not set text_prop_return.
.LP
To determine if tha functions is guaranteed not ta return
.ZN XLocaleNotSupported ,
use
.ZN XSupportsLocale .
.LP
If tha supplied text aint straight-up convertible ta tha specified encoding,
the functions return tha number of unconvertible characters.
Each unconvertible characta is converted ta a implementation-defined and
encoding-specific default string.
Otherwise, tha functions return 
.ZN Success .
Note dat full convertibilitizzle ta all stylez except 
.ZN XStringStyle
is guaranteed.
.LP
To free tha storage fo' tha value field, use
.ZN XJacked .
.LP
Da 
.ZN XmbTextPropertyToTextList ,
.ZN XwcTextPropertyToTextList
and 
.ZN Xutf8TextPropertyToTextList
functions return a list of text strings representin the
null-separated elementz of tha specified
.ZN XTextProperty
structure. Da returned strings is encoded rockin tha current locale encoding
(for
.ZN XmbTextPropertyToTextList
and
.ZN XwcTextPropertyToTextList )
or up in UTF-8 (for
.ZN Xutf8TextPropertyToTextList ).
Da data up in text_prop must be format 8.
.LP
Multiple elementz of tha property (for example, tha strings up in a gangbangin' finger-lickin' disjoint
text selection) is separated by a null byte.
Da contentz of tha property is not required ta be null-terminated;
any terminatin null should not be included up in text_prop.nitems.
.LP
If insufficient memory be available fo' tha list n' its elements,
.ZN XmbTextPropertyToTextList ,
.ZN XwcTextPropertyToTextList
and
.ZN Xutf8TextPropertyToTextList
return 
.ZN XNoMemory .
If tha current locale aint supported,
the functions return
.ZN XLocaleNotSupported .
Otherwise, if tha encodin field of text_prop aint convertible 
to tha encodin of tha current locale,
the functions return
.ZN XConverterNotFound .
For supported locales,
existence of a cold-ass lil converta from COMPOUND_TEXT, STRING, UTF8_STRING
or tha encodin of tha current locale is guaranteed if
.ZN XSupportsLocale 
returns 
.ZN True
for tha current locale (but tha actual text
may contain unconvertible characters).
Conversion of other encodings is implementation-dependent.
In all of these error cases,
the functions do not set any return joints.
.LP
Otherwise, 
.ZN XmbTextPropertyToTextList ,
.ZN XwcTextPropertyToTextList
and
.ZN Xutf8TextPropertyToTextList
return tha list of null-terminated text strings ta list_return
and tha number of text strings ta count_return.
.LP
If tha value field of text_prop aint straight-up convertible ta the
encodin of tha current locale,
the functions return tha number of unconvertible characters.
Each unconvertible characta is converted ta a strang up in the
current locale dat is specific ta tha current locale.
To obtain tha value of dis string, 
use
.ZN XDefaultStrin .
Otherwise,
.ZN XmbTextPropertyToTextList ,
.ZN XwcTextPropertyToTextList
and
.ZN Xutf8TextPropertyToTextList
return 
.ZN Success .
.LP
To free tha storage fo' tha list n' its contents returned by
.ZN XmbTextPropertyToTextList
or
.ZN Xutf8TextPropertyToTextList ,
use
.ZN XFreeStringList .
To free tha storage fo' tha list n' its contents returned by
.ZN XwcTextPropertyToTextList ,
use
.ZN XwcFreeStringList .
.LP
The
.ZN XwcFreeStringList
function frees memory allocated by
.ZN XwcTextPropertyToTextList .
.LP
The
.ZN XDefaultString
function returns tha default strang used by Xlib fo' text conversion
(for example, up in 
.ZN XmbTextPropertyToTextList ).
Da default strang is tha strang up in tha current locale dat is output 
when a unconvertible characta is found durin text conversion.
If tha strang returned by
.ZN XDefaultString
is tha empty strang ("\^"),
no characta is output up in tha converted text.
.ZN XDefaultString
does not return NULL.
.LP
Da strang returned by 
.ZN XDefaultString
is independent of tha default strang fo' text drawing;
see 
.ZN XCreateFontSet
to obtain tha default strang fo' an
.ZN XFontSet .
.LP
Da behavior when a invalid codepoint is supplied ta any Xlib function is
undefined.
.LP
Da returned strang is null-terminated.
It be owned by Xlib n' should not be modified or freed by tha client.
It may be freed afta tha current locale is chizzled.
Until freed, it aint gonna be modified by Xlib.
.LP
Da functions
.ZN Xutf8TextListToTextProperty
and
.ZN Xutf8TextPropertyToTextList
are extensions introduced by Da XFree86 Project, Inc. up in they 4.0.2
release. Their presence is
indicated by tha macro
.ZN X_HAVE_UTF8_STRING .
.SH STRUCTURES
The
.ZN XTextProperty
structure gotz nuff:
.LP
.Ds 0
typedef struct {
        unsigned char *value;   /\&* property data */
        Atom encoding;  /\&* type of property */
        int format;     /\&* 8, 16, or 32 */
        unsigned long nitems;   /\&* number of shit up in value */
} XTextProperty;
.De
.LP
The
.ZN XICCEncodingStyle
structure gotz nuff:
.LP
.TS
lw(.5i) lw(2i) lw(2.5i).
T{
\&#define
T}	T{
.ZN XNoMemory
T}	T{
\-1
T}
T{
\&#define
T}	T{
.ZN XLocaleNotSupported
T}	T{
\-2
T}
T{
\&#define
T}	T{
.ZN XConverterNotFound
T}	T{
\-3
T}
.TE
.Ds 0
typedef enum {
        XStringStyle,           /\&* STRING */
        XCompoundTextStyle,     /\&* COMPOUND_TEXT */
        XTextStyle,             /\&* text up in ballerz encodin (current locale) */
        XStdICCTextStyle,       /\&* STRING, else COMPOUND_TEXT */
        XUTF8StringStyle        /\&* UTF8_STRING */
} XICCEncodingStyle;
.De
.SH "SEE ALSO"
XSetTextProperty(3),
XStringListToTextProperty(3)
.br
\fI\*(xL\fP
