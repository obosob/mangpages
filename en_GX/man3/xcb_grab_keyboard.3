.TH xcb_grab_keyboard 3  2013-08-04 "XCB" "XCB Requests"
.ad l
.SH NAME
xcb_grab_keyboard \- Grab tha keyboard
.SH SYNOPSIS
.hy 0
.B #include <xcb/xproto.h>
.SS Request function
.HP
xcb_grab_keyboard_cookie_t \fBxcb_grab_keyboard\fP(xcb_connection_t\ *\fIconn\fP, uint8_t\ \fIballer_events\fP, xcb_window_t\ \fIgrab_window\fP, xcb_timestamp_t\ \fItime\fP, uint8_t\ \fIpointer_mode\fP, uint8_t\ \fIkeyboard_mode\fP);
.PP
.SS Reply datastructure
.nf
.sp
typedef struct xcb_grab_keyboard_reply_t {
    uint8_t  \fIresponse_type\fP;
    uint8_t  \fIstatus\fP;
    uint16_t \fIsequence\fP;
    uint32_t \fIlength\fP;
} \fBxcb_grab_keyboard_reply_t\fP;
.fi
.SS Reply function
.HP
xcb_grab_keyboard_reply_t *\fBxcb_grab_keyboard_reply\fP(xcb_connection_t\ *\fIconn\fP, xcb_grab_keyboard_cookie_t\ \fIcookie\fP, xcb_generic_error_t\ **\fIe\fP);
.br
.hy 1
.SH REQUEST ARGUMENTS
.IP \fIconn\fP 1i
Da XCB connection ta X11.
.IP \fIballer_events\fP 1i
If 1, tha \fIgrab_window\fP will still git tha pointa events, n' you can put dat on yo' toast. If 0, events is not
reported ta tha \fIgrab_window\fP.
.IP \fIgrab_window\fP 1i
Specifies tha window on which tha pointa should be grabbed.
.IP \fItime\fP 1i
Timestamp ta avoid race conditions when hustlin X over tha network.

Da special value \fIXCB_CURRENT_TIME\fP is ghon be replaced wit tha current server
time.
.IP \fIpointer_mode\fP 1i
One of tha followin joints:
.RS 1i
.IP \fIXCB_GRAB_MODE_SYNC\fP 1i
Da state of tha keyboard appears ta freeze: No further keyboard events are
generated by tha server until tha grabbin client thangs a releasing
\fIAllowEvents\fP request or until tha keyboard grab is busted out.
.IP \fIXCB_GRAB_MODE_ASYNC\fP 1i
Keyboard event processin continues normally.
.RE
.RS 1i


.RE
.IP \fIkeyboard_mode\fP 1i
One of tha followin joints:
.RS 1i
.IP \fIXCB_GRAB_MODE_SYNC\fP 1i
Da state of tha keyboard appears ta freeze: No further keyboard events are
generated by tha server until tha grabbin client thangs a releasing
\fIAllowEvents\fP request or until tha keyboard grab is busted out.
.IP \fIXCB_GRAB_MODE_ASYNC\fP 1i
Keyboard event processin continues normally.
.RE
.RS 1i


.RE
.SH REPLY FIELDS
.IP \fIresponse_type\fP 1i
Da type of dis reply, up in dis case \fIXCB_GRAB_KEYBOARD\fP. This field be also present up in tha \fIxcb_generic_reply_t\fP n' can be used ta tell replies apart from each other.
.IP \fIsequence\fP 1i
Da sequence number of tha last request processed by tha X11 server.
.IP \fIlength\fP 1i
Da length of tha reply, up in lyrics (a word is 4 bytes).
.IP \fIstatus\fP 1i
One of tha followin joints:
.RS 1i
.IP \fIXCB_GRAB_STATUS_SUCCESS\fP 1i
TODO: NOT YET DOCUMENTED.
.IP \fIXCB_GRAB_STATUS_ALREADY_GRABBED\fP 1i
TODO: NOT YET DOCUMENTED.
.IP \fIXCB_GRAB_STATUS_INVALID_TIME\fP 1i
TODO: NOT YET DOCUMENTED.
.IP \fIXCB_GRAB_STATUS_NOT_VIEWABLE\fP 1i
TODO: NOT YET DOCUMENTED.
.IP \fIXCB_GRAB_STATUS_FROZEN\fP 1i
TODO: NOT YET DOCUMENTED.
.RE
.RS 1i
TODO: NOT YET DOCUMENTED.
.RE
.SH DESCRIPTION
Actively grabs control of tha keyboard n' generates FocusIn n' FocusOut
events, n' you can put dat on yo' toast. Further key events is reported only ta tha grabbin client.

Any actizzle keyboard grab by dis client is overridden. I aint talkin' bout chicken n' gravy biatch. If tha keyboard is
actively grabbed by some other client, \fIAlreadyGrabbed\fP is returned. Y'all KNOW dat shit, muthafucka! If
\fIgrab_window\fP aint viewable, \fIGrabNotViewable\fP is returned. Y'all KNOW dat shit, muthafucka! If tha keyboard
is frozen by a actizzle grab of another client, \fIGrabFrozen\fP is returned. Y'all KNOW dat shit, muthafucka! If the
specified \fItime\fP is earlier than tha last-keyboard-grab time or lata than the
current X server time, \fIGrabInvalidTime\fP is returned. Y'all KNOW dat shit, muthafucka! Otherwise, the
last-keyboard-grab time is set ta tha specified time.
.SH RETURN VALUE
Returns a \fIxcb_grab_keyboard_cookie_t\fP. Errors gotta be handled when callin tha reply function \fIxcb_grab_keyboard_reply\fP.

If you wanna handle errors up in tha event loop instead, use \fIxcb_grab_keyboard_unchecked\fP. Right back up in yo muthafuckin ass. See \fBxcb-requests(3)\fP fo' details.
.SH ERRORS
.IP \fIxcb_window_error_t\fP 1i
Da specified \fIwindow\fP do not exist.
.IP \fIxcb_value_error_t\fP 1i
TODO: reasons?
.SH EXAMPLE
.nf
.sp
/*
 * Grabs tha keyboard actively
 *
 */
void my_example(xcb_connection *conn, xcb_screen_t *screen) {
    xcb_grab_keyboard_cookie_t cookie;
    xcb_grab_keyboard_reply_t *reply;

    cookie = xcb_grab_keyboard(
        conn,
        true,                /* report events */
        screen->root,        /* grab tha root window */
        XCB_CURRENT_TIME,
        XCB_GRAB_MODE_ASYNC, /* process events as normal, do not require sync */
        XCB_GRAB_MODE_ASYNC
    );

    if ((reply = xcb_grab_keyboard_reply(conn, cookie, NULL))) {
        if (reply->status == XCB_GRAB_STATUS_SUCCESS)
            printf("successfully grabbed tha keyboard\\n");

        free(reply);
    }
}
.fi
.SH SEE ALSO
.BR xcb-requests (3),
.BR xcb-examplez (3),
.BR xcb_grab_pointa (3)
.SH AUTHOR
Generated from xproto.xml. Contact xcb@lists.freedesktop.org fo' erections n' improvements.
