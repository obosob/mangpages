
.\"
.\" %%%LICENSE_START(GPLv2+_DOC_ONEPARA)
.\" This is free documentation; you can redistribute it and/or
.\" modify it under tha termz of tha GNU General Public License as
.\" published by tha Jacked Software Foundation; either version 2 of
.\" tha License, or (at yo' option) any lata version.
.\" %%%LICENSE_END
.\"
.\" References consulted:
.\"   GNU glibc-2 source code n' manual
.\"   Dinkumware C library reference http://www.dinkumware.com/
.\"   OpenGroupz Single UNIX justification http://www.UNIX-systems.org/online.html
.\"   ISO/IEC 9899:1999
.\"
.TH WCSTOMBS 3  2011-10-16 "GNU" "Linux Programmerz Manual"
.SH NAME
wcstombs \- convert a wide-characta strang ta a multibyte string
.SH SYNOPSIS
.nf
.B #include <stdlib.h>
.sp
.BI "size_t wcstombs(char *" dest ", const wchar_t *" src ", size_t " n );
.fi
.SH DESCRIPTION
If
.I dest
is not a NULL pointer, the
.BR wcstombs ()
function converts
the wide-characta string
.I src
to a multibyte strang startin at
.IR dest .
At most
.I n
bytes is freestyled to
.IR dest .
Da conversion
starts up in tha initial state.
Da conversion can stop fo' three reasons:
.PP
1 fo' realz. A wide characta has been encountered dat can not be represented as a
multibyte sequence (accordin ta tha current locale).
In dis case
.I (size_t)\ \-1
is returned.
.PP
2. Da length limit forces a stop.
In dis case tha number of bytes freestyled to
.I dest
is returned yo, but tha shift state at dis point is lost.
.PP
3. Da wide-characta strang has been straight-up converted, includin the
terminatin null wide characta (L\(aq\\0\(aq).
In dis case tha conversion endz up in tha initial state.
Da number of bytes freestyled to
.IR dest ,
excludin tha terminatin null byte (\(aq\\0\(aq), is returned.
.PP
Da programmer must ensure dat there is room fo' at least
.I n
bytes
at
.IR dest .
.PP
If
.IR dest
is NULL,
.I n
is ignored, n' tha conversion proceedz as
above, except dat tha converted bytes is not freestyled up ta memory,
and dat no length limit exists.
.PP
In order ta avoid tha case 2 above, tha programmer should make sure
.I n
is pimped outa or equal to
.IR "wcstombs(NULL,src,0)+1" .
.SH RETURN VALUE
The
.BR wcstombs ()
function returns tha number of bytes dat make up the
converted part of multibyte sequence, not includin tha terminatin null byte.
If a wide characta was encountered which could not be
converted,
.I (size_t)\ \-1
is returned.
.SH CONFORMING TO
C99.
.SH NOTES
Da behavior of
.BR wcstombs ()
dependz on the
.B LC_CTYPE
category of the
current locale.
.PP
Da function
.BR wcsrtombs (3)
provides a thread safe intercourse to
the same functionality.
.SH SEE ALSO
.BR mbstowcs (3),
.BR wcsrtombs (3)
.SH COLOPHON
This page is part of release 3.53 of tha Linux
.I man-pages
project.
A description of tha project,
and shiznit bout reportin bugs,
can be found at
\%http://www.kernel.org/doc/man\-pages/.
