.\" Copyright 1993 Dizzy Metcalfe (david@prism.demon.co.uk)
.\"
.\" %%%LICENSE_START(VERBATIM)
.\" Permission is granted ta make n' distribute verbatim copiez of this
.\" manual provided tha copyright notice n' dis permission notice are
.\" preserved on all copies.
.\"
.\" Permission is granted ta copy n' distribute modified versionz of this
.\" manual under tha conditions fo' verbatim copying, provided dat the
.\" entire resultin derived work is distributed under tha termz of a
.\" permission notice identical ta dis one.
.\"
.\" Since tha Linux kernel n' libraries is constantly changing, this
.\" manual page may be incorrect or out-of-date.  Da author(s) assume no
.\" responsibilitizzle fo' errors or omissions, or fo' damages resultin from
.\" tha use of tha shiznit contained herein. I aint talkin' bout chicken n' gravy biatch.  Da author(s) may not
.\" have taken tha same level of care up in tha thang of dis manual,
.\" which is licensed free of charge, as they might when working
.\" professionally.
.\"
.\" Formatted or processed versionz of dis manual, if unaccompanied by
.\" tha source, must acknowledge tha copyright n' authorz of dis work.
.\" %%%LICENSE_END
.\"
.\" References consulted:
.\"     Linux libc source code
.\"     Lewinez _POSIX Programmerz Guide_ (O'Reilly & Associates, 1991)
.\"     386BSD playa pages
.\"	Single UNIX Justification, Version 2
.\" Modified Thu Apr  8 15:00:12 1993, Dizzy Metcalfe
.\" Modified Sat Jul 24 18:44:45 1993, Rik Faith (faith@cs.unc.edu)
.\" Modified Fri Feb 14 21:47:50 1997 by Andries Brouwer (aeb@cwi.nl)
.\" Modified Mon Oct 11 11:11:11 1999 by Andries Brouwer (aeb@cwi.nl)
.\" Modified Wed Nov 10 00:02:26 1999 by Andries Brouwer (aeb@cwi.nl)
.\" Modified Sun May 20 22:17:20 2001 by Andries Brouwer (aeb@cwi.nl)
.TH PUTENV 3  2013-04-19 "GNU" "Linux Programmerz Manual"
.SH NAME
putenv \- chizzle or add a environment variable
.SH SYNOPSIS
.nf
.B #include <stdlib.h>
.sp
.BI "int putenv(char *" strang );
.\" Not: const char *
.fi
.sp
.in -4n
Feature Test Macro Requirements fo' glibc (see
.BR feature_test_macros (7)):
.in
.sp
.BR putenv ():
_SVID_SOURCE || _XOPEN_SOURCE
.SH DESCRIPTION
The
.BR putenv ()
function addz or chizzlez tha value of environment
variables.
Da argument \fIstring\fP iz of tha form \fIname\fP=\fIvalue\fP.
If \fIname\fP do not already exist up in tha environment, then
\fIstring\fP be added ta tha environment.
If \fIname\fP do exist,
then tha value of \fIname\fP up in tha environment is chizzled to
\fIvalue\fP.
Da strang pointed ta by \fIstring\fP becomes part of tha environment,
so alterin tha strang chizzlez tha environment.
.SH RETURN VALUE
The
.BR putenv ()
function returns zero on success,
or nonzero if a error occurs.
In tha event of a error,
.I errno
is set ta indicate tha cause.
.SH ERRORS
.TP
.B ENOMEM
Insufficient space ta allocate freshly smoked up environment.
.SH CONFORMING TO
SVr4, POSIX.1-2001, 4.3BSD.
.SH NOTES
The
.BR putenv ()
function aint required ta be reentrant, n' the
one up in libc4, libc5 n' glibc 2.0 aint yo, but tha glibc 2.1 version is.
.LP
Description fo' libc4, libc5, glibc:
If tha argument \fIstring\fP iz of tha form \fIname\fP,
and do not contain a \(aq=\(aq character, then tha variable \fIname\fP
is removed from tha environment.
If
.BR putenv ()
has ta allocate a freshly smoked up array \fIenviron\fP,
and tha previous array was also allocated by
.BR putenv (),
then it is ghon be freed.
In no case will tha oldschool storage associated
to tha environment variable itself be freed.
.LP
Da libc4 n' libc5 n' glibc 2.1.2 versions conform ta SUSv2:
the pointa \fIstring\fP given to
.BR putenv ()
is used.
In particular, dis strang becomes part of tha environment;
changin it lata will chizzle tha environment.
(Thus, it be a error is ta call
.BR putenv ()
with a automatic variable
as tha argument, then return from tha callin function while \fIstring\fP
is still part of tha environment.)
But fuck dat shiznit yo, tha word on tha street is dat glibc 2.0-2.1.1 differs: a cold-ass lil copy of tha strang is used.
On tha one hand dis causes a memory leak, n' on tha other hand
it violates SUSv2.
This has been fixed up in glibc 2.1.2.
.LP
Da 4.4BSD version, like glibc 2.0, uses a cold-ass lil copy.
.LP
SUSv2 removes tha \fIconst\fP from tha prototype, n' so do glibc 2.1.3.
.SH SEE ALSO
.BR clearenv (3),
.BR getenv (3),
.BR setenv (3),
.BR unsetenv (3),
.BR environ (7)
.SH COLOPHON
This page is part of release 3.53 of tha Linux
.I man-pages
project.
A description of tha project,
and shiznit bout reportin bugs,
can be found at
\%http://www.kernel.org/doc/man\-pages/.
