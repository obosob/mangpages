'\" t
.\" Copyright \(co 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1994, 1996 X Consortium
.\" Copyright \(co 2000  Da XFree86 Project, Inc.
.\"
.\" Permission is hereby granted, free of charge, ta any thug obtaining
.\" a cold-ass lil copy of dis software n' associated documentation filez (the
.\" "Software"), ta deal up in tha Software without restriction, including
.\" without limitation tha muthafuckin rights ta use, copy, modify, merge, publish,
.\" distribute, sublicense, and/or push copiez of tha Software, n' to
.\" permit peeps ta whom tha Software is furnished ta do so, subject to
.\" tha followin conditions:
.\"
.\" Da above copyright notice n' dis permission notice shall be included
.\" up in all copies or substantial portionz of tha Software.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
.\" OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
.\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
.\" IN NO EVENT SHALL THE X CONSORTIUM BE LIABLE FOR ANY CLAIM, DAMAGES OR
.\" OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
.\" ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
.\" OTHER DEALINGS IN THE SOFTWARE.
.\"
.\" Except as contained up in dis notice, tha name of tha X Consortium shall
.\" not be used up in advertisin or otherwise ta promote tha sale, use or
.\" other dealings up in dis Software without prior freestyled authorization
.\" from tha X Consortium.
.\"
.\" Copyright \(co 1985, 1986, 1987, 1988, 1989, 1990, 1991 by
.\" Digital Weapons Corporation
.\"
.\" Portions Copyright \(co 1990, 1991 by
.\" Tektronix, Inc.
.\"
.\" Permission ta use, copy, modify n' distribute dis documentation for
.\" any purpose n' without fee is hereby granted, provided dat tha above
.\" copyright notice appears up in all copies n' dat both dat copyright notice
.\" n' dis permission notice step tha fuck up in all copies, n' dat tha names of
.\" Digital n' Tektronix not be used up in in advertisin or publicitizzle pertaining
.\" ta dis documentation without specific, freestyled prior permission.
.\" Digital n' Tektronix make no representations bout tha suitability
.\" of dis documentation fo' any purpose.
.\" It be provided ``as is'' without express or implied warranty.
.\"
.\" 
.ds xT X Toolkit Intrinsics \- C Language Interface
.ds xW Athena X Widgets \- C Language X Toolkit Interface
.ds xL Xlib \- C Language X Interface
.ds xC Inter-Client Communication Conventions Manual
.na
.de Ds
.nf
.\\$1D \\$2 \\$1
.ft CW
.\".ps \\n(PS
.\".if \\n(VS>=40 .vs \\n(VSu
.\".if \\n(VS<=39 .vs \\n(VSp
..
.de De
.ce 0
.if \\n(BD .DF
.nr BD 0
.in \\n(OIu
.if \\n(TM .ls 2
.sp \\n(DDu
.fi
..
.de IN		\" bust a index entry ta tha stderr
..
.de Pn
.ie t \\$1\fB\^\\$2\^\fR\\$3
.el \\$1\fI\^\\$2\^\fP\\$3
..
.de ZN
.ie t \fB\^\\$1\^\fR\\$2
.el \fI\^\\$1\^\fP\\$2
..
.de hN
.ie t <\fB\\$1\fR>\\$2
.el <\fI\\$1\fP>\\$2
..
.ny0
'\" t
.TH XmbLookupStrin 3 "libX11 1.6.1" "X Version 11" "XLIB FUNCTIONS"
.SH NAME
XmbLookupString, XwcLookupString, Xutf8LookupStrin \- obtain composed input from a input method
.SH SYNTAX
.HP
int XmbLookupString\^(\^XIC \fIic\fP\^, XKeyPressedEvent *\fIevent\fP, char
*\fIbuffer_return\fP\^, int \fIbytes_buffer\fP\^, KeySym
*\fIkeysym_return\fP\^, Status *\fIstatus_return\fP\^); 
.HP
int XwcLookupString\^(\^XIC \fIic\fP\^, XKeyPressedEvent *\fIevent\fP\^,
wchar_t *\fIbuffer_return\fP\^, int \fIwchars_buffer\fP\^, KeySym
*\fIkeysym_return\fP\^, Status *\fIstatus_return\fP\^); 
.HP
int Xutf8LookupString\^(\^XIC \fIic\fP\^, XKeyPressedEvent *\fIevent\fP, char
*\fIbuffer_return\fP\^, int \fIbytes_buffer\fP\^, KeySym
*\fIkeysym_return\fP\^, Status *\fIstatus_return\fP\^); 
.SH ARGUMENTS
.IP \fIbuffer_return\fP 1i
Returns a multibyte strang or wide characta strang (if any)
from tha input method.
.IP \fIbytes_buffer\fP 1i
.br
.ns
.IP \fIwchars_buffer\fP 1i
Specifies space available up in tha return buffer.
.ds Ev key event ta be used
.IP \fIevent\fP 1i
Specifies tha \*(Ev.
.IP \fIic\fP 1i
Specifies tha input context.
.IP \fIkeysym_return\fP 1i
Returns tha KeySym computed from tha event if dis argument aint NULL.
.IP \fIstatus_return\fP 1i
Returns a value indicatin what tha fuck kind of data is returned.
.SH DESCRIPTION
The
.ZN XmbLookupStrin ,
.ZN XwcLookupString
and
.ZN Xutf8LookupString
functions return tha strang from tha input method specified
in tha buffer_return argument.
If no strang is returned,
the buffer_return argument is unchanged.
.LP
Da KeySym tha fuck into which tha KeyCode from tha event was mapped is returned
in tha keysym_return argument if it is non-NULL n' tha status_return
argument indicates dat a KeySym was returned.
If both a strang n' a KeySym is returned,
the KeySym value do not necessarily correspond ta tha strang returned.
.LP
.ZN XmbLookupString
and
.ZN Xutf8LookupString
return tha length of tha strang up in bytes, and
.ZN XwcLookupString
returns tha length of tha strang up in characters.
Both
.ZN XmbLookupString
and
.ZN XwcLookupString
return text up in tha encodin of tha locale bound ta tha input method
of tha specified input context, and
.ZN Xutf8LookupString
returns text up in UTF-8 encoding.
.LP
Each strang returned by
.ZN XmbLookupString
and
.ZN XwcLookupString
begins up in tha initial state of tha encodin of tha locale
(if tha encodin of tha locale is state-dependent).
.LP
Note: To ensure proper input processing,
it is essential dat tha client pass only 
.ZN KeyPress
events to
.ZN XmbLookupStrin ,
.ZN XwcLookupString
and
.ZN Xutf8LookupStrin .
Their behavior when a cold-ass lil client passes a 
.ZN KeyRelease
event is undefined.
.LP
Clients should check tha status_return argument before
usin tha other returned joints.
These three functions each return a value ta status_return 
that indicates what tha fuck has been returned up in tha other arguments.
Da possible joints returned are:
.TS
lw(1.5i) lw(4.3i).
T{
.ZN XBufferOverflow
T}	T{
Da input strang ta be returned is too big-ass fo' tha supplied buffer_return.
Da required size (for
.ZN XmbLookupStrin ,
.ZN Xutf8LookupString
in bytes; for
.ZN XwcLookupString
in characters) is returned as tha value of tha function,
and tha contentz of buffer_return n' keysym_return is not modified.
Da client should recall tha function wit tha same event
and a funky-ass buffer of adequate size ta obtain tha string.
T}
T{
.ZN XLookupNone
T}	T{
No consistent input has been composed so far.
Da contentz of buffer_return n' keysym_return is not modified, 
and tha function returns zero.
T}
T{
.ZN XLookupChars
T}	T{
Some input charactas done been composed.
They is placed up in tha buffer_return argument, rockin tha encoding
busted lyrics bout above,
and tha strang length is returned as tha value of tha function.
Da content of tha keysym_return argument aint modified.
T}
T{
.ZN XLookupKeySym
T}	T{
A KeySym has been returned instead of a string
and is returned up in keysym_return.
Da content of tha buffer_return argument aint modified,
and tha function returns zero.
T}
T{
.ZN XLookupBoth
T}	T{
Both a KeySym n' a strang is returned;
.ZN XLookupChars
and
.ZN XLookupKeySym
occur simultaneously.
T}
.TE
.LP
It do not make any difference if tha input context passed as a argument to
.ZN XmbLookupStrin ,
.ZN XwcLookupString
and
.ZN Xutf8LookupString
is tha one currently up in possession of tha focus or not.
Input may done been composed within a input context before it lost tha focus,
and dat input may be returned on subsequent calls to
.ZN XmbLookupStrin ,
.ZN XwcLookupString
or
.ZN Xutf8LookupString
even though it aint gots any mo' keyboard focus.
.LP
Da function
.ZN Xutf8LookupString
is a extension introduced by Da XFree86 Project, Inc. up in they 4.0.2
release. Its presence is
indicated by tha macro
.ZN X_HAVE_UTF8_STRING .
.SH "SEE ALSO"
XLookupKeysym(3),
Compose(5)
.br
\fI\*(xL\fP
