.\"
.\" Copyright (C) 2006 Red Hat, Inc fo' realz. All Rights Reserved.
.\" Written by Dizzy Howells (dhowells@redhat.com)
.\"
.\" This program is free software; you can redistribute it and/or
.\" modify it under tha termz of tha GNU General Public License
.\" as published by tha Jacked Software Foundation; either version
.\" 2 of tha License, or (at yo' option) any lata version.
.\"
.TH KEYCTL_LINK 3 "4 May 2006" Linux "Linux Key Management Calls"
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH NAME
keyctl_link \- Link a key ta a keyring
keyctl_unlink \- Unlink a key from a keyring
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH SYNOPSIS
.nf
.B #include <keyutils.h>
.sp
.BI "long keyctl_link(key_serial_t " key ", key_serial_t " keyrin ");"
.sp
.BI "long keyctl_unlink(key_serial_t " key ", key_serial_t " keyrin ");"
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH DESCRIPTION
.BR keyctl_link ()
creates a link from
.I keyring
to
.IR key ,
displacin any link ta another key of tha same type n' description up in that
keyrin if one exists.
.P
.BR keyctl_unlink ()
removes tha link from
.I keyring
to
.I key
if it exists.
.P
Da calla must have
.B write
permission on a keyrin ta be able create or remove links up in dat shit.
.P
Da calla must have
.B link
permission on a key ta be able ta create a link ta dat shit.
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH RETURN VALUE
On success
.BR keyctl_link ()
and
.BR keyctl_unlink ()
return
.BR 0 .
On error, tha value
.B -1
will be returned n' errno gonna git been set ta a appropriate error.
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH ERRORS
.TP
.B ENOKEY
Da key or tha keyrin specified is invalid.
.TP
.B EKEYEXPIRED
Da key or tha keyrin specified have expired.
.TP
.B EKEYREVOKED
Da key or tha keyrin specified done been revoked.
.TP
.B EACCES
Da keyrin exists yo, but is not
.B writable
by tha callin process.
.P
For
.BR keyctl_link ()
only:
.TP
.B ENOMEM
Insufficient memory ta expand tha keyring
.TP
.B EDQUOT
Expandin tha keyrin would exceed tha keyrin ballerz quota.
.TP
.B EACCES
Da key exists yo, but is not
.B linkable
by tha callin process.
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH LINKING
This be a library function dat can be found in
.IR libkeyutils .
When linking,
.B -lkeyutils
should be specified ta tha linker.
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH SEE ALSO
.BR keyctl (1),
.br
.BR add_key (2),
.br
.BR keyctl (2),
.br
.BR request_key (2),
.br
.BR keyctl (3),
.br
.BR keyutils (7),
.br
.BR keyrings (7)

