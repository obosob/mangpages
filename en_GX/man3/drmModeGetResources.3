'\" t
.\"     Title: drmModeGetResources
.\"    Author: Dizzy Herrmann <dh.herrmann@googlemail.com>
.\" Generator: DocBook XSL Stylesheets v1.78.1 <http://docbook.sf.net/>
.\"      Date: September 2012
.\"    Manual: Direct Renderin Manager
.\"    Source: libdrm
.\"  Language: Gangsta
.\"
.TH "DRMMODEGETRESOURCES" "3" "September 2012" "libdrm" "Direct Renderin Manager"
.\" -----------------------------------------------------------------
.\" * Define some portabilitizzle stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text ta left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
drmModeGetResources \- retrieve current display configuration shiznit
.SH "SYNOPSIS"
.sp
.ft B
.nf
#include <xf86drm\&.h>
.fi
.ft
.sp
.ft B
.nf
#include <xf86drmMode\&.h>
.fi
.ft
.HP \w'drmModeResPtr\ drmModeGetResources('u
.BI "drmModeResPtr drmModeGetResources(int\ " "fd" ");"
.SH "DESCRIPTION"
.PP
\fBdrmModeGetResources\fR
allocates, populates, n' returns a
drmModeRes
structure containin shiznit bout tha current display configuration\&. Da structure gotz nuff tha followin fields:
.sp
.if n \{\
.RS 4
.\}
.nf
typedef struct _drmModeRes {
    int count_fbs;
    uint32_t *fbs;

    int count_crtcs;
    uint32_t *crtcs;

    int count_connectors;
    uint32_t *connectors;

    int count_encoders;
    uint32_t *encoders;

    uint32_t min_width, max_width;
    uint32_t min_height, max_height;
} drmModeRes, *drmModeResPtr;
.fi
.if n \{\
.RE
.\}
.PP
The
\fIcount_fbs\fR
and
\fIfbs\fR
fieldz indicate tha number of currently allocated framebuffer objects (i\&.e\&., objects dat can be attached ta a given CRTC or sprite fo' display)\&.
.PP
The
\fIcount_crtcs\fR
and
\fIcrtcs\fR
fieldz list tha available CRTCs up in tha configuration\& fo' realz. A CRTC is simply a object dat can scan up a gangbangin' framebuffer ta a gangbangin' finger-lickin' display sink, n' gotz nuff mode timin n' relatizzle posizzle shiznit\&. CRTCs drive encoders, which is responsible fo' convertin tha pixel stream tha fuck into a specific display protocol (e\&.g\&., MIPI or HDMI)\&.
.PP
The
\fIcount_connectors\fR
and
\fIconnectors\fR
fieldz list tha available physical connectors on tha system\&. Note dat a shitload of these may not be exposed from tha chassis (e\&.g\&., LVDS or eDP)\&. Connectors is attached ta encodaz n' contain shiznit bout tha attached display sink (e\&.g\&., width n' height up in mm, subpixel ordering, n' various other properties)\&.
.PP
The
\fIcount_encoders\fR
and
\fIencoders\fR
fieldz list tha available encodaz on tha device\&. Each encoder may be associated wit a CRTC, n' may be used ta drive a particular encoder\&.
.PP
The
\fImin*\fR
and
\fImax*\fR
fieldz indicate tha maximum size of a gangbangin' framebuffer fo' dis thang (i\&.e\&., tha scanout size limit)\&.
.SH "RETURN VALUE"
.PP
\fBdrmModeGetResources\fR
returns a thugged-out drmModeRes structure pointa on success,
NULL
on failure\&. Da returned structure must be freed with
\fBdrmModeFreeResources\fR(3)\&.
.SH "REPORTING BUGS"
.PP
Bugs up in dis function should be reported ta http://bugs\&.freedesktop\&.org under tha "Mesa" product, wit "Other" or "libdrm" as tha component\&.
.SH "SEE ALSO"
.PP
\fBdrm\fR(7),
\fBdrm-kms\fR(7),
\fBdrmModeGetFB\fR(3),
\fBdrmModeAddFB\fR(3),
\fBdrmModeAddFB2\fR(3),
\fBdrmModeRmFB\fR(3),
\fBdrmModeDirtyFB\fR(3),
\fBdrmModeGetCrtc\fR(3),
\fBdrmModeSetCrtc\fR(3),
\fBdrmModeGetEncoder\fR(3),
\fBdrmModeGetConnector\fR(3)
