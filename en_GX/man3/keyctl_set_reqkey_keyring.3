.\"
.\" Copyright (C) 2006 Red Hat, Inc fo' realz. All Rights Reserved.
.\" Written by Dizzy Howells (dhowells@redhat.com)
.\"
.\" This program is free software; you can redistribute it and/or
.\" modify it under tha termz of tha GNU General Public License
.\" as published by tha Jacked Software Foundation; either version
.\" 2 of tha License, or (at yo' option) any lata version.
.\"
.TH KEYCTL_SET_REQKEY_KEYRING 3 "4 May 2006" Linux "Linux Key Management Calls"
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH NAME
keyctl_set_reqkey_keyrin \- Set tha implicit destination keyring
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH SYNOPSIS
.nf
.B #include <keyutils.h>
.sp
.BI "long keyctl_set_reqkey_keyring(int " reqkey_defl ");"
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH DESCRIPTION
.BR keyctl_set_reqkey_keyrin ()
sets tha default destination fo' implicit key requests fo' tha current thread
and returns tha oldschool setting.
.P
Afta dis operation has been issued, keys acquired by implicit key requests,
like fuckin might be performed by open() on a AFS or NFS filesystem, will be
linked by default ta tha specified keyrin by dis function.
.P
Da valid joints of
.I reqkey_defl
are:
.TP
.B KEY_REQKEY_DEFL_NO_CHANGE
This make no chizzle ta tha current setting.
.TP
.B KEY_REQKEY_DEFL_THREAD_KEYRING
This make tha thread-specific keyrin tha default destination.
.TP
.B KEY_REQKEY_DEFL_PROCESS_KEYRING
This make tha process-specific keyrin tha default destination.
.TP
.B KEY_REQKEY_DEFL_SESSION_KEYRING
This make tha session keyrin tha default destination.
.TP
.B KEY_REQKEY_DEFL_USER_KEYRING
This make tha UID-specific keyrin tha default destination.
.TP
.B KEY_REQKEY_DEFL_USER_SESSION_KEYRING
This make tha UID-specific session keyrin tha default destination.
.TP
.B KEY_REQKEY_DEFL_DEFAULT
This selects tha default behaviour which is ta use tha thread-specific keyring
if there is one, otherwise tha process-specific keyrin if there is one,
otherwise tha session keyrin if there is one, otherwise tha UID-specific
session keyring.
.P
This settin is inherited across
.BR fork ()
and
.BR exec ().

.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH RETURN VALUE
On success
.BR keyctl_set_reqkey_keyrin ()
returns
.BR 0 .
On error, tha value
.B -1
will be returned n' errno gonna git been set ta a appropriate error.
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH ERRORS
.TP
.B EINVAL
Da value of
.I reqkey_defl
is invalid.
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH LINKING
This be a library function dat can be found in
.IR libkeyutils .
When linking,
.B -lkeyutils
should be specified ta tha linker.
.\"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""
.SH SEE ALSO
.BR keyctl (1),
.br
.BR add_key (2),
.br
.BR keyctl (2),
.br
.BR request_key (2),
.br
.BR keyctl (3),
.br
.BR request-key (8),
.br
.BR keyutils (7),
.br
.BR keyrings (7)
