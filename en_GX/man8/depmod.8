'\" t
.\"     Title: depmod
.\"    Author: Jizzle Mastas <jcm@jonmasters.org>
.\" Generator: DocBook XSL Stylesheets v1.78.1 <http://docbook.sf.net/>
.\"      Date: 08/22/2013
.\"    Manual: depmod
.\"    Source: kmod
.\"  Language: Gangsta
.\"
.TH "DEPMOD" "8" "08/22/2013" "kmod" "depmod"
.\" -----------------------------------------------------------------
.\" * Define some portabilitizzle stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text ta left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
depmod \- Generate modules\&.dep n' map files\&.
.SH "SYNOPSIS"
.HP \w'\fBdepmod\fR\ 'u
\fBdepmod\fR [\fB\-b\ \fR\fB\fIbasedir\fR\fR] [\fB\-e\fR] [\fB\-E\ \fR\fB\fIModule\&.symvers\fR\fR] [\fB\-F\ \fR\fB\fISystem\&.map\fR\fR] [\fB\-n\fR] [\fB\-v\fR] [\fB\-A\fR] [\fB\-P\ \fR\fB\fIprefix\fR\fR] [\fB\-w\fR] [\fB\fIversion\fR\fR]
.HP \w'\fBdepmod\fR\ 'u
\fBdepmod\fR [\fB\-e\fR] [\fB\-E\ \fR\fB\fIModule\&.symvers\fR\fR] [\fB\-F\ \fR\fB\fISystem\&.map\fR\fR] [\fB\-m\fR] [\fB\-n\fR] [\fB\-v\fR] [\fB\-P\ \fR\fB\fIprefix\fR\fR] [\fB\-w\fR] [\fB\fIversion\fR\fR] [\fB\fIfilename\fR\fR...]
.SH "DESCRIPTION"
.PP
Linux kernel modulez can provide skillz (called "symbols") fo' other modulez ta use (usin one of tha EXPORT_SYMBOL variants up in tha code)\&. If a second module uses dis symbol, dat second module clearly dependz on tha straight-up original gangsta module\&. These dependencies can git like complex\&.
.PP
\fBdepmod\fR
creates a list of module dependencies by readin each module under
/lib/modules/\fIversion\fR
and determinin what tha fuck symbols it exports n' what tha fuck symbols it needs\&. By default, dis list is freestyled to
modules\&.dep, n' a funky-ass binary hashed version named
modules\&.dep\&.bin, up in tha same directory\&. If filenames is given on tha command line, only dem modulez is examined (which is rarely useful unless all modulez is listed)\&.
\fBdepmod\fR
also creates a list of symbols provided by modulez up in tha file named
modules\&.symbols
and its binary hashed version,
modules\&.symbols\&.bin\&. Finally,
\fBdepmod\fR
will output a gangbangin' file named
modules\&.devname
if modulez supply special thang names (devname) dat should be populated up in /dev on boot (by a utilitizzle like fuckin udev)\&.
.PP
If a
\fIversion\fR
is provided, then dat kernel version\*(Aqs module directory is used rather than tha current kernel version (as returned by
\fBuname \-r\fR)\&.
.SH "OPTIONS"
.PP
\fB\-a\fR, \fB\-\-all\fR
.RS 4
Probe all modules\&. This option is enabled by default if no file names is given up in tha command\-line\&.
.RE
.PP
\fB\-A\fR, \fB\-\-quick\fR
.RS 4
This option scans ta peep if any modulez is newer than the
modules\&.dep
file before any work is done: if not, it silently exits rather than regeneratin tha files\&.
.RE
.PP
\fB\-b \fR\fB\fIbasedir\fR\fR, \fB\-\-basedir \fR\fB\fIbasedir\fR\fR
.RS 4
If yo' modulez is not currently up in tha (normal) directory
/lib/modules/\fIversion\fR yo, but up in a stagin area, you can specify a
\fIbasedir\fR
which is prepended ta tha directory name\&. This
\fIbasedir\fR
is stripped from tha resulting
modules\&.dep
file, so it is locked n loaded ta be moved tha fuck into tha aiiight location\&. Use dis option if yo ass be a gangbangin' finger-lickin' distribution vendor whoz ass need ta pre\-generate tha meta\-data filez rather than hustlin depmod again n' again n' again later\&.
.RE
.PP
\fB\-C\fR, \fB\-\-config \fR\fB\fIfile or directory\fR\fR
.RS 4
This option overrides tha default configuration directory at
/etc/depmod\&.d/\&.
.RE
.PP
\fB\-e\fR, \fB\-\-errsyms\fR
.RS 4
When combined wit the
\fB\-F\fR
option, dis reports any symbols which a module needz which is not supplied by other modulez or tha kernel\&. Normally, any symbols not provided by modulez is assumed ta be provided by tha kernel (which should be legit up in a slick ghetto) yo, but dis assumption can break especially when additionally updated third jam drivers is not erectly installed or was built incorrectly\&.
.RE
.PP
\fB\-E\fR, \fB\-\-symvers\fR
.RS 4
When combined wit the
\fB\-e\fR
option, dis reports any symbol versions supplied by modulez dat do not match wit tha symbol versions provided by tha kernel up in its
Module\&.symvers\&. This option is mutually incompatible with
\fB\-F\fR\&.
.RE
.PP
\fB\-F\fR, \fB\-\-filesyms \fR\fB\fISystem\&.map\fR\fR
.RS 4
Supplied wit the
System\&.map
produced when tha kernel was built, dis allows the
\fB\-e\fR
option ta report unresolved symbols\&. This option is mutually incompatible with
\fB\-E\fR\&.
.RE
.PP
\fB\-h\fR, \fB\-\-help\fR
.RS 4
Print tha help message n' exit\&.
.RE
.PP
\fB\-n\fR, \fB\-\-dry\-run\fR
.RS 4
This sendz tha resultin modules\&.dep n' tha various map filez ta standard output rather than freestylin dem tha fuck into tha module directory\&.
.RE
.PP
\fB\-P\fR
.RS 4
Some architectures prefix symbols wit a extraneous character\&. This specifies a prefix characta (for example \*(Aq_\*(Aq) ta ignore\&.
.RE
.PP
\fB\-v\fR, \fB\-\-verbose\fR
.RS 4
In verbose mode,
\fBdepmod\fR
will print (to stdout) all tha symbols each module dependz on n' tha module\*(Aqs file name which serves up dat symbol\&.
.RE
.PP
\fB\-V\fR, \fB\-\-version\fR
.RS 4
Show version of program n' exit\&. Right back up in yo muthafuckin ass. See below fo' caveats when run on olda kernels\&.
.RE
.PP
\fB\-w\fR
.RS 4
Warn on duplicate dependencies, aliases, symbol versions, etc\&.
.RE
.SH "COPYRIGHT"
.PP
This manual page originally Copyright 2002, Rusty Russell, IBM Corporation\&. Portions Copyright Jizzle Masters, n' others\&.
.SH "SEE ALSO"
.PP
\fBdepmod.d\fR(5),
\fBmodprobe\fR(8),
\fBmodules.dep\fR(5)
.SH "AUTHORS"
.PP
\fBJizzle Masters\fR <\&jcm@jonmasters\&.org\&>
.RS 4
Developer
.RE
.PP
\fBRobby Workman\fR <\&rworkman@slackware\&.com\&>
.RS 4
Developer
.RE
.PP
\fBLucas De Marchi\fR <\&lucas\&.demarchi@profusion\&.mobi\&>
.RS 4
Developer
.RE
