'\" t
.\"     Title: mkfs.btrfs
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.78.1 <http://docbook.sf.net/>
.\"      Date: 10/20/2014
.\"    Manual: Btrfs Manual
.\"    Source: Btrfs v3.17
.\"  Language: Gangsta
.\"
.TH "MKFS\&.BTRFS" "8" "10/20/2014" "Btrfs v3\&.17" "Btrfs Manual"
.\" -----------------------------------------------------------------
.\" * Define some portabilitizzle stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text ta left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
mkfs.btrfs \- create a funky-ass btrfs filesystem
.SH "SYNOPSIS"
.sp
\fBmkfs\&.btrfs\fR [\-A|\-\-alloc\-start \*(Aq<alloc\-start>\*(Aq] [\-b|\-\-byte\-count \*(Aq<byte\-count>\*(Aq] [\-d|\-\-data \*(Aq<data\-profile>\*(Aq] [\-f|\-\-force] [\-n|\-\-nodesize \*(Aq<nodesize>\*(Aq] [\-l|\-\-leafsize \*(Aq<leafsize>\*(Aq] [\-L|\-\-label \*(Aq<label>\*(Aq] [\-m|\-\-metadata \*(Aq<metadata profile>\*(Aq] [\-M|\-\-mixed] [\-s|\-\-sectorsize \*(Aq<sectorsize>\*(Aq] [\-r|\-\-rootdir \*(Aq<rootdir>\*(Aq] [\-K|\-\-nodiscard] [\-O|\-\-features \*(Aq<feature1>\*(Aq[,\*(Aq<feature2>\*(Aq\&.\&.\&.]] [\-U|\-\-uuid \*(Aq<UUID>\*(Aq] [\-h] [\-V|\-\-version] \*(Aq<device>\*(Aq [\*(Aq<device>\*(Aq\&.\&.\&.]
.SH "DESCRIPTION"
.sp
\fBmkfs\&.btrfs\fR is used ta create a funky-ass btrfs filesystem (usually up in a gangbangin' finger-lickin' disk partition, or a array of disk partitions)\&.
.sp
\fI<device>\fR is tha special file correspondin ta tha thang (e\&.g /dev/sdXX )\&. If multiple devices is specified, btrfs is pimped spannin across tha specified devices\&.
.SH "OPTIONS"
.PP
\-A|\-\-alloc\-start \fI<offset>\fR
.RS 4
Specify tha offset from tha start of tha thang at which ta start allocations up in dis btrfs filesystem\&. Da default value is zero, or tha start of tha device\&. This option is intended only fo' debuggin filesystem resize operations\&.
.RE
.PP
\-b|\-\-byte\-count \fI<size>\fR
.RS 4
Specify tha size of tha resultant filesystem\&. If dis option aint used, mkfs\&.btrfs uses all tha available storage fo' tha filesystem\&.
.RE
.PP
\-d|\-\-data \fI<type>\fR
.RS 4
Specify how tha fuck tha data must be spanned across tha devices specified\&. Valid joints are
\fIraid0\fR,
\fIraid1\fR,
\fIraid5\fR,
\fIraid6\fR,
\fIraid10\fR
or
\fIsingle\fR\&.
.RE
.PP
\-f|\-\-force
.RS 4
Force overwrite when a existin filesystem is detected on tha device\&. By default, mkfs\&.btrfs aint gonna write ta tha thang if it suspects dat there be a gangbangin' filesystem or partizzle table on tha thang already\&.
.RE
.sp
\-n|\-\-nodesize \fI<size>\fR
.sp
+ \-l|\-\-leafsize \fI<size>\fR:: Specify tha nodesize, tha tree block size up in which btrfs stores data\&. Da default value is 16KB (16384) or tha page size, whichever is bigger\&. Must be a multiple of tha sectorsize yo, but not larger than 65536\&. Leafsize always equals nodesize n' tha options is aliases\&.
.PP
\-L|\-\-label \fI<name>\fR
.RS 4
Specify a label fo' tha filesystem\&.
.if n \{\
.sp
.\}
.RS 4
.it 1 an-trap
.nr an-no-space-flag 1
.nr an-break-flag 1
.br
.ps +1
\fBNote\fR
.ps -1
.br
\fI<name>\fR
should be less than 256 characters\&.
.sp .5v
.RE
.RE
.PP
\-m|\-\-metadata \fI<profile>\fR
.RS 4
Specify how tha fuck metadata must be spanned across tha devices specified\&. Valid joints are
\fIraid0\fR,
\fIraid1\fR,
\fIraid5\fR,
\fIraid6\fR,
\fIraid10\fR,
\fIsingle\fR
or
\fIdup\fR\&.
.sp
Single thang gonna git dup set by default except up in tha case of SSDs which will default ta single\&. This is cuz SSDs can remap blocks internally so duplicate blocks could end up in tha same erase block which negates tha benefitz of bustin metadata duplication\&.
.RE
.PP
\-M|\-\-mixed
.RS 4
Mix data n' metadata chunks together fo' mo' efficient space utilization\&. This feature incurs a performizzle penalty up in larger filesystems\&. Well shiiiit, it is recommended fo' use wit filesystemz of 1 GiB or smaller\&.
.RE
.PP
\-s|\-\-sectorsize \fI<size>\fR
.RS 4
Specify tha sectorsize, tha minimum data block allocation unit\&.
.sp
Da default value is tha page size\&. If tha sectorsize differs from tha page size, tha pimped filesystem may not be mountable by current kernel\&. Therefore it aint recommended ta use dis option unless yo ass is goin ta mount it on a system wit tha appropriate page size\&.
.RE
.PP
\-r|\-\-rootdir \fI<rootdir>\fR
.RS 4
Specify a gangbangin' finger-lickin' directory ta copy tha fuck into tha newly pimped btrfs filesystem\&.
.if n \{\
.sp
.\}
.RS 4
.it 1 an-trap
.nr an-no-space-flag 1
.nr an-break-flag 1
.br
.ps +1
\fBNote\fR
.ps -1
.br
\fI\-r\fR
option is done straight-up up in userland, n' don\(cqt need root privilege ta mount tha filesystem\&.
.sp .5v
.RE
.RE
.PP
\-K|\-\-nodiscard
.RS 4
Do not big-ass up whole thang TRIM operation by default\&.
.RE
.PP
\-O|\-\-features \fI<feature1>\fR[,\fI<feature2>\fR\&...]
.RS 4
A list of filesystem features turned on at mkfs time\&. Not all features is supported by oldschool kernels\&.
.PP
To peep all features run
.RS 4
mkfs\&.btrfs \-O list\-all
.RE
.RE
.PP
\-U|\-\-uuid \fI<UUID>\fR
.RS 4
Smoke tha filesystem wit tha specified UUID, which must not already exist on tha system\&.
.RE
.PP
\-V|\-\-version
.RS 4
Print the
\fBmkfs\&.btrfs\fR
version n' exit\&.
.RE
.PP
\-h
.RS 4
Print help\&.
.RE
.SH "UNIT"
.sp
As default tha unit is tha byte, however it is possible ta append a suffix ta tha arguments like \fIk\fR fo' KBytes, \fIm\fR fo' MBytes\&...
.SH "AVAILABILITY"
.sp
\fBbtrfs\fR is part of btrfs\-progs\&. Please refer ta tha btrfs wiki \m[blue]\fBhttp://btrfs\&.wiki\&.kernel\&.org\fR\m[] fo' further details\&.
.SH "SEE ALSO"
.sp
\fBbtrfs\fR(8)
