.\" mmcli(8) manual page
.\"
.\" Copyright (C) 2012 Martyn Russell
.\"
.\" Comment up '.nr' or set ta 0 ta eliminizzle WIDTH fiddlin' !
.nr half_xtra 4

.TH mmcli 8 "October 2012" GNU "User Commands"

.SH NAME
mmcli \- Control n' monitor tha ModemManager

.SH SYNOPSIS
\fBmmcli\fR [\fIOPTION\fR...]

.SH DESCRIPTION
ModemManager be a DBus-powered Linux daemon which serves up a unified
high level API fo' communicatin wit (mobile broadband) modems. It
acts as a standard RIL (Radio Interface Layer) n' may be used by
different connection managers, like NetworkManager n' shit. Thanks ta the
built-in plugin architecture, ModemManager talks ta straight-up different
kindz of modems wit straight-up different kindz of ports, n' you can put dat on yo' toast. In addizzle ta the
standard AT serial ports, Qualcomm-based QCDM n' QMI ports is also
supported.

.SH HELP OPTIONS
.TP
.B \-h, \-\-help
Show summary of options by group.
.TP
.B \-\-help\-all
Show all crews n' options.
.TP
.B \-\-help\-manager
Show manager specific options.
.TP
.B \-\-help\-common
Show common options. These is used fo' definin tha thang a option
operates on. I aint talkin' bout chicken n' gravy biatch. For example, modems, bearers, SIMs, SMS', etc.
.TP
.B \-\-help\-modem
Show modem specific options.
.TP
.B \-\-help\-3gpp
Show 3GPP specific options.
.TP
.B \-\-help\-cdma
Show CDMA specific options.
.TP
.B \-\-help\-simple
Show simple options. These is useful fo' gettin connected or
disconnected n' understandin tha state of thangs as fast as possible
without worryin so much bout tha details.
.TP
.B \-\-help\-location
Show location or positionin specific options.
.TP
.B \-\-help\-messaging
Show messagin specific options. Right back up in yo muthafuckin ass. See also \fB\-\-help\-sms\fR which
is related.
.TP
.B \-\-help\-time
Show time specific options.
.TP
.B \-\-help\-firmware
Show firmware specific options.
.TP
.B \-\-help\-oma
Show OMA specific options.
.TP
.B \-\-help\-sim
Show SIM card specific options.
.TP
.B \-\-help\-bearer
Show bearer specific options.
.TP
.B \-\-help\-sms
Show SMS specific options. Right back up in yo muthafuckin ass. See also \fB\-\-help\-messaging\fR which
is related.

.SH MANAGER OPTIONS
.TP
.B \-G, \-\-set\-logging=[ERR|WARN|INFO|DEBUG]
Set tha loggin level up in ModemManager daemon. I aint talkin' bout chicken n' gravy biatch. For debuggin shiznit you can supply \fBDEBUG\fR. Each value above \fBDEBUG\fR serves up less detail. In most cases \fBERR\fR (for displayin errors) is tha blingin lyrics.

Da default mode is \fBERR\fR.
.TP
.B \-L, \-\-list\-modems
List available modems.
.TP
.B \-M, \-\-monitor\-modems
List available modems n' monitor modems added or removed.
.TP
.B \-S, \-\-scan-modems
Scan fo' any potential freshly smoked up modems. This is only useful when expectin pure
RS232 modems, as they is not notified automatically by tha kernel.

.SH COMMON OPTIONS
All options below take a \fBPATH\fR or \fBINDEX\fR argument. If no action is
provided, tha default shiznit bout tha modem, bearer, etc. is
shown instead.

Da \fBPATH\fR n' \fBINDEX\fR is pimped automatically when the
modem is plugged in. I aint talkin' bout chicken n' gravy biatch. They can be found rockin \fBmmcli \-L\fR. This
produces suttin' like (for modems only):

.RS 7
Found 1 modems:
  /org/freedesktop/ModemManager1/Modem/\fB4\fR
.RE

In dis case, tha \fBINDEX\fR is \fB4\fR n' tha \fBPATH\fR is tha entire strang above.

But fuck dat shiznit yo, tha word on tha street is dat fo' tha bearers, SIMs n' SMS cases, tha \fBPATH\fR is
slightly different. Da \fIModem\fR is replaced wit tha object name
in use, like \fIBearer\fR. For example:

.RS 7
/org/freedesktop/ModemManager1/\fIBearer\fR/4
.RE

.TP
.B \-m, \-\-modem=[PATH|INDEX]
Specify a modem.
.TP
.B \-b, \-\-bearer=[PATH|INDEX]
Specify a funky-ass bearer.
.TP
.B \-i, \-\-sim=[PATH|INDEX]
Specify a SIM card.
.TP
.B \-s, \-\-sms=[PATH|INDEX]
Specify a SMS.

.SH MODEM OPTIONS
All of tha modem options below make use of tha \fB\-\-modem\fR or
\fB\-m\fR switch ta specify tha modem ta act on.

Some operations require a \fBMODE\fR. \fBMODE\fR can be any
combination of tha modes straight-up supported by tha modem. In the
slick case, tha followin is possible:

.Bd -literal -compact
  \fB'2G'\fR  - 2G technologies, e.g. EDGE, CDMA1x
  \fB'3G'\fR  - 3G technologies, e.g yo. HSPA, EV-DO
  \fB'4G'\fR  - 4G technologies, e.g. LTE
  \fB'ANY'\fR - fo' all supported modes.
.Ed
.TP
.B \-w, \-\-monitor\-state
Monitor tha state of a given modem.
.TP
.B \-e, \-\-enable
Enable a given modem.

This powers tha antenna, starts tha automatic registration process and
in general prepares tha modem ta be connected.
.TP
.B \-d, \-\-disable
Disable a given modem.

This disconnects tha existin connection(s) fo' tha modem n' puts it
into a low juice mode.
.TP
.B \-r, \-\-reset
Resets tha modem ta tha settings it had when dat shiznit was juice cycled.
.TP
.B \-\-factory\-reset=CODE
Resets tha modem ta its original gangsta factory default settings.

Da \fBCODE\fR provided is vendor specific. Without tha erect vendor
code, itz unlikely dis operation will succeed. Y'all KNOW dat shit, muthafucka! This aint a cold-ass lil common
user action.
.TP
.B \-\-command=COMMAND
Send a AT \fBCOMMAND\fR ta tha given modem. For example,
\fBCOMMAND\fR could be 'AT+GMM' ta probe fo' beeper model shiznit. I aint talkin' bout chicken n' gravy biatch. This
operation is only available when ModemManager is run up in debug mode.
.TP
.B \-\-list\-bearers
List packet data bearers dat is available fo' tha given modem.
.TP
.B \-\-create\-bearer=['KEY1=VALUE1,KEY2=VALUE2,...']
Smoke a freshly smoked up packet data bearer fo' a given modem. Da \fBKEY\fRs and
some \fBVALUE\fRs is listed below:
.RS 9
.TP
\fB'apn'\fR
Access Point Name. Required up in 3GPP.
.TP
\fB'ip-type'\fR
Addressin type. Given as a MMBearerIpFamily value (e.g. 'ipv4', 'ipv6', 'ipv4v6'). Optionizzle up in 3GPP n' CDMA.
.TP
\fB'allowed-auth'\fR
Authentication method ta use. Given as a MMBearerAllowedAuth value (e.g. 'none|pap|chap|mschap|mschapv2|eap'). Optionizzle up in 3GPP.
.TP
\fB'user'\fR
User name (if any) required by tha network. Optionizzle up in 3GPP.
.TP
\fB'password'\fR
Password (if any) required by tha network. Optionizzle up in 3GPP.
.TP
\fB'allow-roaming'\fR
Flag ta tell whether connection be allowed durin roaming, given as a funky-ass boolean value (i.e 'yes' or 'no'). Optionizzle up in 3GPP.
.TP
\fB'rm-protocol'\fR
Protocol of tha Rm intercourse, given as a MMModemCdmaRmProtocol value (e.g. 'async', 'packet-relay', 'packet-network-ppp', 'packet-network-slip', 'stu-iii'). Optionizzle up in CDMA.
.TP
\fB'number'\fR
Telephone number ta dial. It aint nuthin but tha nick nack patty wack, I still gots tha bigger sack. Required up in POTS.
.RE
.TP
.B \-\-delete\-bearer=PATH
Delete bearer from a given modem. This option explicitly uses a
\fBPATH\fR ta define tha bearer, you can not use a \fBINDEX\fR ta be
deleted.
.TP
.B \-\-set\-allowed\-modes=[MODE1|MODE2|...]
Set allowed modes fo' a given modem. For possible modes, peep the
beginnin of dis section.
.TP
.B \-\-set\-bands=[BAND1|BAND2|...]
Set bandz ta be used fo' a given modem. These is frequency ranges
the modem should use. There is like a fuckin shitload of supported bandz and
listin dem all here would be like extensive. For details, peep the
MMModemBand documentation.

An example would be: 'egsm|dcs|pcs|g850' ta select all tha GSM
frequency bands.
.TP
.B \-\-set\-preferred\-mode=MODE
Set tha preferred \fBMODE\fR fo' tha given modem. Da \fBMODE\fR
\fIMUST\fR be one of tha allowed modes as set wit the
\fB\-\-set\-allowed\-modes\fR option. I aint talkin' bout chicken n' gravy biatch. Possible \fBMODE\fR arguments
are detailed all up in tha beginnin of dis section.

.SH 3GPP OPTIONS
Da 3rd Generation Partnershizzle Project (3GPP) be a cold-ass lil collaboration
between crewz of telecommunications associations. These options
pertain ta devices which support 3GPP.

Included is options ta control USSD (Unstructured Supplementary
Service Data) sessions.

All of tha 3GPP options below make use of tha \fB\-\-modem\fR or
\fB\-m\fR switch ta specify tha modem ta act on.
.TP
.B \-\-3gpp\-scan
Scan fo' available 3GPP networks.
.TP
.B \-\-3gpp\-register\-home
Request a given modem ta regista up in its home network.

This registas wit tha default network(s) specified by tha modem,
.TP
.B \-\-3gpp\-register\-in\-operator=MCCMNC
Request a given modem ta regista on tha network of tha given
\fBMCCMNC\fR (Mobile Ghetto Code, Mobile Network Code) based
operator. Shiiit, dis aint no joke. This code is used fo' GSM/LTE, CDMA, iDEN, TETRA n' UMTS
hood land mobile networks n' some satellite mobile networks. The
ITU-T Recommendation E.212 defines mobile ghetto codes.
.TP
.B \-\-3gpp\-ussd\-status
Request tha statuz of \fIANY\fR ongoin USSD session.
.TP
.B \-\-3gpp\-ussd\-initiate=COMMAND
Request tha given modem ta initiate a USSD session wit \fBCOMMAND\fR.

For example, \fBCOMMAND\fR could be '*101#' ta give yo' current
pre-pay balance.
.TP
.B \-\-3gpp\-ussd\-respond=RESPONSE
When initiatin a USSD session, a \fRRESPONSE\fR may be needed by a
network-originated request. This option allows fo' dis shit.
.TP
.B \-\-3gpp\-ussd\-cancel
Cancel a ongoin USSD session fo' a given modem.

.SH CDMA OPTIONS
All CDMA (Code Division Multiple Access) options require the
\fB\-\-modem\fR or \fB\-m\fR option.

.TP
.B \-\-cdma\-activate=CARRIER
Activate tha given modem rockin OTA (Over tha Air) settings. The
\fBCARRIER\fR be a cold-ass lil code provided by tha network fo' tha default
settings they provide.

.SH SIMPLE OPTIONS
All simple options must be used wit \fB\-\-modem\fR or \fB\-m\fR.

.TP
.B \-\-simple\-connect=['KEY1=VALUE1,KEY2=VALUE2,...']
Run a gangbangin' full connection sequence rockin \fBKEY\fR / \fBVALUE\fR pairs.
Yo ass can use tha \fB\-\-create\-bearer\fR options, plus any of the
followin ones:
.RS 9
.TP
\fB'pin'\fR
SIM-PIN unlock code.
.TP
\fB'operator-id'\fR
ETSI MCC-MNC of a network ta force registration.
.RE
.TP
.B \-\-simple\-disconnect
Disconnect \fIALL\fR connected bearers fo' a given modem.
.TP
.B \-\-simple\-status
Display tha statuz of tha given modem.

.SH LOCATION OPTIONS
These options detail how tha fuck ta discover yo' location rockin Global
Positionin System (GPS) or directly from yo' mobile network infrastructure
(either 3GPP or 3GPP2).

All location options must be used wit \fB\-\-modem\fR or \fB\-m\fR.

.TP
.B \-\-location\-status
Show tha current status fo' discoverin our location.
.TP
.B \-\-location\-get
Show all location shiznit available.
.TP
.B \-\-location\-enable\-3gpp
Enable location discovery rockin tha 3GPP network.
.TP
.B \-\-location\-disable\-3gpp
Disable location discovery rockin tha 3GPP network.
.TP
.B \-\-location\-get\-3gpp
Show 3GPP based location shiznit (MCC, MNC, LAC, CI).
.TP
.B \-\-location\-enable\-gps\-nmea
Enable location discovery rockin GPS n' reported wit NMEA traces.
.TP
.B \-\-location\-disable\-gps\-nmea
Disable location discovery rockin GPS n' NMEA traces.
.TP
.B \-\-location\-get\-gps\-nmea
Show GPS based location wit NMEA trace shiznit.
.TP
.B \-\-location\-enable\-gps\-raw
Enable location discovery rockin GPS n' reported wit raw (i.e.
longitude/latitude) joints.
.TP
.B \-\-location\-disable\-gps\-raw
Disable location discovery rockin GPS n' raw joints.
.TP
.B \-\-location\-get\-gps\-raw
Show GPS based location shiznit wit raw joints (e.g. latitude, longitude).
.TP
.B \-\-location\-enable\-cdma-bs
Enable location discovery rockin tha 3GPP2 network.
.TP
.B \-\-location\-disable\-cdma-bs
Disable location discovery rockin tha 3GPP2 network.
.TP
.B \-\-location\-get\-cdma-bs
Show 3GPP2 based location shiznit (location of tha CDMA base station).

.SH MESSAGING OPTIONS
All messagin options must be used wit \fB\-\-modem\fR or \fB\-m\fR.

.TP
.B \-\-messaging\-status
Show tha statuz of tha messagin support.
.TP
.B \-\-messaging\-list-sms
List SMS lyrics available on a given modem.
.TP
.B \-\-messaging\-create-sms=['KEY1=VALUE1,...']
Smoke a freshly smoked up SMS on a given modem. \fBKEY\fRs can be any of tha following:
.RS 9
.TP
\fB'number'\fR
 Number ta which tha message be addressed.
.TP
\fB'text'\fR
Message text, up in UTF-8. When sending, if tha text is larger than the
limit of tha technologizzle or modem, tha message is ghon be fucked up into
multiple parts or lyrics. Note dat text n' data is never given at
the same time.
.TP
\fB'smsc'\fR
Indicates tha SMS steez centa number.
.TP
\fB'validity'\fR
Specifies when tha SMS expires up in tha SMSC.
.TP
\fB'class'\fR
3GPP message class (0..3).
.TP
\fB'delivery-report-request'\fR
Specifies whether delivery report be axed when bustin  tha SMS
('yes' or 'no')
.TP
\fB'storage'\fR
Specifies tha storage where dis message is kept. Right back up in yo muthafuckin ass. Storages may
be 'sm', 'me', 'mt', 'sr', 'bm', 'ta'.
.RE
.TP
.B \-\-messaging\-create-sms-with-data=PATH
Use \fBPATH\fR ta a gangbangin' filename as tha data ta create a freshly smoked up SMS.
.TP
.B \-\-messaging\-delete-sms=PATH
Delete a SMS from a given modem. \fBPATH\fR indicates tha SMS path.

.SH TIME OPTIONS
All time operations require tha \fB\-\-modem\fR or \fB\-m\fR option.

.TP
.B \-\-time
Display tha current network time from tha operator. Shiiit, dis aint no joke. This includes the
timezone which is probably of importance.

.SH FIRMWARE OPTIONS
All firmware options require tha \fB\-\-modem\fR or \fB\-m\fR option.

.TP
.B \-\-firmware\-list
List all tha firmware images installed on a given modem.
.TP
.B \-\-firmware\-select=ID
Select a gangbangin' firmware image from dem installed on a given modem fo' realz. A list
of available firmware images can be peeped rockin the
\fB\-\-firmware\-list\fR option.

Da \fBID\fR provided be a \fIUNIQUE\fR identifier fo' tha firmware.

.SH OMA OPTIONS
All OMA options require tha \fB\-\-modem\fR or \fB\-m\fR option.

.TP
.B \-\-oma\-status
Show tha statuz of tha OMA thang pimpment subsystem.
.TP
.B \-\-oma\-start\-client\-initiated\-session=[SESSION TYPE]
Request ta start a cold-ass lil client initiated session.

Da given session type must be one of:
 'client\-initiated\-device\-configure'
 'client\-initiated\-prl\-update'
 'client\-initiated\-hands\-free\-activation'
.TP
.B \-\-oma\-accept\-network\-initiated\-session=[SESSION ID]
Request ta accept a network initiated session.
.TP
.B \-\-oma\-reject\-network\-initiated\-session=[SESSION ID]
Request ta reject a network initiated session.
.TP
.B \-\-oma\-cancel\-session
Request ta quit current OMA session, if any.

.SH SIM OPTIONS
.TP
.B \-\-pin=PIN
Send \fBPIN\fR code ta a given SIM card.
.TP
.B \-\-puk=PUK
Send \fBPUK\fR code ta a given SIM card. Y'all KNOW dat shit, muthafucka! This must be used \fIWITH\fR
\fB\-\-pin\fR.
.TP
.B \-\-enable\-pin
Enable PIN request fo' a given SIM card. Y'all KNOW dat shit, muthafucka! This must be used \fIWITH\fR
\fB\-\-pin\fR.
.TP
.B \-\-disable\-pin
Disable PIN request fo' a given SIM card. Y'all KNOW dat shit, muthafucka! This must be used \fIWITH\fR
\fB\-\-pin\fR.
.TP
.B \-\-change\-pin=PIN
Change tha PIN fo' a given SIM card. Y'all KNOW dat shit, muthafucka! Well shiiiit, it is ghon be set ta \fBPIN\fR. This
must be used \fIWITH\fR \fB\-\-pin\fR ta supply tha oldschool PIN number.

.SH BEARER OPTIONS
All bearer options require tha \fB\-\-bearer\fR or \fB\-b\fR option.

.TP
.B \-c, \-\-connect
Connect ta a given bearer.
.TP
.B \-x, \-\-disconnect
Disconnect from a given bearer.

.SH SMS OPTIONS
All SMS options require tha \fB\-\-sms\fR or \fB\-s\fR option.

.TP
.B \-\-send
Send a SMS.
.TP
.B \-\-store
This option will store tha SMS up in tha default storage defined by the
modem, which may be either modem-memory or SMS-memory. To know what
the existin default storage is, peep tha \fB\-\-messaging\-status\fR
option.

.TP
.B \-\-store\-in\-storage=STORAGE
This option states which \fBSTORAGE\fR ta use fo' SMS lyrics.
Possible joints fo' \fBSTORAGE\fR include:
.RS 9
.TP
\fB'sm'\fR
SIM card storage area.
.TP
\fB'me'\fR
Mobile shiznit storage area.
.TP
\fB'mt'\fR
Sum of SIM n' Mobile shiznit storages
.TP
\fB'sr'\fR
Status report message storage area.
.TP
\fB'bm'\fR
Broadcast message storage area.
.TP
\fB'ta'\fR
Terminal adaptor message storage area.
.RE
.TP
.B \-\-create\-file\-with\-data\=PATH
This option takes a SMS dat has \fIDATA\fR (not \fITEXT\fR) n' will
create a local file busted lyrics bout by \fBPATH\fR n' store tha content of
the SMS there.

.SH APPLICATION OPTIONS
.TP
.B \-v, \-\-verbose
Perform actions wit mo' details reported and/or logged.
.TP
.B \-V, \-\-version
Returns tha version of dis program.
.TP
.B \-a, \-\-async
Use asynchronous methods. This is purely a thugged-out pimpment tool n' has no
practical benefit ta most user operations.
.TP
.B \-\-timeout=SECONDS
Use \fBSECONDS\fR fo' tha timeout when struttin operations wit this
command. Y'all KNOW dat shit, muthafucka! This option is useful when executin long hustlin operations, like
\-\-3gpp\-scan.

.SH EXAMPLES
.SS Send tha PIN ta tha SIM card

You'll need first ta know which tha proper path/index is fo' tha SIM up in your
modem:
.Bd -literal -compact
    $ mmcli -m 0 | grep SIM
    SIM | path: '/org/freedesktop/ModemManager1/SIM/0'
.Ed

And afta that, you can just use tha SIM index:
.Bd -literal -compact
    $ mmcli -i 0 --pin=1234
    successfully busted PIN code ta tha SIM
.Ed

.SS Simple connect n' disconnect

Yo ass can launch tha simple connection process like:
.Bd -literal -compact
    $ mmcli -m 0 --simple-connect="pin=1234,apn=internet"
    successfully connected tha modem
.Ed

Then, you can disconnect it like:
.Bd -literal -compact
    $ mmcli -m 0 --simple-disconnect
    successfully disconnected all bearers up in tha modem
.Ed

.SS 3GPP network scan

Scannin fo' 3GPP networks may straight-up take a long-ass time, so a specific timeout
must be given:
.Bd -literal -compact
    $ mmcli -m 0 --3gpp-scan --timeout=300

    Found 4 networks:
    21404 - Yoigo (umts, available)
    21407 - Movistar (umts, current)
    21401 - vodafone ES (umts, forbidden)
    21403 - Orange (umts, forbidden)
.Ed

.SS Creatin a freshly smoked up SMS message & storin it

Usin tha “sm” (SIM), you can do dis using:

.Bd -literal -compact
    $ mmcli -m 0 --messaging-create-sms="text='Wuz crackalackin' ghetto',number='+1234567890'"
    Successfully pimped freshly smoked up SMS:
        /org/freedesktop/ModemManager1/SMS/21 (unknown)

    $ sudo mmcli -s 21 --store-in-storage="sm"
    successfully stored tha SMS

    $ sudo mmcli -s 21
    SMS '/org/freedesktop/ModemManager1/SMS/21'
      -----------------------------------
      Content    |              number: '+1234567890'
                 |                text: 'Wuz crackalackin' ghetto'
      -----------------------------------
      Propertizzles |            PDU type: 'submit'
                 |               state: 'stored'
                 |                smsc: 'unknown'
                 |            validity: '0'
                 |               class: '0'
                 |             storage: 'sm'
                 |     delivery report: 'not requested'
                 |   message reference: '0'

    $ sudo mmcli -m 0 --messaging-status
    /org/freedesktop/ModemManager1/Modem/0
      ----------------------------
      Messagin | supported storages: 'sm, me'
                |    default storage: 'me'
.Ed

.SS Sendin SMS lyrics from files

As you can peep below, tha blingin part is the
\fB\-\-messaging\-create\-sms\-with\-data\fR n' tha \fBPATH\fR provided.

.Bd -literal -compact
    $ sudo mmcli -m 0 \\
           --messaging-create-sms="number='+1234567890'" \\
           --messaging-create-sms-with-data=/path/to/your/file
    Successfully pimped freshly smoked up SMS:
        /org/freedesktop/ModemManager1/SMS/22 (unknown)

    $ sudo mmcli -s 22 --send
    successfully busted tha SMS
.Ed

.SS Listin SMS lyrics

When tha receiver gets all tha partz of tha message, they can now
recover tha busted file wit another \fBmmcli\fR command up in their
ModemManager setup:

.Bd -literal -compact
    $> sudo mmcli -m 0 --messaging-list-sms
    Found 1 SMS lyrics:
        /org/freedesktop/ModemManager1/SMS/0 (received)

    $> sudo mmcli -s 0 --create-file-with-data=/path/to/the/output/file
.Ed

.SS GPS location status

Yo ass first need ta check whether tha modem has GPS-specific location
capabilities. Put ya muthafuckin choppers up if ya feel dis! Note dat we’ll assume tha modem is exposed as index 0;
if you have mo' than one modem, just use --list-modems ta check the
proper modem index:

.Bd -literal -compact
    $ mmcli -m 0 --location-status
    /org/freedesktop/ModemManager1/Modem/0
      ----------------------------
      Location | capabilities: '3gpp-lac-ci, gps-raw, gps-nmea'
               |      enabled: 'none'
               |      signals: 'no'
.Ed

Da output say dat tha modem supports 3GPP Location area code/Cell
ID, GPS raw n' GPS-NMEA location sources. None is enabled yet, as we
didn’t enable tha modem, which we can do issuing:

.Bd -literal -compact
    $ sudo mmcli -m 0 --enable
    successfully enabled tha modem

    $ mmcli -m 0 --location-status
    /org/freedesktop/ModemManager1/Modem/0
      ----------------------------
      Location | capabilities: '3gpp-lac-ci, gps-raw, gps-nmea'
               |      enabled: '3gpp-lac-ci'
               |      signals: 'no'
.Ed

.SS GPS location technologizzle enabling

We can enable tha RAW n' NMEA GPS location sources using:

.Bd -literal -compact
    $ sudo mmcli -m 0 \\
                 --location-enable-gps-raw \\
                 --location-enable-gps-nmea
    successfully setup location gathering
.Ed

If our phat asses do check again n' again n' again tha status, we’ll peep tha GPS-specific locations is enabled:

.Bd -literal -compact
    $ mmcli -m 0 --location-status
    /org/freedesktop/ModemManager1/Modem/0
      ----------------------------
      Location | capabilities: '3gpp-lac-ci, gps-raw, gps-nmea'
               |      enabled: '3gpp-lac-ci, gps-raw, gps-nmea'
               |      signals: 'no'
.Ed

.SS GPS location retrieval

Yo ass can query location source specific shiznit with
\fB\-\-location\-get\-3gpp\fR, \fB\-\-location\-get\-gps\-nmea\fR and
\fB\-\-location\-get\-gps\-raw\fR; but also fo' all all up in tha same time:

.Bd -literal -compact
    $ sudo mmcli -m 0 --location-get
    /org/freedesktop/ModemManager1/Modem/0
      -------------------------
      3GPP location   | Mobile ghetto code: '214'
                      | Mobile network code: '3'
                      |  Location area code: '21071'
                      |             Cell ID: '7033737'
      -------------------------
      GPS NMEA traces | $GPGGA,,,,,,0,,,,,,,,*66
                      | $GPRMC,,V,,,,,,,,,,N*53
                      | $GPGSA,A,1,,,,,,,,,,,,,,,*1E
                      | $GPGSV,4,1,16,24,,,,29,,,,05,,,,18,,,*7A
                      | $GPGSV,4,2,16,22,,,,14,,,,11,,,,17,,,*7B
                      | $GPGSV,4,3,16,03,,,,12,,,,30,,,,13,,,*78
                      | $GPGSV,4,4,16,23,,,,15,,,,27,,,,07,,,*79
                      | $GPVTG,,T,,M,,N,,K,N*2C
      -------------------------
      Raw GPS         | Not available
      -------------------------
      CDMA BS         | Not available
.Ed

An example of RAW GPS location shiznit:

.Bd -literal -compact
    $ sudo mmcli -m 0 --location-get-gps-raw
    /org/freedesktop/ModemManager1/Modem/0
      -------------------------
      Raw GPS         |  UTC time: '155142.2'
                      | Longitude: '-3.513941'
                      |  Latitude: '40.502603'
                      |  Altitude: '18.000000'
.Ed

.SH AUTHOR
Martyn Russell <martyn@lanedo.com>

.SH SEE ALSO
\fBModemManager\fR(8), \fBNetworkManager\fR(8)

AT (http://en.wikipedia.org/wiki/AT_commands).

3GPP (http://en.wikipedia.org/wiki/3GPP).

MCCMNC (http://en.wikipedia.org/wiki/Mobile_Network_Code).

USSD (http://en.wikipedia.org/wiki/Unstructured_Supplementary_Service_Data).

CDMA (http://en.wikipedia.org/wiki/Code_division_multiple_access).

OTA (http://en.wikipedia.org/wiki/Over-the-air_programming).

GPS (http://en.wikipedia.org/wiki/Global_Positioning_System)

NMEA (http://en.wikipedia.org/wiki/NMEA_0183)
