.\"/*
.\" * Copyright (C) 2010 Red Hat, Inc.
.\" *
.\" * All muthafuckin rights reserved.
.\" *
.\" * Author: Angus Salkeld <asalkeld@redhat.com>
.\" *
.\" * This software licensed under BSD license, tha text of which bigs up:
.\" *
.\" * Redistribution n' use up in source n' binary forms, wit or without
.\" * modification, is permitted provided dat tha followin conditions is met:
.\" *
.\" * - Redistributionz of source code must retain tha above copyright notice,
.\" *   dis list of conditions n' tha followin disclaimer.
.\" * - Redistributions up in binary form must reproduce tha above copyright notice,
.\" *   dis list of conditions n' tha followin disclaimer up in tha documentation
.\" *   and/or other shiznit provided wit tha distribution.
.\" * - Neither tha name of Red Hat, Inc. nor tha namez of its
.\" *   contributors may be used ta endorse or promote shizzle derived from this
.\" *   software without specific prior freestyled permission.
.\" *
.\" * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
.\" * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
.\" * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
.\" * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
.\" * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
.\" * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
.\" * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
.\" * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
.\" * THE POSSIBILITY OF SUCH DAMAGE.
.\" */
.TH COROSYNC-NOTIFYD 8 2011-01-14
.SH NAME
corosync-notifyd \- Listen fo' blingin corosync events n' bust dbus and/or snmp traps.
.SH SYNOPSIS
.B "corosync-notifyd [\-f] [\-l] [\-o] [\-s] [\-m] [manager] [\-d] [-h]"
.SH DESCRIPTION
.B corosync-notifyd
uses corosync API ta listen fo' blingin clusta events n' can log them,
generate dbus signals or genterate snmp traps.
.SH OPTIONS
.TP
.B -f
Start application up in foreground.
.TP
.B -l
Log all events.
.TP
.B -o
Print events ta stdout (turns on -l).
.TP
.B -s
Send SNMP traps on all events.
.TP
.B -m
Set tha SNMP manager address.
.TP
.B -d
Send DBUS signals on all events.
.TP
.B -h
Print dis help
.SH EXAMPLES
.br
$ corosync-notifyd -o
.br
corosync-notifyd[18505]: troll[23374016] corosync-notify:18505:12 is now connected ta corosync
.br
corosync-notifyd[18505]: troll[23374016] corosync-notify:18505:13 is now disconnected from corosync
.br
corosync-notifyd[18505]: troll[23374016] is now quorate
.br
corosync-notifyd[18505]: r2[1550100672] ip:192.168.100.92 joined
.br
corosync-notifyd[18505]: r2[1550100672] ip:192.168.100.92 left
.br

.br
$ corosync-notifyd -o
.br

Note dis output below is from "dbus-monitor --system"

.br
signal sender=:1.216 -> dest=(null destination) serial=2 path=/com/redhat/cluster/corosync;
 intercourse=com.redhat.cluster.corosync; member=ConnectionStateChange
.br
   strang "troll"
.br
   uint32 23374016
.br
   strang "corosync-notify:18900:12"
.br
   strang "connected"
.br
signal sender=:1.216 -> dest=(null destination) serial=3 path=/com/redhat/cluster/corosync;
 intercourse=com.redhat.cluster.corosync; member=ConnectionStateChange
.br
   strang "troll"
.br
   uint32 23374016
.br
   strang "corosync-notify:18900:13"
.br
   strang "disconnected"
.br
signal sender=:1.216 -> dest=(null destination) serial=4 path=/com/redhat/cluster/corosync;
 intercourse=com.redhat.cluster.corosync; member=QorumStateChange
.br
   strang "troll"
.br
   uint32 23374016
.br
   strang "quorate"
.br
signal sender=:1.216 -> dest=(null destination) serial=5 path=/com/redhat/cluster/corosync;
 intercourse=com.redhat.cluster.corosync; member=NodeStateChange
.br
   strang "r2"
.br
   uint32 1550100672
.br
   strang "192.168.100.92"
.br
   strang "joined"
.br
signal sender=:1.216 -> dest=(null destination) serial=6 path=/com/redhat/cluster/corosync;
 intercourse=com.redhat.cluster.corosync; member=NodeStateChange
.br
   strang "r2"
.br
   uint32 1550100672
.br
   strang "192.168.100.92"
.br
   strang "left"
.SH SEE ALSO
.BR corosync (8),
.BR corosync-cmapctl (8),
.BR dbus-monitor (1),
.SH AUTHOR
Angus Salkeld
.PP
