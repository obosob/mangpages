.TH xfs_metadump 8
.SH NAME
xfs_metadump \- copy XFS filesystem metadata ta a gangbangin' file
.SH SYNOPSIS
.B xfs_metadump
[
.B \-efFgow
] [
.B \-m
.I max_extents
]
] [
.B \-l
.I logdev
]
.I source
.I target
.br
.B xfs_metadump \-V
.SH DESCRIPTION
.B xfs_metadump
is a thugged-out debuggin tool dat copies tha metadata from a XFS filesystem ta a gangbangin' file.
The
.I source
argument must be tha pathname of tha thang or file
containin tha XFS filesystem n' the
.I target
argument specifies tha destination file name.
If
.I target
is \-, then tha output is busted ta stdout. This allows tha output ta be
repimped up ta another program like fuckin a cold-ass lil compression application.
.PP
.B xfs_metadump
may only be used ta copy unmounted filesystems, or read-only mounted
filesystems.
.PP
.B xfs_metadump
does not alta tha source filesystem up in any way. The
.I target
image be a cold-ass lil contiguous (non-sparse) file containin all the
filesystemz metadata n' indexes ta where tha blocks was copied from.
.PP
By default,
.B xfs_metadump
obfuscates most file (regular file, directory n' symbolic link) names
and extended attribute names ta allow tha dumps ta be busted without
revealin confidential shiznit. I aint talkin' bout chicken n' gravy biatch. Extended attribute joints is zeroed
and no data is copied. Y'all KNOW dat shit, muthafucka! Da only exceptions is file or attribute names
that is 4 or less charactas up in length fo' realz. Also file names dat span extents
(this can only occur wit the
.BR mkfs.xfs (8)
options where
.B \-n
.I size
>
.B \-b
.IR size )
are not obfuscated. Y'all KNOW dat shit, muthafucka! This type'a shiznit happens all tha time. Names between 5 n' 8 charactas up in length inclusively
are partially obfuscated.
.PP
.B xfs_metadump
should not be used fo' any purposes other than fo' debuggin n' reporting
filesystem problems. Da most common usage scenario fo' dis tool is when
.BR xfs_repair (8)
fails ta repair a gangbangin' filesystem n' a metadump image can be busted for
analysis.
.PP
Da file generated by
.B xfs_metadump
can be restored ta filesystem image (minus tha data) rockin the
.BR xfs_mdrestore (8)
tool.
.PP
.SH OPTIONS
.TP
.B \-e
Stops tha dump on a read error. Shiiit, dis aint no joke. Normally, it will ignore read errors n' copy
all tha metadata dat be accessible.
.TP
.B \-f
Specifies dat tha filesystem image ta be processed is stored up in a regular file
(see the
.B mkfs.xfs -d
file option). This can also happen if a image copy of a gangbangin' filesystem has
been made tha fuck into a ordinary file with
.BR xfs_copy (8).
.TP
.B \-F
Specifies dat we wanna continue even if tha superblock magic aint erect.
If tha source is truly not a XFS filesystem, tha resultin image is ghon be useless,
and xfs_metadump may crash.
.TP
.B \-g
Shows dump progress. This is busted ta stdout if the
.I target
is a gangbangin' file or ta stderr if the
.I target
is stdout.
.TP
.BI \-l " logdev"
For filesystems which use a external log, dis specifies tha thang where the
external log resides. Da external log aint copied, only internal logs are
copied.
.TP
.B \-m
Set tha maximum size of a allowed metadata extent.  Extremely big-ass metadata
extents is likely ta be corrupt, n' is ghon be skipped if they exceed
this value.  Da default size is 1000 blocks.
.TP
.B \-o
Disablez obfuscation of file names n' extended attributes.
.TP
.B \-w
Prints warningz of inconsistent metadata encountered ta stderr. Shiiit, dis aint no joke. Wack metadata
is still copied.
.TP
.B \-V
Prints tha version number n' exits.
.SH DIAGNOSTICS
.B xfs_metadump
returns a exit code of 0 if all readable metadata is successfully copied or
1 if a write error occurs or a read error occurs n' the
.B \-e
option used.
.SH NOTES
As
.B xfs_metadump
copies metadata only, it do not matta if the
.I source
filesystem has a realtime section or not. If tha filesystem has a external
log, it aint copied. Y'all KNOW dat shit, muthafucka! Internal logs is copied n' any outstandin log
transactions is not obfuscated if they contain names.
.PP
.B xfs_metadump
is a gangbangin' finger-lickin' dirty-ass shell wrapper round the
.BR xfs_db (8)
.B metadump
command.
.SH SEE ALSO
.BR xfs_repair (8),
.BR xfs_mdrestore (8),
.BR xfs_freeze (8),
.BR xfs_db (8),
.BR xfs_copy (8),
.BR xfs (5)
.SH BUGS
Email bug reports to
.BR xfs@oss.sgi.com .
