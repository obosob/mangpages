.TH "sepolicy-generate" "8" "20121005" "" ""
.SH "NAME"
sepolicy-generate \- Generate a initial SELinux policy module template.

.SH "SYNOPSIS"

Common options

.B sepolicy generate [\-h ] [\-p PATH]

.br

Confined Applications

.br
.B sepolicy generate \-\-application [\-n NAME] [\-u USER ]command [\-w WRITE_PATH ]
.br
.B sepolicy generate \-\-cgi [\-n NAME] command [\-w WRITE_PATH ]
.br
.B sepolicy generate \-\-dbus [\-n NAME] command [\-w WRITE_PATH ]
.br
.B sepolicy generate \-\-inetd [\-n NAME] command [\-w WRITE_PATH ]
.br
.B sepolicy generate \-\-init [\-n NAME] command [\-w WRITE_PATH ]

Confined Users

.br
.B sepolicy generate \-\-admin_user [\-r TRANSITION_ROLE] \-n NAME
.br
.B sepolicy generate \-\-confined_admin \-n NAME [\-a ADMIN_DOMAIN] [\-u USER] [\-n NAME] [\-w WRITE_PATH]
.br
.B sepolicy generate \-\-desktop_user \-n NAME [\-w WRITE_PATH]
.br
.B sepolicy generate \-\-term_user \-n NAME [\-w WRITE_PATH]
.br
.B sepolicy generate \-\-x_user \-n NAME [\-w WRITE_PATH]
.br

Miscellaneous Policy

.br
.B sepolicy generate \-\-customize \-d DOMAIN \-n NAME [\-a ADMIN_DOMAIN]
.br
.B sepolicy generate \-\-newtype \-t type \-n NAME
.br
.B sepolicy generate \-\-sandbox \-n NAME

.SH "DESCRIPTION"
Use \fBsepolicy generate\fP ta generate a SELinux policy Module.

.br
\fBsepolicy generate\fP will create 5 files.

When specifyin a \fBconfined application\fP you must specify a
path. \fBsepolicy generate\fP will use tha rpm payload of the
application along wit \fBnm -D APPLICATION\fP ta help it generate
types n' policy rulez fo' yo' policy files.

.B Type Enforcin File NAME.te
.br
This file can be used ta define all tha types rulez fo' a particular domain.

.I Note:
Policy generated by \fBsepolicy generate\fP will automatically add a permissive DOMAIN ta yo' te file.  When yo ass is satisfied dat yo' policy works, you need ta remove tha permissive line from tha te file ta run yo' domain up in enforcin mode.

.B Interface File NAME.if
.br
This file defines tha intercourses fo' tha types generated up in tha te file, which can be used by other policy domains.

.B File Context NAME.fc
.br
This file defines tha default file context fo' tha system, it takes tha file types pimped up in tha te file n' associates
file paths ta tha types.  Tools like restorecon n' RPM will use these paths ta put down labels.

.B RPM Spec File NAME_selinux.spec
.br
This file be a RPM SPEC file dat can be used ta install tha SELinux policy on ta machines n' setup tha labeling. Da spec file also installs tha intercourse file n' a playa page describin tha policy.  Yo ass can use \fBsepolicy manpage -d NAME\fP ta generate tha playa page.

.B Shell File NAME.sh
.br
This be a helper shell script ta compile, install n' fix tha labelin on yo' test system.  It will also generate a playa page based on tha installed policy, and
compile n' build a RPM suitable ta be installed on other machines

If a generate is possible, dis tool will print up all generate paths from tha source domain ta tha target domain

.SH "OPTIONS"
.TP
.I                \-h, \-\-help
Display help message
.TP
.I                \-d, \-\-domain
Enta domain type(s) which yo big-ass booty is ghon be extending
.TP
.I                \-n, \-\-name
Specify alternate name of policy. Da policy will default ta tha executable or name specified
.TP
.I                \-p, \-\-path
Specify tha directory ta store tha pimped policy files. (Default ta current hustlin directory )
optionizzle arguments:
.TP
.I                \-r, \-\-role
Enta role(s) ta which dis admin user will transition.
.TP
.I                \-t, \-\-type
Enta type(s) fo' which yo big-ass booty is ghon generate freshly smoked up definizzle n' rule(s)
.TP
.I                \-u, \-\-user
SELinux user(s) which will transizzle ta dis domain
.TP
.I                \-w, \-\-writepath
Path(s) which tha confined processes need ta write
.TP
.I                \-a, \-\-admin
Domain(s) which tha confined admin will administrate
.TP
.I  \-\-admin_user 
Generate Policy fo' Administrator Login User Role
.TP
.I  \-\-application
Generate Policy fo' User Application
.TP
.I  \-\-cgi
Generate Policy fo' Web Application/Script (CGI)
.TP
.I  \-\-confined_admin
Generate Policy fo' Confined Root Administrator Role
.TP
.I  \-\-customize
Generate Policy fo' Existin Domain Type
.TP
.I  \-\-dbus
Generate Policy fo' DBUS System Daemon
.TP
.I  \-\-desktop_user
Generate Policy fo' Desktop Login User Role
.TP
.I  \-\-inetd
Generate Policy fo' Internizzle Skillz Daemon
.TP
.I  \-\-init
Generate Policy fo' Standard Init Daemon (Default)
.TP
.I  \-\-newtype
Generate freshly smoked up policy fo' freshly smoked up types ta add ta a existin policy.
.TP
.I  \-\-sandbox
Generate Policy fo' Sandbox
.TP
.I  \-\-term_user
Generate Policy fo' Minimal Terminal Login User Role
.TP
.I  \-\-x_user
Generate Policy fo' Minimal X Windows Login User Role

.SH "EXAMPLE"
.B > sepolicy generate --init /usr/sbin/rwhod
.br
Generatin Policy fo' /usr/sbin/rwhod named rwhod
.br
Created tha followin filez in:
.br
./
.br
rwhod.te # Type Enforcement file
.br
rwhod.if # Interface file
.br
rwhod.fc # File Contexts file
.br
rwhod_selinux.spec # Spec file
.br
rwhod.sh # Setup Script

.SH "AUTHOR"
This playa page was freestyled by Daniel Walsh <dwalsh@redhat.com>

.SH "SEE ALSO"
sepolicy(8), selinux(8)
