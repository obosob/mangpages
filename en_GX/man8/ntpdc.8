.TH ntpdc 8
.SH NAME
ntpdc - special NTP query program
.SH \ 

.SH SYNOPSIS
\fBntpdc [ -46dilnps ] [ -c \fIcommand\fB ] [ \fIhost\fB ] [ ... ]\fR

.SH DESCRIPTION

\fBntpdc\fR is used ta query tha \fBntpd\fR daemon bout its current state n' ta request chizzlez up in dat state. Da program may be run either up in interactizzle mode or controlled rockin command line arguments, n' you can put dat on yo' toast. Extensive state n' statistics shiznit be available all up in tha \fBntpdc\fR intercourse. In addition, nearly all tha configuration options which can be specified at startup rockin ntpdz configuration file may also be specified at run time rockin \fBntpdc\fR\[char46]

If one or mo' request options is included on tha command line when \fBntpdc\fR is executed, each of tha requests is ghon be busted ta tha NTP servers hustlin on each of tha hosts given as command line arguments, or on localhost by default. If no request options is given, \fBntpdc\fR will attempt ta read commandz from tha standard input n' execute these on tha NTP server hustlin on tha straight-up original gangsta host given on tha command line, again n' again n' again defaultin ta localhost when no other host is specified. Y'all KNOW dat shit, muthafucka! \fBntpdc\fR will prompt fo' commandz if tha standard input be a terminal device.

\fBntpdc\fR uses NTP mode 7 packets ta rap wit tha NTP server, n' hence can be used ta query any compatible server on tha network which permits dat shit. Note dat since NTP be a UDP protocol dis communication is ghon be somewhat unreliable, especially over big-ass distances up in termz of network topology. \fBntpdc\fR make no attempt ta retransmit requests, n' will time requests up if tha remote host aint heard from within a suitable timeout time.

Da operation of \fBntpdc\fR is specific ta tha particular implementation of tha \fBntpd\fR daemon n' can be sposed ta fuckin work only wit dis n' maybe some previous versionz of tha daemon. I aint talkin' bout chicken n' gravy biatch. Requests from a remote \fBntpdc\fR program which affect tha state of tha local server must be authenticated, which requires both tha remote program n' local server share a cold-ass lil common key n' key identifier.

Note dat up in contexts where a host name is expected, a \fB-4\fR qualifier precedin tha host name forces DNS resolution ta tha IPv4 namespace, while a \fB-6\fR qualifier forces DNS resolution ta tha IPv6 namespace.

.SH COMMAND LINE OPTIONS

Specifyin a cold-ass lil command line option other than \fB-i\fR or \fB-n\fR will cause tha specified query (queries) ta be busted ta tha indicated host(s) immediately. Otherwise, \fBntpdc\fR will attempt ta read interactizzle format commandz from tha standard input.

.RS 0
.TP 8
\fB-4\fR
Force DNS resolution of followin host names on tha command line ta tha IPv4 namespace. 
.TP 8
\fB-6\fR
Force DNS resolution of followin host names on tha command line ta tha IPv6 namespace. 
.TP 8
\fB-c \fIcommand\fB\fR
Da followin argument is interpreted as a interactizzle format command n' be added ta tha list of commandz ta be executed on tha specified host(s). Multiple -c options may be given. I aint talkin' bout chicken n' gravy biatch. 
.TP 8
\fB-d\fR
Turn on debuggin mode. 
.TP 8
\fB-i\fR
Force \fBntpdc\fR ta operate up in interactizzle mode. Prompts is ghon be freestyled ta tha standard output n' commandz read from tha standard input. 
.TP 8
\fB-l\fR
Obtain a list of peers which is known ta tha server(s). This switch is equivalent ta \fB-c listpeers\fR\[char46] 
.TP 8
\fB-n\fR
Output all host addresses up in dotted-quad numeric format rather than convertin ta tha canonical host names. 
.TP 8
\fB-p\fR
Print a list of tha peers known ta tha server as well as a summary of they state. This is equivalent ta \fB-c peers\fR\[char46] 
.TP 8
\fB-s\fR
Print a list of tha peers known ta tha server as well as a summary of they state yo, but up in a slightly different format than tha -p switch. This is equivalent ta \fB-c dmpeers\fR\[char46] 
.RE

.SH INTERACTIVE COMMANDS

Interactizzle format commandz consist of a keyword followed by zero ta four arguments, n' you can put dat on yo' toast. Only enough charactaz of tha full keyword ta uniquely identify tha command need be typed. Y'all KNOW dat shit, muthafucka! Da output of a cold-ass lil command is normally busted ta tha standard output yo, but optionally tha output of individual commandz may be busted ta a gangbangin' file by appendin a \fB<\fR, followed by a gangbangin' file name, ta tha command line.

A number of interactizzle format commandz is executed entirely within tha \fBntpdc\fR program itself n' do not result up in NTP mode 7 requests bein busted ta a server n' shit. These is busted lyrics bout following.

.RS 0
.TP 8
\fB, biatch? [ \fIcommand_keyword\fB ]\fR
.TP 8
\fBhelp [ \fIcommand_keyword\fB ]\fR
A \fB?\fR by itself will print a list of all tha command keywordz known ta dis incarnation of \fBntpq\fR\[char46] A \fB?\fR followed by a cold-ass lil command keyword will print function n' usage shiznit bout tha command. Y'all KNOW dat shit, muthafucka! This command is probably a funky-ass betta source of shiznit bout \fBntpq\fR than dis manual page. 
.TP 8
\fBdelay \fImilliseconds\fB\fR
Specify a time interval ta be added ta timestamps included up in requests which require authentication. I aint talkin' bout chicken n' gravy biatch. This is used ta enable (unreliable) server reconfiguration over long delay network paths or between machines whose clocks is unsynchronized. Y'all KNOW dat shit, muthafucka! Actually tha server do not now require timestamps up in authenticated requests, so dis command may be obsolete. 
.TP 8
\fBhost \fIhostname\fB\fR
Set tha host ta which future queries is ghon be sent yo. Hostname may be either a host name or a numeric address. 
.TP 8
\fBhostnames [ yeaaaa | no ]\fR
If \fByes\fR is specified, host names is printed up in shiznit displays. If \fBno\fR is specified, numeric addresses is printed instead. Y'all KNOW dat shit, muthafucka! Da default is \fByes\fR, unless modified rockin tha command line \fB-n\fR switch. 
.TP 8
\fBkeyid \fIkeyid\fB\fR
This command allows tha justification of a key number ta be used ta authenticate configuration requests from ntpdc ta tha host(s). This must correspond ta a key number which tha host/server has been configured ta use fo' dis purpose (server options: \fBtrustedkey\fR, n' \fBrequestkey\fR). If authentication aint enabled on tha host(s) fo' ntpdc commands, tha command \fB"keyid 0"\fR should be given; otherwise tha \fIkeyid\fR of tha next subsequent \fBaddpeer/addserver/broadcast \fR command is ghon be used. Y'all KNOW dat shit, muthafucka! 
.TP 8
\fBquit\fR
Exit \fBntpdc\fR\[char46] 
.TP 8
\fBpasswd\fR
This command prompts you ta type up in a password (which aint gonna be echoed) which is ghon be used ta authenticate configuration requests, n' you can put dat on yo' toast. Da password must correspond ta tha key configured fo' use by tha NTP server fo' dis purpose if such requests is ta be successful naaahhmean, biatch? 
.TP 8
\fBtimeout \fImilliseconds\fB\fR
Specify a timeout period fo' responses ta server queries. Put ya muthafuckin choppers up if ya feel dis! Da default be bout 8000 milliseconds. Note dat since \fBntpdc\fR retries each query once afta a timeout, tha total waitin time fo' a timeout is ghon be twice tha timeout value set. 
.RE

.SH CONTROL MESSAGE COMMANDS

Query commandz result up in NTP mode 7 packets containin requests fo' shiznit bein busted ta tha server n' shit. These is read-only commandz up in dat they make no modification of tha server configuration state.

.RS 0
.TP 8
\fBlistpeers\fR
Obtains n' prints a funky-ass brief list of tha peers fo' which tha server is maintainin state. These should include all configured peer associations as well as dem peers whose stratum is such dat they is considered by tha server ta be possible future synchronization muthafuckas. 
.TP 8
\fBpeers\fR
Obtains a list of peers fo' which tha server is maintainin state, along wit a summary of dat state. Right back up in yo muthafuckin ass. Summary shiznit includes tha address of tha remote peer, tha local intercourse address (0.0.0.0 if a local address has yet ta be determined), tha stratum of tha remote peer (a stratum of 16 indicates tha remote peer is unsynchronized), tha pollin interval, up in seconds, tha reachabilitizzle register, up in octal, n' tha current estimated delay, offset n' dispersion of tha peer, all up in seconds. 
Da characta up in tha left margin indicates tha mode dis peer entry is operatin in. I aint talkin' bout chicken n' gravy biatch fo' realz. A \fB+\fR denotes symmetric active, a \fB-\fR indicates symmetric passive, a \fB=\fR means tha remote server is bein polled up in client mode, a \fB^\fR indicates dat tha server is broadcastin ta dis address, a \fB~\fR denotes dat tha remote peer is bustin  broadcasts n' a \fB*\fR marks tha peer tha server is currently synchronizin to.

Da contentz of tha host field may be one of four forms. Well shiiiit, it may be a host name, a IP address, a reference clock implementation name wit its parameta or \fBREFCLK(\fIimplementation number\fB, \fIparameter\fB)\fR\[char46] On \fBhostnames no\fR only IP-addresses is ghon be displayed.

.TP 8
\fBdmpeers\fR
A slightly different peer summary list. Identical ta tha output of tha \fBpeers\fR command, except fo' tha characta up in tha leftmost column. I aint talkin' bout chicken n' gravy biatch. Charactas only step tha fuck up beside peers which was included up in tha final stage of tha clock selection algorithm fo' realz. A \fB\[char46]\fR indicates dat dis peer was cast off up in tha falseticker detection, while a \fB+\fR indicates dat tha peer juiced it up all up in cause I gots dem finger-lickin' chickens wit tha siz-auce fo' realz. A \fB*\fR denotes tha peer tha server is currently synchronizin with. 
.TP 8
\fBshowpeer \fIpeer_address\fB [...]\fR
Shows a thugged-out detailed display of tha current peer variablez fo' one or mo' peers. Most of these joints is busted lyrics bout up in tha NTP Version 2 justification. I aint talkin' bout chicken n' gravy biatch. 
.TP 8
\fBpstats \fIpeer_address\fB [...]\fR
Show per-peer statistic countas associated wit tha specified peer(s). 
.TP 8
\fBclockinfo \fIclock_peer_address\fB [...]\fR
Obtain n' print shiznit concernin a peer clock. Da joints obtained provide shiznit on tha settin of fudge factors n' other clock performizzle shiznit. I aint talkin' bout chicken n' gravy biatch. 
.TP 8
\fBkerninfo\fR
Obtain n' print kernel phase-lock loop operatin parameters. This shiznit be available only if tha kernel has been specially modified fo' a precision timekeepin function. I aint talkin' bout chicken n' gravy biatch. 
.TP 8
\fBloopinfo [ oneline | multiline ]\fR
Print tha jointz of selected loop filta variables. Da loop filta is tha part of NTP which deals wit adjustin tha local system clock. Da \fBoffset\fR is tha last offset given ta tha loop filta by tha packet processin code. Da \fBfrequency\fR is tha frequency error of tha local clock up in parts-per-mazillion (ppm). Da \fBtime_const\fR controls tha stiffnizz of tha phase-lock loop n' thus tha speed at which it can adapt ta oscillator drift. Da \fBwatchdog timer\fR value is tha number of secondz which have elapsed since tha last sample offset was given ta tha loop filter n' shit. Da \fBoneline\fR n' \fBmultiline\fR options specify tha format up in which dis shiznit is ta be printed, wit \fBmultiline\fR as tha default. 
.TP 8
\fBsysinfo\fR
Print a variety of system state variables, i.e., state related ta tha local server n' shiznit fo' realz. All except tha last four lines is busted lyrics bout up in tha NTP Version 3 justification, RFC-1305. 
Da \fBsystem flags\fR show various system flags, a shitload of which can be set n' cleared by tha \fBenable\fR n' \fBdisable\fR configuration commands, respectively. These is tha \fBauth\fR, \fBbclient\fR, \fBmonitor\fR, \fBpll\fR, \fBpps\fR n' \fBstats\fR flags. Right back up in yo muthafuckin ass. See tha \fBntpd\fR documentation fo' tha meanin of these flags. There is two additionizzle flags which is read only, tha \fBkernel_pll\fR n' \fBkernel_pps\fR\[char46] These flags indicate tha synchronization status when tha precision time kernel modifications is up in use. Da \fBkernel_pll\fR indicates dat tha local clock is bein disciplined by tha kernel, while tha kernel_pps indicates tha kernel discipline is provided by tha PPS signal.

Da \fBstability\fR is tha residual frequency error remainin afta tha system frequency erection be applied n' is intended fo' maintenizzle n' debugging. In most architectures, dis value will initially decrease from as high as 500 ppm ta a nominal value up in tha range .01 ta 0.1 ppm. If it remains high fo' some time afta startin tha daemon, suttin' may be wack wit tha local clock, or tha value of tha kernel variable \fBtick\fR may be incorrect.

Da \fBbroadcastdelay\fR shows tha default broadcast delay, as set by tha \fBbroadcastdelay\fR configuration command.

Da \fBauthdelay\fR shows tha default authentication delay, as set by tha \fBauthdelay\fR configuration command.

.TP 8
\fBsysstats\fR
Print statistics countas maintained up in tha protocol module. 
.TP 8
\fBmemstats\fR
Print statistics countas related ta memory allocation code. 
.TP 8
\fBiostats\fR
Print statistics countas maintained up in tha input-output module. 
.TP 8
\fBtimerstats\fR
Print statistics countas maintained up in tha timer/event queue support code. 
.TP 8
\fBreslist\fR
Obtain n' print tha serverz restriction list. This list is (usually) printed up in sorted order n' may help ta KNOW how tha fuck tha restrictions is applied. Y'all KNOW dat shit, muthafucka! 
.TP 8
\fBifstats\fR
List intercourse statistics fo' intercourses used by ntpd fo' network communication.
.TP 8
\fBifreload\fR
Force rescan of current system intercourses. Outputs intercourse statistics fo' intercourses dat could possibly chizzle. Marks unchanged intercourses wit \[char46], added intercourses wit + n' deleted intercourses wit -\[char46]
.TP 8
\fBmonlist [ \fIversion\fB ]\fR
Obtain n' print traffic counts collected n' maintained by tha monitor facility. Da version number should not normally need ta be specified. Y'all KNOW dat shit, muthafucka! 
.TP 8
\fBclkbug \fIclock_peer_address\fB [...]\fR
Obtain debuggin shiznit fo' a reference clock driver n' shit. This shiznit is provided only by some clock drivers n' is mostly undecodable without a cold-ass lil copy of tha driver source up in hand. Y'all KNOW dat shit, muthafucka! 
.RE

.SH RUNTIME CONFIGURATION REQUESTS

All requests which cause state chizzlez up in tha server is authenticated by tha server rockin a cold-ass lil configured NTP key (the facilitizzle can also be disabled by tha server by not configurin a key). Da key number n' tha correspondin key must also be made known ta \fBntpdc\fR\[char46] This can be done rockin tha keyid n' passwd commands, tha latta of which will prompt all up in tha terminal fo' a password ta use as tha encryption key. Yo ass will also be prompted automatically fo' both tha key number n' password tha last time a cold-ass lil command which would result up in a authenticated request ta tha server is given. I aint talkin' bout chicken n' gravy biatch fo' realz. Authentication not only serves up verification dat tha requesta has permission ta make such chizzlez yo, but also gives a extra degree of protection again n' again n' again transmission errors.

Authenticated requests always include a timestamp up in tha packet data, which is included up in tha computation of tha authentication code. This timestamp is compared by tha server ta its receive time stamp. If they differ by mo' than a lil' small-ass amount tha request is rejected. Y'all KNOW dat shit, muthafucka! This type'a shiznit happens all tha time. This is done fo' two reasons. First, it make simple replay attacks on tha server, by one of mah thugs whoz ass might be able ta overhear traffic on yo' LAN, much mo' difficult. Right back up in yo muthafuckin ass. Second, it make it mo' hard as fuck ta request configuration chizzlez ta yo' server from topologically remote hosts, n' you can put dat on yo' toast. While tha reconfiguration facilitizzle will work well wit a server on tha local host, n' may work adequately between time-synchronized hosts on tha same LAN, it will work straight-up skankyly fo' mo' distant hosts fo' realz. As such, if reasonable passwordz is chosen, care is taken up in tha distribution n' protection of keys n' appropriate source address restrictions is applied, tha run time reconfiguration facilitizzle should provide a adequate level of security.

Da followin commandz all make authenticated requests.

.RS 0
.TP 8
\fBaddpeer \fIpeer_address\fB [ \fIkeyid\fB ] [ \fIversion\fB ] [ \fBminpoll# | prefer | iburst | burst | minpoll \fIN\fB | \fBmaxpoll\fB \fIN\fB [...] \fB ]\fR
.TP 8
\fBaddpeer \fIpeer_address\fB [ \fBprefer | iburst | burst | minpoll \fIN\fB | \fBmaxpoll\fB \fIN\fB | \fBkeyid\fB\fIN\fB | \fBversion\fB \fIN\fB [...] \fB ]\fR
Add a cold-ass lil configured peer association all up in tha given address n' operatin up in symmetric actizzle mode. Note dat a existin association wit tha same peer may be deleted when dis command is executed, or may simply be converted ta conform ta tha freshly smoked up configuration, as appropriate. If tha \fBkeyid\fR is nonzero, all outgoin packets ta tha remote server gonna git a authentication field attached encrypted wit dis key. If tha value is 0 (or not given) no authentication is ghon be done. If ntpdcs key number has not yet been set (\fIe.g.,\fR by tha keyid command), it is ghon be set ta dis value. Da \fBversion#\fR can be 1 all up in 4 n' defaults ta 3. Da remainin options is either a numeric value fo' \fBminpoll\fR or literals \fBprefer\fR, \fBiburst\fR, \fBburst\fR, \fBminpoll \fR\fIN\fR, \fBkeyid \fR\fIN\fR, \fBversion \fR \fIN\fR, or \fBmaxpoll \fR\fIN\fR (where \fIN\fR be a numeric value), n' have tha action as specified up in tha \fBpeer\fR configuration file command of ntpd. Y'all KNOW dat shit, muthafucka! See tha Server Options page fo' further shiznit. I aint talkin' bout chicken n' gravy biatch. Each flag (or its absence) replaces tha previous setting. Da \fBprefer\fR keyword indicates a preferred peer (and thus is ghon be used primarily fo' clock synchronisation if possible). Da preferred peer also determines tha validitizzle of tha PPS signal - if tha preferred peer is suitable fo' synchronisation so is tha PPS signal. It aint nuthin but tha nick nack patty wack, I still gots tha bigger sack. Da \fBdynamic\fR keyword allows association configuration even when no suitable network intercourse is found at configuration time. Da dynamic intercourse update mechanizzle may complete tha configuration when freshly smoked up intercourses step tha fuck up (e.g. WLAN/PPP intercourses) at a lata time n' thus render tha association operable. 
.TP 8
\fBaddserver \fIpeer_address\fB [ \fIkeyid\fB ] [ \fIversion\fB ] [ \fBminpoll# | prefer | iburst | burst | minpoll \fIN\fB | \fBmaxpoll\fB \fIN\fB [...] \fB ]\fR
.TP 8
\fBaddserver \fIpeer_address\fB [ \fBprefer | iburst | burst | minpoll \fIN\fB | \fBmaxpoll\fB \fIN\fB | \fBkeyid\fB\fIN\fB | \fBversion\fB \fIN\fB [...] \fB ]\fR
Identical ta tha addpeer command, except dat tha operatin mode is client. 
.TP 8
\fBbroadcast \fIpeer_address\fB [ \fIkeyid\fB ] [ \fIversion\fB ] [ \fIprefer\fB ]\fR
Identical ta tha addpeer command, except dat tha operatin mode is broadcast. In dis case a valid non-zero key identifier n' key is required. Y'all KNOW dat shit, muthafucka! Da \fBpeer_address\fR parameta can be tha broadcast address of tha local network or a multicast crew address assigned ta NTP. If a multicast address, a multicast-capable kernel is required. Y'all KNOW dat shit, muthafucka! 
.TP 8
\fBunconfig \fIpeer_address\fB [...]\fR
This command causes tha configured bit ta be removed from tha specified peer(s). In nuff cases dis will cause tha peer association ta be deleted. Y'all KNOW dat shit, muthafucka! This type'a shiznit happens all tha time. When appropriate, however, tha association may persist up in a unconfigured mode if tha remote peer is willin ta continue on up in dis fashion. I aint talkin' bout chicken n' gravy biatch. 
.TP 8
\fBfudge \fIpeer_address\fB [ \fItime1\fB ] [ \fItime2\fB ] [ \fIstratum\fB ] [ \fIrefid\fB ]\fR
This command serves up a way ta set certain data fo' a reference clock. Right back up in yo muthafuckin ass. See tha source listin fo' further shiznit. I aint talkin' bout chicken n' gravy biatch. 
.TP 8
\fBenable [ auth | bclient | calibrate | kernel | monitor | ntp | pps | stats]\fR
.TP 8
\fBdisable [ auth | bclient | calibrate | kernel | monitor | ntp | pps | stats]\fR
These commandz operate up in tha same way as tha \fBenable\fR n' \fBdisable\fR configuration file commandz of \fBntpd\fR\[char46] See tha Miscellaneous Options page fo' further shiznit. I aint talkin' bout chicken n' gravy biatch. 
.TP 8
\fBrestrict \fIaddress mask flag\fB [ \fIflag\fB ]\fR
This command operates up in tha same way as tha \fBrestrict\fR configuration file commandz of \fBntpd\fR\[char46] 
.TP 8
\fBunrestrict \fIaddress mask flag\fB [ \fIflag\fB ]\fR
Unrestrict tha matchin entry from tha restrict list. 
.TP 8
\fBdelrestrict \fIaddress mask [ ntpport ]\fB\fR
Delete tha matchin entry from tha restrict list. 
.TP 8
\fBreadkeys\fR
Causes tha current set of authentication keys ta be purged n' a freshly smoked up set ta be obtained by rereadin tha keys file (which must done been specified up in tha \fBntpd\fR configuration file). This allows encryption keys ta be chizzled without restartin tha server n' shit. 
.TP 8
\fBtrustedkey \fIkeyid\fB [...]\fR
.TP 8
\fBuntrustedkey \fIkeyid\fB [...]\fR
These commandz operate up in tha same way as tha \fBtrustedkey\fR n' \fBuntrustedkey\fR configuration file commandz of \fBntpd\fR\[char46] 
.TP 8
\fBauthinfo\fR
Returns shiznit concernin tha authentication module, includin known keys n' countz of encryptions n' decryptions which done been done. 
.TP 8
\fBtraps\fR
Display tha traps set up in tha server n' shit. Right back up in yo muthafuckin ass. See tha source listin fo' further shiznit. I aint talkin' bout chicken n' gravy biatch. 
.TP 8
\fBaddtrap [ \fIaddress\fB ] [ \fIport\fB ] [ \fIinterface\fB ]\fR
Set a trap fo' asynchronous lyrics. Right back up in yo muthafuckin ass. See tha source listin fo' further shiznit. I aint talkin' bout chicken n' gravy biatch. 
.TP 8
\fBclrtrap [ \fIaddress\fB ] [ \fIport\fB ] [ \fIinterface\fB]\fR
Clear a trap fo' asynchronous lyrics. Right back up in yo muthafuckin ass. See tha source listin fo' further shiznit. I aint talkin' bout chicken n' gravy biatch. 
.TP 8
\fBreset\fR
Clear tha statistics countas up in various modulez of tha server n' shit. Right back up in yo muthafuckin ass. See tha source listin fo' further shiznit. I aint talkin' bout chicken n' gravy biatch. 
.RE

.SH BUGS

\fBntpdc\fR be a cold-ass lil crude hack. Much of tha shiznit it shows is deadly borin n' could only be loved by its implementer n' shit. Da program was designed so dat freshly smoked up (and temporary) features was easy as fuck  ta hack in, at pimped out expense ta tha programz ease of use. Despite this, tha program is occasionally useful.

.SH SEE ALSO

ntpd(8)

Da straight-up legit HTML documentation.

This file was automatically generated from HTML source.

