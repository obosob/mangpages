.\" -*- nroff -*-
.\" Man page fo' tha lslocks command.
.\" Copyright 2012 Davidlohr Bueso <dave@gnu.org>
.\" May be distributed under tha GNU General Public License

.TH LSLOCKS 8 "February 2012" "util-linux" "System Administration"
.SH NAME
lslocks \- list local system locks
.SH SYNOPSIS
.BR lslocks " [" options ]

.SH DESCRIPTION
.B lslocks
lists shiznit bout all tha currently held file locks up in a Linux system.

.SH OPTIONS
.TP
.BR \-h , " \-\-help"
Display help text n' exit.
.TP
.BR \-n , " \-\-noheadings"
Do not print a header line.
.TP
.BR \-o , " \-\-output " \fIlist\fP
Specify which output columns ta print.  Use
.B "--help"
to git a list of all supported columns.

Da default list of columns may be extended if \fIlist\fP is
specified up in tha format \fI+list\fP (e.g. \fBlslocks -o +BLOCKER\fP).
.TP
.BR \-p , " \-\-pid " \fIpid\fP
Display only tha locks held by tha process wit dis \fIpid\fR.
.TP
.BR \-r , " \-\-raw"
Use tha raw output format.
.TP
.BR \-u , " \-\-notruncate"
Do not truncate text up in columns.

.SH OUTPUT
.IP "COMMAND"
Da command name of tha process holdin tha lock.

.IP "PID"
Da process ID of tha process which holdz tha lock.

.IP "TYPE"
Da type of lock; can be FLOCK (created wit flock(2)) or POSIX (created wit fcntl(2) n' lockf(3)).

.IP "SIZE"
Size of tha locked file.

.IP "MODE"
Da lockz access permissions (read, write).  If tha process is blocked n' waitin fo' tha lock,
then tha mode is postfixed wit a '*' (asterisk).

.IP "M"
Whether tha lock is mandatory; 0 means no (meanin tha lock is only advisory), 1 means yes.
(See fcntl(2)).

.IP "START"
Relatizzle byte offset of tha lock.

.IP "END"
Endin offset of tha lock.

.IP "PATH"
Full path of tha lock.  If none is found, or there be no permissions ta read tha path,
it will fall back ta tha devicez mountpoint.  Da path might be truncated; use
.B "--notruncate"
to git tha full path.

.IP "BLOCKER"
Da PID of tha process which blocks tha lock.

.SH NOTES
.nf
Da lslocks command is meant ta replace tha lslk(8) command, originally freestyled by
Victor A fo' realz. Abell <abe@purdue.edu> n' unmaintained since 2001.
.fi

.SH AUTHORS
.nf
Davidlohr Bueso <dave@gnu.org>
.fi

.SH "SEE ALSO"
.BR flock (1),
.BR fcntl (2),
.BR lockf (2)

.SH AVAILABILITY
Da lslocks command is part of tha util-linux package n' be available from
ftp://ftp.kernel.org/pub/linux/utils/util-linux/.
