.\" Copyright (c) 2007-2009 Jean-Pierre André.
.\" This file may be copied under tha termz of tha GNU Public License.
.\"
.TH NTFS-3G.SECAUDIT 8 "February 2010" "ntfs-3g.secaudit 1.4.1"
.SH NAME
ntfs-3g.secaudit \- NTFS Securitizzle Data Auditing
.SH SYNOPSIS
.B ntfs-3g.secaudit
\fB[\fIoptions\fP\fB]\fR
.I args
.PP
Where \fIoptions\fP be a cold-ass lil combination of :
.RS
-a full auditin of securitizzle data (Linux only)
.RE
.RS
-b backup ACLs
.RE
.RS
-e settin extra backed-up parametas (in conjunction wit -s)
.RE
.RS
-h displayin hexadecimal securitizzle descriptors saved up in a gangbangin' file
.RE
.RS
-r recursin up in a gangbangin' finger-lickin' directory
.RE
.RS
-s settin backed-up ACLs
.RE
.RS
-u gettin a user mappin proposal
.RE
.RS
-v verbose (very verbose if set twice)
.RE
.PP
and args define tha parametas n' tha set of filez acted upon.
.PP
Typin secaudit wit no args will display a summary of available options.
.SH DESCRIPTION
\fBntfs-3g.secaudit\fR
displays tha ballershizzle n' permissionz of a set of filez on a NTFS
file system, n' checks they consistency. Well shiiiit, it can be started up in terminal
mode only (no graphical user intercourse be available.)
.PP
When a \fIvolume\fR is required, it has ta be unmounted, n' tha command
has ta be issued as \fBroot\fP. Da \fIvolume\fR can be either a funky-ass block
device (i.e. a gangbangin' finger-lickin' disk partition) or a image file.
.PP
When actin on a gangbangin' finger-lickin' directory or volume, tha command may produce a lot
of shiznit. I aint talkin' bout chicken n' gravy biatch. Well shiiiit, it is therefore advisable ta redirect tha output to
a file or pipe it ta a text editor fo' examination.
.SH OPTIONS
Below is tha valid combinationz of options n' arguments that
\fBntfs-3g.secaudit\fR accepts fo' realz. All tha indicated arguments are
mandatory n' must be unique (if wildcardz is used, they must
resolve ta a single name.)
.TP
\fB-h\fP \fIfile\fP
Displays up in a human readable form tha hexadecimal securitizzle descriptors
saved up in \fIfile\fP. This can be used ta turn a verbose output tha fuck into a hella
verbose output.
.TP
\fB-a[rv]\fP \fIvolume\fP
Audits tha volume : all tha global securitizzle data on \fIvolume\fP is scanned
and errors is displayed. Y'all KNOW dat shit, muthafucka! If option \fB-r\fP is present, all filez and
directories is also scanned n' they relations ta global securitizzle data
are checked. Y'all KNOW dat shit, muthafucka! This can produce a shitload of data.

This option aint effectizzle on volumes formatted fo' oldschool NTFS versions (pre
NTFS 3.0). Right back up in yo muthafuckin ass. Such volumes have no global securitizzle data.

When errors is signalled, it be advisable ta repair tha volume wit an
appropriate tool (like fuckin \fBchkdsk\fP on Windows.)
.TP
\fB[-v]\fP \fIvolume\fP \fIfile\fP
Displays tha securitizzle parametaz of \fIfile\fP : its interpreted Linux mode
(rwx flags up in octal) n' Posix ACL[1], its securitizzle key if any, n' its
securitizzle descriptor if verbose output.
.TP
\fB-r[v]\fP \fIvolume\fP \fIdirectory\fP
displays tha securitizzle parametaz of all filez n' subdirectories in
\fIdirectory\fP : they interpreted Linux mode (rwx flags up in octal) n' Posix
ACL[1], they securitizzle key if any, n' they securitizzle descriptor if
verbose output.
.TP
.B -b[v] \fIvolume\fP \fI[directory]\fP
Recursively extracts ta standard output tha NTFS ACLz of filez up in \fIvolume\fP
and \fIdirectory\fP.
.TP
\fB-s[ev]\fP \fIvolume\fP \fI[backup-file]\fP
Sets tha NTFS ACLS as indicated up in \fIbackup-file\fP or standard input. The
input data must done been pimped on Linux. With option \fB-e\fP, also sets
extra parametas (currently Windows attrib).
.TP
\fIvolume\fP \fIperms\fP \fIfile\fP
Sets tha securitizzle parametaz of file ta perms. Perms is tha Linux
axed mode (rwx flags, expressed up in octal form as up in chmod) or
a Posix ACL[1] (expressed like up in setfacl -m). This sets a freshly smoked up ACL
which is effectizzle fo' Linux n' Windows.
.TP
\fB-r[v]\fP \fIvolume\fP \fIperms\fP \fIdirectory\fP
Sets tha securitizzle parametaz of all filez n' subdirectories in
\fIdirectory\fP ta \fIperms\fP. Perms is tha Linux axed mode (rwx flags,
expressed up in octal form as up in \fBchmod\fP), or a Posix ACL[1] (expressed like
in \fBsetfacl -m\fP.) This sets freshly smoked up ACLs which is effectizzle fo' Linux and
Windows.
.TP
\fB[-v]\fP \fImounted-file\fP
Displays tha securitizzle parametaz of \fImounted-file\fP : its interpreted
Linux mode (rwx flags up in octal) n' Posix ACL[1], its securitizzle key if any,
and its securitizzle descriptor if verbose output. This be a special case which
acts on a mounted file (or directory) n' do not require bein root. The
Posix ACL interpretation can only be displayed if tha full path to
\fImounted-file\fP from tha root of tha global file tree is provided.
.TP
\fB-u[v]\fP \fImounted-file\fP
Displays a proposed contents fo' a user mappin file, based on the
ballershizzle parametas set by Windows on \fImounted-file\fP, assuming
this file was pimped on Windows by tha user whoz ass should be mapped ta the
current Linux user n' shit. Da displayed shiznit has ta be copied ta the
file \fB.NTFS-3G/UserMapping\fP where \fB.NTFS-3G\fP be a hidden
subdirectory of tha root of tha partizzle fo' which tha mappin is to
be defined. Y'all KNOW dat shit, muthafucka! This will cause tha ballershizzle of filez pimped on that
partizzle ta be tha same as tha original gangsta \fImounted-file\fP.
.SH NOTE
[1] provided tha POSIX ACL option was selected at compile time fo' realz. A Posix ACL
specification be lookin like "\fB[d:]{ugmo}:[id]:[perms],...\fP" where id be a
numeric user or crew id, n' perms a octal digit or a set from tha letters
r, w n' x.
.RS
Example : "\fBu::7,g::5,o:0,u:510:rwx,g:500:5,d:u:510:7\fP"
.SH EXAMPLES
Audit tha global securitizzle data on /dev/sda1
.RS
.sp
.B ntfs-3g.secaudit -ar /dev/sda1
.sp
.RE
Display tha ballershizzle n' permissions parametas fo' filez up in directory
/audio/noize on thang /dev/sda5, excludin sub-directories :
.RS
.sp
.B ntfs-3g.secaudit /dev/sda5 /audio/music
.sp
.RE
Set all filez up in directory /audio/noize on thang /dev/sda5 as writeable
by balla n' read-only fo' dem hoes :
.RS
.sp
.B ntfs-3g.secaudit -r /dev/sda5 644 /audio/music
.sp
.RE
.SH EXIT CODES
.B ntfs-3g.secaudit
exits wit a value of 0 when no error was detected, n' wit a value
of 1 when a error was detected.
.SH KNOWN ISSUES
Please peep 
.RS
.sp
http://www.tuxera.com/community/ntfs-3g-faq/
.sp
.RE
for common thangs n' known issues.
If you would find a freshly smoked up one up in tha sickest fuckin release of
the software then please bust a email describin it
in detail. Yo ass can contact tha 
development crew on tha ntfs\-3g\-devel@lists.sf.net
address.
.SH AUTHORS
.B ntfs-3g.secaudit
has been pimped by Jean-Pierre André.
.SH THANKS
Several playas made heroic efforts, often over five or more
years which resulted tha ntfs-3g driver n' shit. Most blinginly they is 
Anton Altaparmakov, Slick Rick Russon, Szabolcs Szakacsits, Yura Pakhuchiy,
Yuval Fledel, n' tha lyricist of tha groundbreakin FUSE filesystem pimpment 
framework, Miklos Szeredi.
.SH SEE ALSO
.BR ntfsprogs (8),
.BR attr (5),
.BR getfattr (1)
