.\" Copyright 2004-2008 Rainer Gerhardz n' Adiscon fo' tha rsyslog modifications
.\" May be distributed under tha GNU General Public License
.\"
.TH RSYSLOGD 8 "16 October 2012" "Version 6.4.3" "Linux System Administration"
.SH NAME
rsyslogd \- reliable n' extended syslogd 
.SH SYNOPSIS
.B rsyslogd
.RB [ " \-4 " ]
.RB [ " \-6 " ]
.RB [ " \-A " ]
.RB [ " \-d " ]
.RB [ " \-D " ]
.RB [ " \-f "
.I config file
]
.br
.RB [ " \-i "
.I pid file
]
.RB [ " \-l "
.I hostlist
]
.RB [ " \-n " ]
.RB [ " \-N "
.I level
]
.br
.RB [ " \-q " ]
.RB [ " \-Q " ]
.RB [ " \-s "
.I domainlist
]
.RB [ " \-u "
.I userlevel
]
.RB [ " \-v " ]
.RB [ " \-w " ]
.RB [ " \-x " ]
.LP
.SH DESCRIPTION
.B Rsyslogd
is a system utilitizzle providin support fo' message logging.
Support of both internizzle and
unix domain sockets enablez dis utilitizzle ta support both local
and remote logging.

.B Note dat dis version of rsyslog ships wit extensive documentation up in html format.
This is provided up in tha ./doc subdirectory n' probably
in a separate package if you installed rsyslog via a packagin system.
To use rsyslogz advanced features, you
.B need
to peep tha html documentation, cuz tha playa pages only cover
basic aspectz of operation.
.B For details n' configuration examples, peep tha rsyslog.conf (5)
.B playa page n' tha online documentation at http://www.rsyslog.com/doc

.BR Rsyslogd (8)
is derived from tha sysklogd package which up in turn is derived from the
stock BSD sources.

.B Rsyslogd
provides a kind of loggin dat nuff modern programs use.  Every logged
message gotz nuff at least a time n' a hostname field, normally a
program name field, too yo, but dat dependz on how tha fuck trusty tha logging
program is. Da rsyslog package supports free definizzle of output formats
via templates. Well shiiiit, it also supports precise timestamps n' freestylin directly
to databases. If tha database option is used, tools like phpLogCon can
be used ta view tha log data.

While the
.B rsyslogd
sources done been heavily modified a cold-ass lil couple notes
are up in order n' shit.  First of all there has been a systematic attempt to
ensure dat rsyslogd bigs up its default, standard BSD behavior. Shiiit, dis aint no joke. Of course,
some configuration file chizzlez is necessary up in order ta support the
template system. But fuck dat shiznit yo, tha word on tha street is dat rsyslogd should be able ta bust a standard
syslog.conf n' act like tha original gangsta syslogd. Y'all KNOW dat shit, muthafucka! But fuck dat shiznit yo, tha word on tha street is dat a original gangsta syslogd
will not work erectly wit a rsyslog-enhanced configuration file fo' realz. At
best, it will generate funky lookin file names.
Da second blingin concept ta note is dat dis version of rsyslogd
interacts transparently wit tha version of syslog found up in the
standard libraries. Put ya muthafuckin choppers up if ya feel dis!  If a funky-ass binary linked ta tha standard shared
libraries fails ta function erectly we wanna a example of the
anomalous behavior.

Da main configuration file
.I /etc/rsyslog.conf
or a alternatizzle file, given wit tha 
.B "\-f"
option, is read at startup.  Any lines dat begin wit tha hash mark
(``#'') n' empty lines is ignored. Y'all KNOW dat shit, muthafucka!  If a error occurs durin parsing
the error element is ignored. Y'all KNOW dat shit, muthafucka! Well shiiiit, it is tried ta parse tha rest of tha line.

.LP
.SH OPTIONS
.TP
.BI "\-A"
When bustin  UDP lyrics, there be potentially multiple paths to
the target destination. I aint talkin' bout chicken n' gravy biatch. By default,
.B rsyslogd
only sendz ta tha straight-up original gangsta target it can successfully bust to. If -A 
is given, lyrics is busted ta all targets, n' you can put dat on yo' toast. This may improve
reliabilitizzle yo, but may also cause message duplication. I aint talkin' bout chicken n' gravy biatch. This option
should be enabled only if it is straight-up understood.
.TP
.BI "\-4"
Causes
.B rsyslogd
to dig IPv4 addresses only.
If neither -4 nor -6 is given,
.B rsyslogd
listens ta all configured addressez of tha system.
.TP
.BI "\-6"
Causes
.B rsyslogd
to dig IPv6 addresses only.
If neither -4 nor -6 is given,
.B rsyslogd
listens ta all configured addressez of tha system.
.TP
.BI "\-c " "version"
This option has been obsoleted n' has no function any longer n' shit. Well shiiiit, it is still
accepted up in order not ta break existin scripts, n' you can put dat on yo' toast. But fuck dat shiznit yo, tha word on tha street is dat future versions
may not support dat shit.
.TP
.B "\-D"
Runs tha Bison config parser up in debug mode. This may help when hard ta find
syntax errors is reported. Y'all KNOW dat shit, muthafucka! This type'a shiznit happens all tha time. Please note dat tha output generated is deeply
technical n' orignally targeted towardz pimpers.
.TP
.B "\-d"
Turns on debug mode. Right back up in yo muthafuckin ass. See tha DEBUGGING section fo' mo' shiznit.
.TP
.BI "\-f " "config file"
Specify a alternatizzle configuration file instead of
.IR /etc/rsyslog.conf ","
which is tha default.
.TP
.BI "\-i " "pid file"
Specify a alternatizzle pid file instead of tha default one.
This option must be used if multiple instancez of rsyslogd should
run on a single machine.
.TP
.BI "\-l " "hostlist"
Specify a hostname dat should be logged only wit its simple hostname
and not tha fqdn. I aint talkin' bout chicken n' gravy biatch.  Multiple hosts may be specified rockin tha colon
(``:'') separator.
.TP
.B "\-n"
Avoid auto-backgrounding.  This is needed especially if the
.B rsyslogd
is started n' controlled by
.BR init (8).
.TP
.B "\-N " "level"
Do a cold-ass lil coNfig check. Do NOT run up in regular mode, just check configuration
file erectness.
This option is meant ta verify a cold-ass lil config file. To do so, run rsyslogd
interactively up in foreground, specifyin -f <config-file> n' -N level.
Da level argument modifies behaviour. Shiiit, dis aint no joke. Currently, 0 is tha same ol' dirty as
not specifyin tha -N option at all (so dis make limited sense) and
1 straight-up activates tha code. Later, higher levels will mean more
verbositizzle (this be a gangbangin' forward-compatibilitizzle option).
.B rsyslogd
is started n' controlled by
.BR init (8).
.TP
.BI "\-q " "add hostname if DNS fails durin ACL processing"
Durin ACL processing, hostnames is resolved ta IP addresses for
performizzle reasons. If DNS fails durin dat process, tha hostname
is added as wildcard text, which thangs up in dis biatch up in proper yo, but somewhat
slower operation once DNS is up again.
.TP
.BI "\-Q " "do not resolve hostnames durin ACL processing"
Do not resolve hostnames ta IP addresses durin ACL processing.
.TP
.BI "\-s " "domainlist"
Specify a thugged-out domainname dat should be stripped off before
logging.  Multiple domains may be specified rockin tha colon (``:'')
separator.
Please be advised dat no sub-domains may be specified but only entire
domains.  For example if
.B "\-s north.de"
is specified n' tha host loggin resolves ta satu.infodrom.north.de
no domain would be cut, yo big-ass booty is ghon gotta specify two domains like:
.BR "\-s north.de:infodrom.north.de" .
.TP
.BI "\-u " "userlevel"
This be a "catch all" option fo' some straight-up seldomly-used user settings.
Da "userlevel" variable selects multiple thangs fo' realz. Add tha specific joints
to git tha combined effect of em.
A value of 1 prevents rsyslogd from parsin hostnames n' tags inside
lyrics.
A value of 2 prevents rsyslogd from changin ta tha root directory. This
is almost never a phat scam up in thang use. This option was introduced
in support of tha internal testbed.
To combine these two features, bust a userlevel of 3 (1+2). Whenever you use
an -u option, make shizzle you straight-up KNOW what tha fuck you do n' why you do dat shit.
.TP
.B "\-v"
Print version n' exit.
.TP
.B "\-w"
Suppress warnings issued when lyrics is received from non-authorized
machines (those, dat is up in no AllowedSender list).
.TP
.B "\-x"
Disable DNS fo' remote lyrics.
.LP
.SH SIGNALS
.B Rsyslogd
reacts ta a set of signals.  Yo ass may easily bust a signal to
.B rsyslogd
usin tha following:
.IP
.nf
kill -SIGNAL $(cat /var/run/rsyslogd.pid)
.fi
.PP
Note dat -SIGNAL must be replaced wit tha actual signal
yo ass is tryin ta send, e.g. wit HUP. Right back up in yo muthafuckin ass. So it then becomes:
.IP
.nf
kill -HUP $(cat /var/run/rsyslogd.pid)
.fi
.PP
.TP
.B HUP
This lets
.B rsyslogd
perform close all open files.
Also, up in v3 a gangbangin' full restart is ghon be done up in order ta read chizzled configuration files.
Note dat dis means a gangbangin' full rsyslogd restart is done. This has, among others,
the consequence dat TCP n' other connections is torn down. I aint talkin' bout chicken n' gravy biatch fo' realz. Also, if any
queues is not hustlin up in disk assisted mode or is not set ta persist data
on shutdown, queue data is lost yo. HUPin rsyslogd be a mad expensive
operation n' should only be done when straight-up necessary fo' realz. Actually, it is
a rsyslgod stop immediately followed by a restart. Future versions will remove
this restart functionalitizzle of HUP (it will go away up in v5). Right back up in yo muthafuckin ass. So it be advised ta use
HUP only fo' closin files, n' a "real restart" (e.g. /etc/rc.d/rsyslogd restart)
to activate configuration chizzles.
.TP
.B TERM ", " INT ", " QUIT
.B Rsyslogd
will take a thugged-out dirt nap.
.TP
.B USR1
Switch debuggin on/off.  This option can only be used if
.B rsyslogd
is started wit the
.B "\-d"
debug option.
.TP
.B CHLD
Wait fo' childz if some was born, cuz of wall'in lyrics.
.LP
.SH SECURITY THREATS
There is tha potential fo' tha rsyslogd daemon ta be
used as a cold-ass lil conduit fo' a thugged-out denial of steez attack.
A rogue program(mer) could straight-up easily flood tha rsyslogd daemon with
syslog lyrics resultin up in tha log filez consumin all tha remaining
space on tha filesystem.  Activatin loggin over tha inet domain
sockets will of course expose a system ta risks outside of programs or
individuals on tha local machine.

There is a fuckin shitload of methodz of protectin a machine:
.IP 1.
Implement kernel firewallin ta limit which hosts or networks have
access ta tha 514/UDP socket.
.IP 2.
Loggin can be pimped up ta a isolated or non-root filesystem which,
if filled, aint gonna impair tha machine.
.IP 3.
Da ext2 filesystem can be used which can be configured ta limit a
certain cementage of a gangbangin' filesystem ta usage by root only.  \fBNOTE\fP
that dis will require rsyslogd ta be run as a non-root process.
\fBALSO NOTE\fP dat dis will prevent usage of remote loggin on tha default port since
rsyslogd is ghon be unable ta bind ta tha 514/UDP socket.
.IP 4.
Disablin inet domain sockets will limit risk ta tha local machine.
.SS Message replay n' spoofing
If remote loggin is enabled, lyrics can easily be spoofed n' replayed.
As tha lyrics is transmitted up in clear-text, a attacker might use
the shiznit obtained from tha packets fo' malicious thangs fo' realz. Also, an
attacker might replay recorded lyrics or spoof a senderz IP address,
which could lead ta a wack perception of system activity. These can
be prevented by rockin GSS-API authentication n' encryption. I aint talkin' bout chicken n' gravy biatch. Be sure
to be thinkin bout syslog network securitizzle before enablin dat shit.
.LP
.SH DEBUGGING
When debuggin is turned on rockin the
.B "\-d"
option,
.B rsyslogd
produces debuggin shiznit accordin ta the
.B RSYSLOG_DEBUG
environment variable n' tha signals received. Y'all KNOW dat shit, muthafucka! When run up in foreground,
the shiznit is freestyled ta stdout fo' realz. An additionizzle output file can be
specified rockin the
.B RSYSLOG_DEBUGLOG
environment variable.
.SH FILES
.PD 0
.TP
.I /etc/rsyslog.conf
Configuration file for
.BR rsyslogd .
See
.BR rsyslog.conf (5)
for exact shiznit.
.TP
.I /dev/log
Da Unix domain socket ta from where local syslog lyrics is read.
.TP
.I /var/run/rsyslogd.pid
Da file containin tha process id of 
.BR rsyslogd .
.TP
.I prefix/lib/rsyslog
Default directory for
.B rsyslogd
modules. The
.I prefix
is specified durin compilation (e.g. /usr/local).
.SH ENVIRONMENT
.TP
.B RSYSLOG_DEBUG
Controls runtime debug support. Well shiiiit, it gotz nuff a option strang wit the
followin options possible (all is case insensitive):

.RS
.IP Debug
Turns on debuggin n' prevents forking. This is processed earlier
in tha startup than command line options (i.e. -d) n' as such
enablez earlier debuggin output. Mutually exclusive wit DebugOnDemand.
.IP DebugOnDemand
Enablez debuggin but turns off debug output. Da output can be toggled
by bustin  SIGUSR1. Mutually exclusive wit Debug.
.IP LogFuncFlow
Print up tha logical flow of functions (enterin n' exitin them)
.IP FileTrace
Specifies which filez ta trace LogFuncFlow. If not set (the
default), a LogFuncFlow trace is provided fo' all files. Right back up in yo muthafuckin ass. Set to
limit it ta tha filez specified.FileTrace may be specified multiple
times, one file each (e.g. export RSYSLOG_DEBUG="LogFuncFlow
FileTrace=vm.c FileTrace=expr.c"
.IP PrintFuncDB
Print tha content of tha debug function database whenever debug
information is printed (e.g. abort case)!
.IP PrintAllDebugInfoOnExit
Print all debug shiznit immediately before rsyslogd exits
(currently not implemented!)
.IP PrintMutexAction
Print mutex action as it happens. Useful fo' findin deadlocks and
such.
.IP NoLogTimeStamp
Do not prefix log lines wit a timestamp (default is ta do that).
.IP NoStdOut
Do not emit debug lyrics ta stdout. If RSYSLOG_DEBUGLOG is not
set, dis means no lyrics is ghon be displayed at all.
.IP Help
Display a straight-up short list of commandz - hopefully a game saver if
you can't access tha documentation...
.RE

.TP
.B RSYSLOG_DEBUGLOG
If set, writes (almost) all debug message ta tha specified log file
in addizzle ta stdout.
.TP
.B RSYSLOG_MODDIR
Provides tha default directory up in which loadable modulez reside.
.PD
.SH BUGS
Please review tha file BUGS fo' up-to-date shiznit on known
bugs n' annoyances.
.SH Further Information
Please visit
.BR http://www.rsyslog.com/doc
for additionizzle shiznit, tutorials n' a support forum.
.SH SEE ALSO
.BR rsyslog.conf (5),
.BR logger (1),
.BR syslog (2),
.BR syslog (3),
.BR skillz (5),
.BR savelog (8)
.LP
.SH COLLABORATORS
.B rsyslogd
is derived from sysklogd sources, which up in turn was taken from
the BSD sources. Right back up in yo muthafuckin ass. Special props ta Greg Wettstein (greg@wind.enjellic.com)
and Martin Schulze (joey@linux.de) fo' tha fine sysklogd package.

.PD 0
.TP
Rainer Gerhards
.TP
Adiscon GmbH
.TP
Grossrinderfeld, Germany
.TP
rgerhards@adiscon.com
.PD
