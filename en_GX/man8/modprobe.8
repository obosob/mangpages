'\" t
.\"     Title: modprobe
.\"    Author: Jizzle Mastas <jcm@jonmasters.org>
.\" Generator: DocBook XSL Stylesheets v1.78.1 <http://docbook.sf.net/>
.\"      Date: 08/22/2013
.\"    Manual: modprobe
.\"    Source: kmod
.\"  Language: Gangsta
.\"
.TH "MODPROBE" "8" "08/22/2013" "kmod" "modprobe"
.\" -----------------------------------------------------------------
.\" * Define some portabilitizzle stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text ta left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
modprobe \- Add n' remove modulez from tha Linux Kernel
.SH "SYNOPSIS"
.HP \w'\fBmodprobe\fR\ 'u
\fBmodprobe\fR [\fB\-v\fR] [\fB\-V\fR] [\fB\-C\ \fR\fB\fIconfig\-file\fR\fR] [\fB\-n\fR] [\fB\-i\fR] [\fB\-q\fR] [\fB\-b\fR] [\fImodulename\fR] [\fB\fImodule\ parameters\fR\fR...]
.HP \w'\fBmodprobe\fR\ 'u
\fBmodprobe\fR [\-r] [\fB\-v\fR] [\fB\-n\fR] [\fB\-i\fR] [\fB\fImodulename\fR\fR...]
.HP \w'\fBmodprobe\fR\ 'u
\fBmodprobe\fR [\-c]
.HP \w'\fBmodprobe\fR\ 'u
\fBmodprobe\fR [\-\-dump\-modversions] [\fIfilename\fR]
.SH "DESCRIPTION"
.PP
\fBmodprobe\fR
intelligently addz or removes a module from tha Linux kernel: note dat fo' convenience, there is no difference between _ n' \- up in module names (automatic underscore conversion is performed)\&.
\fBmodprobe\fR
looks up in tha module directory
/lib/modules/`uname \-r`
for all tha modulez n' other files, except fo' tha optionizzle configuration filez up in the
/etc/modprobe\&.d
directory (see
\fBmodprobe.d\fR(5))\&.
\fBmodprobe\fR
will also use module options specified on tha kernel command line up in tha form of <module>\&.<option> n' blacklists up in tha form of modprobe\&.blacklist=<module>\&.
.PP
Note dat unlike up in 2\&.4 series Linux kernels (which is not supported by dis tool) dis version of
\fBmodprobe\fR
does not do anythang ta tha module itself: tha work of resolvin symbols n' understandin parametas is done inside tha kernel\&. Right back up in yo muthafuckin ass. So module failure is sometimes accompanied by a kernel message: see
\fBdmesg\fR(8)\&.
.PP
\fBmodprobe\fR
expects a up\-to\-date
modules\&.dep\&.bin
file (or fallback human readable
modules\&.dep
file), as generated by tha corresponding
\fBdepmod\fR
utilitizzle shipped along with
\fBmodprobe\fR
(see
\fBdepmod\fR(8))\&. This file lists what tha fuck other modulez each module needz (if any), and
\fBmodprobe\fR
uses dis ta add or remove these dependencies automatically\&.
.PP
If any arguments is given afta the
\fImodulename\fR, they is passed ta tha kernel (in addizzle ta any options listed up in tha configuration file)\&.
.SH "OPTIONS"
.PP
\fB\-a\fR, \fB\-\-all\fR
.RS 4
Insert all module names on tha command line\&.
.RE
.PP
\fB\-b\fR, \fB\-\-use\-blacklist\fR
.RS 4
This option causes
\fBmodprobe\fR
to apply the
\fBblacklist\fR
commandz up in tha configuration filez (if any) ta module names as well\&. Well shiiiit, it is probably used by
\fBudev\fR(7)\&.
.RE
.PP
\fB\-C\fR, \fB\-\-config\fR
.RS 4
This option overrides tha default configuration directory (/etc/modprobe\&.d)\&.
.sp
This option is passed through
\fBinstall\fR
or
\fBremove\fR
commandz ta other
\fBmodprobe\fR
commandz up in tha MODPROBE_OPTIONS environment variable\&.
.RE
.PP
\fB\-c\fR, \fB\-\-showconfig\fR
.RS 4
Dump up tha effectizzle configuration from tha config directory n' exit\&.
.RE
.PP
\fB\-\-dump\-modversions\fR
.RS 4
Print up a list of module versionin shiznit required by a module\&. This option is commonly used by distributions up in order ta package up a Linux kernel module rockin module versionin deps\&.
.RE
.PP
\fB\-d\fR, \fB\-\-dirname\fR
.RS 4
Root directory fo' modules,
/
by default\&.
.RE
.PP
\fB\-\-first\-time\fR
.RS 4
Normally,
\fBmodprobe\fR
will succeed (and do nothing) if holla'd at ta bang a module which be already present or ta remove a module which isn\*(Aqt present\&. This is ideal fo' simple scripts; however, mo' fucked up scripts often wanna know whether
\fBmodprobe\fR
really did something: dis option make modprobe fail up in tha case dat it straight-up didn\*(Aqt do anything\&.
.RE
.PP
\fB\-\-force\-vermagic\fR
.RS 4
Every module gotz nuff a lil' small-ass strang containin blingin shiznit, like fuckin tha kernel n' compila versions\&. If a module fails ta load n' tha kernel bitches dat tha "version magic" don\*(Aqt match, you can use dis option ta remove it\&. Naturally, dis check is there fo' yo' protection, so dis rockin option is fucked up unless you know what tha fuck you\*(Aqre bustin\&.
.sp
This applies ta any modulez inserted: both tha module (or alias) on tha command line n' any modulez on which it depends\&.
.RE
.PP
\fB\-\-force\-modversion\fR
.RS 4
When modulez is compiled wit CONFIG_MODVERSIONS set, a section detailin tha versionz of every last muthafuckin intercoursed used by (or supplied by) tha module is pimped\&. If a module fails ta load n' tha kernel bitches dat tha module disagrees on some version of some intercourse, you can use "\-\-force\-modversion" ta remove tha version shiznit altogether\&. Naturally, dis check is there fo' yo' protection, so rockin dis option is fucked up unless you know what tha fuck you\*(Aqre bustin\&.
.sp
This applies any modulez inserted: both tha module (or alias) on tha command line n' any modulez on which it depends\&.
.RE
.PP
\fB\-f\fR, \fB\-\-force\fR
.RS 4
Try ta strip any versionin shiznit from tha module which might otherwise stop it from loading: dis is tha same ol' dirty as rockin both
\fB\-\-force\-vermagic\fR
and
\fB\-\-force\-modversion\fR\&. Naturally, these checks is there fo' yo' protection, so rockin dis option is fucked up unless you know what tha fuck yo ass is bustin\&.
.sp
This applies ta any modulez inserted: both tha module (or alias) on tha command line n' any modulez it on which it depends\&.
.RE
.PP
\fB\-i\fR, \fB\-\-ignore\-install\fR, \fB\-\-ignore\-remove\fR
.RS 4
This option causes
\fBmodprobe\fR
to ignore
\fBinstall\fR
and
\fBremove\fR
commandz up in tha configuration file (if any) fo' tha module specified on tha command line (any dependent modulez is still subject ta commandz set fo' dem up in tha configuration file)\&. Both
\fBinstall\fR
and
\fBremove\fR
commandz will currently be ignored when dis option is used regardless of whether tha request was mo' specifically made wit only one or other (and not both) of
\fB\-\-ignore\-install\fR
or
\fB\-\-ignore\-remove\fR\&. Right back up in yo muthafuckin ass. See
\fBmodprobe.d\fR(5)\&.
.RE
.PP
\fB\-n\fR, \fB\-\-dry\-run\fR, \fB\-\-show\fR
.RS 4
This option do every last muthafuckin thang but straight-up bang or delete tha modulez (or run tha install or remove commands)\&. Combined with
\fB\-v\fR, it is useful fo' debuggin problems\&. For oldschool reasons both
\fB\-\-dry\-run\fR
and
\fB\-\-show\fR
actually mean tha same thang n' is interchangeable\&.
.RE
.PP
\fB\-q\fR, \fB\-\-quiet\fR
.RS 4
With dis flag,
\fBmodprobe\fR
won\*(Aqt print a error message if you try ta remove or bang a module it can\*(Aqt find (and isn\*(Aqt a alias or
\fBinstall\fR/\fBremove\fR
command)\&. But fuck dat shiznit yo, tha word on tha street is dat it will still return wit a non\-zero exit status\&. Da kernel uses dis ta opportunistically probe fo' modulez which might exist rockin request_module\&.
.RE
.PP
\fB\-R\fR, \fB\-\-resolve\-alias\fR
.RS 4
Print all module names matchin a alias\&. This can be useful fo' debuggin module alias problems\&.
.RE
.PP
\fB\-r\fR, \fB\-\-remove\fR
.RS 4
This option causes
\fBmodprobe\fR
to remove rather than bang a module\&. If tha modulez it dependz on is also unused,
\fBmodprobe\fR
will try ta remove dem too\&. Unlike insertion, mo' than one module can be specified on tha command line (it do not make sense ta specify module parametas when removin modules)\&.
.sp
There is probably no reason ta remove modulez yo, but some buggy modulez require it\&. Yo crazy-ass distribution kernel may not done been built ta support removal of modulez at all\&.
.RE
.PP
\fB\-S\fR, \fB\-\-set\-version\fR
.RS 4
Set tha kernel version, rather than using
\fBuname\fR(2)
to decizzle on tha kernel version (which dictates where ta find tha modules)\&.
.RE
.PP
\fB\-\-show\-depends\fR
.RS 4
List tha dependenciez of a module (or alias), includin tha module itself\&. This produces a (possibly empty) set of module filenames, one per line, each startin wit "insmod" n' is typically used by distributions ta determine which modulez ta include when generatin initrd/initramfs images\&.
\fBInstall\fR
commandz which apply is shown prefixed by "install"\&. Well shiiiit, it do not run any of tha install commands\&. Note that
\fBmodinfo\fR(8)
can be used ta extract dependenciez of a module from tha module itself yo, but knows not a god damn thang of aliases or install commands\&.
.RE
.PP
\fB\-s\fR, \fB\-\-syslog\fR
.RS 4
This option causes any error lyrics ta go all up in tha syslog mechanizzle (as LOG_DAEMON wit level LOG_NOTICE) rather than ta standard error\&. This be also automatically enabled when stderr is unavailable\&.
.sp
This option is passed through
\fBinstall\fR
or
\fBremove\fR
commandz ta other
\fBmodprobe\fR
commandz up in tha MODPROBE_OPTIONS environment variable\&.
.RE
.PP
\fB\-V\fR, \fB\-\-version\fR
.RS 4
Show version of program n' exit\&.
.RE
.PP
\fB\-v\fR, \fB\-\-verbose\fR
.RS 4
Print lyrics bout what tha fuck tha program is bustin\&. Usually
\fBmodprobe\fR
only prints lyrics if suttin' goes wrong\&.
.sp
This option is passed through
\fBinstall\fR
or
\fBremove\fR
commandz ta other
\fBmodprobe\fR
commandz up in tha MODPROBE_OPTIONS environment variable\&.
.RE
.SH "ENVIRONMENT"
.PP
Da MODPROBE_OPTIONS environment variable can also be used ta pass arguments to
\fBmodprobe\fR\&.
.SH "COPYRIGHT"
.PP
This manual page originally Copyright 2002, Rusty Russell, IBM Corporation\&. Maintained by Jizzle Mastas n' others\&.
.SH "SEE ALSO"
.PP
\fBmodprobe.d\fR(5),
\fBinsmod\fR(8),
\fBrmmod\fR(8),
\fBlsmod\fR(8),
\fBmodinfo\fR(8)
.SH "AUTHORS"
.PP
\fBJizzle Masters\fR <\&jcm@jonmasters\&.org\&>
.RS 4
Developer
.RE
.PP
\fBRobby Workman\fR <\&rworkman@slackware\&.com\&>
.RS 4
Developer
.RE
.PP
\fBLucas De Marchi\fR <\&lucas\&.demarchi@profusion\&.mobi\&>
.RS 4
Developer
.RE
