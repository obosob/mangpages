'\" t
.\"     Title: usermod
.\"    Author: Julianne Frances Haugh
.\" Generator: DocBook XSL Stylesheets v1.76.1 <http://docbook.sf.net/>
.\"      Date: 05/25/2012
.\"    Manual: System Management Commands
.\"    Source: shadow-utils 4.1.5.1
.\"  Language: Gangsta
.\"
.TH "USERMOD" "8" "05/25/2012" "shadow\-utils 4\&.1\&.5\&.1" "System Management Commands"
.\" -----------------------------------------------------------------
.\" * Define some portabilitizzle stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text ta left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
usermod \- modify a user account
.SH "SYNOPSIS"
.HP \w'\fBusermod\fR\ 'u
\fBusermod\fR [\fIoptions\fR] \fILOGIN\fR
.SH "DESCRIPTION"
.PP
The
\fBusermod\fR
command modifies tha system account filez ta reflect tha chizzlez dat is specified on tha command line\&.
.SH "OPTIONS"
.PP
Da options which apply ta the
\fBusermod\fR
command are:
.PP
\fB\-a\fR, \fB\-\-append\fR
.RS 4
Add tha user ta tha supplementary group(s)\&. Use only wit the
\fB\-G\fR
option\&.
.RE
.PP
\fB\-c\fR, \fB\-\-comment\fR \fICOMMENT\fR
.RS 4
Da freshly smoked up value of tha user\*(Aqs password file comment field\&. Well shiiiit, it is normally modified rockin the
\fBchfn\fR(1)
utility\&.
.RE
.PP
\fB\-d\fR, \fB\-\-home\fR \fIHOME_DIR\fR
.RS 4
Da user\*(Aqs freshly smoked up login directory\&.
.sp
If the
\fB\-m\fR
option is given, tha contentz of tha current home directory is ghon be moved ta tha freshly smoked up home directory, which is pimped if it do not already exist\&.
.RE
.PP
\fB\-e\fR, \fB\-\-expiredate\fR \fIEXPIRE_DATE\fR
.RS 4
Da date on which tha user account is ghon be disabled\&. Da date is specified up in tha format
\fIYYYY\-MM\-DD\fR\&.
.sp
An empty
\fIEXPIRE_DATE\fR
argument will disable tha expiration of tha account\&.
.sp
This option requires a
/etc/shadow
file\& fo' realz. A
/etc/shadow
entry is ghon be pimped if there was none\&.
.RE
.PP
\fB\-f\fR, \fB\-\-inactive\fR \fIINACTIVE\fR
.RS 4
Da number of minutes afta a password expires until tha account is permanently disabled\&.
.sp
A value of 0 disablez tha account as soon as tha password has expired, n' a value of \-1 disablez tha feature\&.
.sp
This option requires a
/etc/shadow
file\& fo' realz. A
/etc/shadow
entry is ghon be pimped if there was none\&.
.RE
.PP
\fB\-g\fR, \fB\-\-gid\fR \fIGROUP\fR
.RS 4
Da crew name or number of tha user\*(Aqs freshly smoked up initial login group\&. Da crew must exist\&.
.sp
Any file from tha user\*(Aqs home directory owned by tha previous primary crew of tha user is ghon be owned by dis freshly smoked up group\&.
.sp
Da crew ballershizzle of filez outside of tha user\*(Aqs home directory must be fixed manually\&.
.RE
.PP
\fB\-G\fR, \fB\-\-groups\fR \fIGROUP1\fR[\fI,GROUP2,\&.\&.\&.\fR[\fI,GROUPN\fR]]]
.RS 4
A list of supplementary crews which tha user be also a gangmember of\&. Each crew is separated from tha next by a cold-ass lil comma, wit no intervenin whitespace\&. Da crews is subject ta tha same restrictions as tha crew given wit the
\fB\-g\fR
option\&.
.sp
If tha user is currently a gangmember of a crew which aint listed, tha user is ghon be removed from tha group\&. This behaviour can be chizzled via the
\fB\-a\fR
option, which appendz tha user ta tha current supplementary crew list\&.
.RE
.PP
\fB\-l\fR, \fB\-\-login\fR \fINEW_LOGIN\fR
.RS 4
Da name of tha user is ghon be chizzled from
\fILOGIN\fR
to
\fINEW_LOGIN\fR\&. Nothang else is chizzled\&. In particular, tha user\*(Aqs home directory or mail spool should probably be renamed manually ta reflect tha freshly smoked up login name\&.
.RE
.PP
\fB\-L\fR, \fB\-\-lock\fR
.RS 4
Lock a user\*(Aqs password\&. This puts a \*(Aq!\*(Aq up in front of tha encrypted password, effectively disablin tha password\&. Yo ass can\*(Aqt use dis option with
\fB\-p\fR
or
\fB\-U\fR\&.
.sp
Note: if you wish ta lock tha account (not only access wit a password), you should also set the
\fIEXPIRE_DATE\fR
to
\fI1\fR\&.
.RE
.PP
\fB\-m\fR, \fB\-\-move\-home\fR
.RS 4
Move tha content of tha user\*(Aqs home directory ta tha freshly smoked up location\&.
.sp
This option is only valid up in combination wit the
\fB\-d\fR
(or
\fB\-\-home\fR) option\&.
.sp

\fBusermod\fR
will try ta adapt tha ballershizzle of tha filez n' ta copy tha modes, ACL n' extended attributes yo, but manual chizzlez might be needed afterwards\&.
.RE
.PP
\fB\-o\fR, \fB\-\-non\-unique\fR
.RS 4
When used wit the
\fB\-u\fR
option, dis option allows ta chizzle tha user ID ta a non\-unique value\&.
.RE
.PP
\fB\-p\fR, \fB\-\-password\fR \fIPASSWORD\fR
.RS 4
Da encrypted password, as returned by
\fBcrypt\fR(3)\&.
.sp

\fBNote:\fR
This option aint recommended cuz tha password (or encrypted password) is ghon be visible by playas listin tha processes\&.
.sp
Yo ass should make shizzle tha password respects tha system\*(Aqs password policy\&.
.RE
.PP
\fB\-R\fR, \fB\-\-root\fR \fICHROOT_DIR\fR
.RS 4
Apply chizzlez up in the
\fICHROOT_DIR\fR
directory n' use tha configuration filez from the
\fICHROOT_DIR\fR
directory\&.
.RE
.PP
\fB\-s\fR, \fB\-\-shell\fR \fISHELL\fR
.RS 4
Da name of tha user\*(Aqs freshly smoked up login shell\&. Right back up in yo muthafuckin ass. Settin dis field ta blank causes tha system ta select tha default login shell\&.
.RE
.PP
\fB\-u\fR, \fB\-\-uid\fR \fIUID\fR
.RS 4
Da freshly smoked up numerical value of tha user\*(Aqs ID\&.
.sp
This value must be unique, unless the
\fB\-o\fR
option is used\&. Da value must be non\-negative\&.
.sp
Da user\*(Aqs mailbox, n' any filez which tha user owns n' which is located up in tha user\*(Aqs home directory gonna git tha file user ID chizzled automatically\&.
.sp
Da ballershizzle of filez outside of tha user\*(Aqs home directory must be fixed manually\&.
.sp
No checks is ghon be performed wit regard ta the
\fBUID_MIN\fR,
\fBUID_MAX\fR,
\fBSYS_UID_MIN\fR, or
\fBSYS_UID_MAX\fR
from
/etc/login\&.defs\&.
.RE
.PP
\fB\-U\fR, \fB\-\-unlock\fR
.RS 4
Unlock a user\*(Aqs password\&. This removes tha \*(Aq!\*(Aq up in front of tha encrypted password\&. Yo ass can\*(Aqt use dis option with
\fB\-p\fR
or
\fB\-L\fR\&.
.sp
Note: if you wish ta unlock tha account (not only access wit a password), you should also set the
\fIEXPIRE_DATE\fR
(for example to
\fI99999\fR, or ta the
\fBEXPIRE\fR
value from
/etc/default/useradd)\&.
.RE
.PP
\fB\-Z\fR, \fB\-\-selinux\-user\fR \fISEUSER\fR
.RS 4
Da freshly smoked up SELinux user fo' tha user\*(Aqs login\&.
.sp
A blank
\fISEUSER\fR
will remove tha SELinux user mappin fo' user
\fILOGIN\fR
(if any)\&.
.RE
.SH "CAVEATS"
.PP
Yo ass must make certain dat tha named user aint executin any processes when dis command is bein executed if tha user\*(Aqs numerical user ID, tha user\*(Aqs name, or tha user\*(Aqs home directory is bein chizzled\&.
\fBusermod\fR
checks dis on Linux yo, but only check if tha user is logged up in accordin ta utmp on other architectures\&.
.PP
Yo ass must chizzle tha balla of any
\fBcrontab\fR
filez or
\fBat\fR
jobs manually\&.
.PP
Yo ass must make any chizzlez involvin NIS on tha NIS server\&.
.SH "CONFIGURATION"
.PP
Da followin configuration variablez in
/etc/login\&.defs
change tha behavior of dis tool:
.PP
\fBMAIL_DIR\fR (string)
.RS 4
Da mail spool directory\&. This is needed ta manipulate tha mailbox when its correspondin user account is modified or deleted\&. If not specified, a cold-ass lil compile\-time default is used\&.
.RE
.PP
\fBMAIL_FILE\fR (string)
.RS 4
Defines tha location of tha playas mail spool filez relatively ta they home directory\&.
.RE
.PP
The
\fBMAIL_DIR\fR
and
\fBMAIL_FILE\fR
variablez is used by
\fBuseradd\fR,
\fBusermod\fR, and
\fBuserdel\fR
to create, move, or delete tha user\*(Aqs mail spool\&.
.PP
If
\fBMAIL_CHECK_ENAB\fR
is set to
\fIyes\fR, they is also used ta define the
\fBMAIL\fR
environment variable\&.
.PP
\fBMAX_MEMBERS_PER_GROUP\fR (number)
.RS 4
Maximum thugz per crew entry\&. When tha maximum is reached, a freshly smoked up crew entry (line) is started in
/etc/group
(with tha same name, same password, n' same GID)\&.
.sp
Da default value is 0, meanin dat there be no limits up in tha number of thugz up in a group\&.
.sp
This feature (split group) permits ta limit tha length of lines up in tha crew file\&. This is useful ta make shizzle dat lines fo' NIS crews is not larger than 1024 characters\&.
.sp
If you need ta enforce such limit, you can use 25\&.
.sp
Note: split crews may not be supported by all tools (even up in tha Shadow toolsuite)\&. Yo ass should not use dis variable unless you straight-up need it\&.
.RE
.SH "FILES"
.PP
/etc/group
.RS 4
Group account shiznit\&.
.RE
.PP
/etc/gshadow
.RS 4
Secure crew account shiznit\&.
.RE
.PP
/etc/login\&.defs
.RS 4
Shadow password suite configuration\&.
.RE
.PP
/etc/passwd
.RS 4
User account shiznit\&.
.RE
.PP
/etc/shadow
.RS 4
Secure user account shiznit\&.
.RE
.SH "SEE ALSO"
.PP

\fBchfn\fR(1),
\fBchsh\fR(1),
\fBpasswd\fR(1),
\fBcrypt\fR(3),
\fBgpasswd\fR(8),
\fBgroupadd\fR(8),
\fBgroupdel\fR(8),
\fBgroupmod\fR(8),
\fBlogin.defs\fR(5),
\fBuseradd\fR(8),
\fBuserdel\fR(8)\&.
