'\" t
.\"     Title: btrfs-scrub
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.78.1 <http://docbook.sf.net/>
.\"      Date: 10/20/2014
.\"    Manual: Btrfs Manual
.\"    Source: Btrfs v3.17
.\"  Language: Gangsta
.\"
.TH "BTRFS\-SCRUB" "8" "10/20/2014" "Btrfs v3\&.17" "Btrfs Manual"
.\" -----------------------------------------------------------------
.\" * Define some portabilitizzle stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text ta left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
btrfs-scrub \- scrub btrfs filesystem
.SH "SYNOPSIS"
.sp
\fBbtrfs scrub\fR \fI<subcommand>\fR \fI<args>\fR
.SH "DESCRIPTION"
.sp
\fBbtrfs scrub\fR is used ta scrub a funky-ass btrfs filesystem, which will readin all data from all disks n' verifyin checksums\&.
.SH "SUBCOMMAND"
.PP
\fBstart\fR [\-BdqrRf] [\-c \fI<ioprio_class>\fR \-n \fI<ioprio_classdata>\fR] \fI<path>\fR|\fI<device>\fR
.RS 4
Start a scrub on all devicez of tha filesystem identified by
\fI<path>\fR
or on a single
\fI<device>\fR\&. If a scrub be already hustlin, tha freshly smoked up one fails\&.
.sp
Without options, scrub is started as a funky-ass background process\&. Progress can be obtained wit the
\fBscrub status\fR
command\&. Right back up in yo muthafuckin ass. Scrubbin involves readin all data from all disks n' verifyin checksums\&. Errors is erected along tha way if possible\&.
.sp
Da default IO prioritizzle of scrub is tha idle class\&. Da prioritizzle can be configured similar ta the
\fBionice\fR(1) syntax using
\fI\-c\fR
and
\fI\-n\fR
options\&.
.sp
\fBOptions\fR
.PP
\-B
.RS 4
Do not background n' print scrub statistics when finished\&.
.RE
.PP
\-d
.RS 4
Print separate statistics fo' each thang of tha filesystem (\-B only)\&.
.RE
.PP
\-q
.RS 4
Quiet\&. Omit error lyrics n' statistics\&.
.RE
.PP
\-r
.RS 4
Read only mode\&. Do not attempt ta erect anything\&.
.RE
.PP
\-R
.RS 4
Raw print mode\&. Print full data instead of summary\&.
.RE
.PP
\-c \fI<ioprio_class>\fR
.RS 4
Set IO prioritizzle class (see ionice (1) manpage)\&.
.RE
.PP
\-n \fI<ioprio_classdata>\fR
.RS 4
Set IO prioritizzle classdata (see
\fBionice\fR(1) manpage)\&.
.RE
.PP
\-f
.RS 4
Force startin freshly smoked up scrub even if a scrub be already hustlin\&. This is useful when scrub stat record file is damaged\&.
.RE
.RE
.PP
\fBcancel\fR \fI<path>\fR|\fI<device>\fR
.RS 4
If a scrub is hustlin on tha filesystem identified by
\fI<path>\fR, quit it\&.
.sp
Progress is saved up in tha scrub progress file n' scrubbin can be resumed lata rockin tha scrub resume command\&. If a
\fI<device>\fR
is given, tha correspondin filesystem is found n' scrub quit behaves as if dat shiznit was called on dat filesystem\&.
.RE
.PP
\fBresume\fR [\-BdqrR] [\-c \fI<ioprio_class>\fR \-n \fI<ioprio_classdata>\fR] \fI<path>\fR|\fI<device>\fR
.RS 4
Resume a cold-ass lil canceled or interrupted scrub cycle on tha filesystem identified by
\fI<path>\fR
or on a given
\fI<device>\fR\&.
.sp
Do not start a freshly smoked up scrub if tha last scrub finished successfully\&.
.sp
\fBOptions\fR
.sp
see
\fBscrub start\fR\&.
.RE
.PP
\fBstatus\fR [\-d] \fI<path>\fR|\fI<device>\fR
.RS 4
Show statuz of a hustlin scrub fo' tha filesystem identified by
\fI<path>\fR
or fo' tha specified
\fI<device>\fR\&.
.sp
If no scrub is hustlin, show statistics of tha last finished or canceled scrub fo' dat filesystem or device\&.
.sp
\fBOptions\fR
.PP
\-d
.RS 4
Print separate statistics fo' each thang of tha filesystem\&.
.RE
.RE
.SH "EXIT STATUS"
.sp
\fBbtrfs scrub\fR returns a zero exit status if it succeeds\&. Non zero is returned up in case of failure\&.
.SH "AVAILABILITY"
.sp
\fBbtrfs\fR is part of btrfs\-progs\&. Please refer ta tha btrfs wiki \m[blue]\fBhttp://btrfs\&.wiki\&.kernel\&.org\fR\m[] fo' further details\&.
.SH "SEE ALSO"
.sp
\fBmkfs\&.btrfs\fR(8),
