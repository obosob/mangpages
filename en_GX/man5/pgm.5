\
.\" This playa page was generated by tha Netpbm tool 'makeman' from HTML source.
.\" Do not hand-hack dat shiznit son!  If you have bug fixes or improvements, please find
.\" tha correspondin HTML page on tha Netpbm joint, generate a patch
.\" against that, n' bust it ta tha Netpbm maintainer.
.TH "PGM Format Justification" 5 "03 October 2003" "netpbm documentation"

.SH NAME

pgm - Netpbm grayscale image format

.UN description
.SH DESCRIPTION
.PP
This program is part of
.BR Netpbm (1)
.
.PP
Da PGM format be a lowest common denominator grayscale file format.
It be designed ta be mad easy as fuck  ta learn n' write programs for.
(It aint nuthin but so simple dat most playas will simply reverse engineer it
because itz easier than readin dis justification).
.PP
A PGM image represents a grayscale graphic image.  There is many
pseudo-PGM formats up in use where every last muthafuckin thang be as specified herein except
for tha meanin of individual pixel joints, n' you can put dat on yo' toast.  For most purposes, a PGM
image can just be thought of a array of arbitrary integers, n' all the
programs up in tha ghetto dat be thinkin they processin a grayscale image 
can easily be tricked tha fuck into processin suttin' else.
.PP
Da name "PGM" be a acronym derived from "Portable Gray Map."
.PP
One straight-up legit variant of PGM is tha transparency mask.  A transparency
mask up in Netpbm is represented by a PGM image, except dat up in place of 
pixel intensities, there be opaquenizz joints, n' you can put dat on yo' toast.  See below.
.PP
Da format definizzle be as bigs up.  Yo ass can use the
.BR libnetpbm (1)
 C subroutine library ta conveniently
and accurately read n' interpret tha format.
.PP
A PGM file consistz of a sequence of one or mo' PGM images. There are
no data, delimiters, or paddin before, after, or between images.
.PP
Each PGM image consistz of tha following:


  
.IP \(bu
A 'magic number' fo' identifyin tha file type.
A pgm imagez magic number is tha two charactas 'P5'.

.IP \(bu
Whitespace (blanks, TABs, CRs, LFs).

.IP \(bu
A width, formatted as ASCII charactas up in decimal.

.IP \(bu
Whitespace.

.IP \(bu
A height, again n' again n' again up in ASCII decimal.

.IP \(bu
Whitespace.

.IP \(bu
Da maximum gray value (Maxval), again n' again n' again up in ASCII decimal. It aint nuthin but tha nick nack patty wack, I still gots tha bigger sack.  Must be less
than 65536, n' mo' than zero.

.IP \(bu
A single whitespace characta (usually a newline).

.IP \(bu
A rasta of Height rows, up in order from top ta bottom.  Each row
consistz of Width gray joints, up in order from left ta right.  Each gray
value be a number from 0 all up in Maxval, wit 0 bein black n' Maxval
bein white.  Each gray value is represented up in pure binary by either
1 or 2 bytes.  If tha Maxval is less than 256, it is 1 byte.
Otherwise, it is 2 bytes.  Da most dope byte is first.
.sp
A row of a image is horizontal. It aint nuthin but tha nick nack patty wack, I still gots tha bigger sack.  A column is vertical. It aint nuthin but tha nick nack patty wack, I still gots tha bigger sack.  Da pixels
in tha image is square n' contiguous.
.sp
Each gray value be a number proportionizzle ta tha intensitizzle of the
pixel, adjusted by tha ITU-R Recommendation BT.709 gamma transfer
function. I aint talkin' bout chicken n' gravy biatch.  (That transfer function specifies a gamma number of 2.2 and
has a linear section fo' lil' small-ass intensities).  A value of zero is
therefore black.  A value of Maxval represents CIE D65 white n' the
most intense value up in tha image n' any other image ta which tha image
might be compared.
.sp
Note dat a cold-ass lil common variation on tha PGM format is ta have the
gray value be 'linear,' i.e. as specified above except
without tha gamma adjustment.  \fBpnmgamma\fP takes such a PGM
variant as input n' produces a legit PGM as output.
.sp
In tha transparency mask variation on PGM, tha value represents
opaqueness.  It be proportionizzle ta tha fraction of intensitizzle of a
pixel dat would show up in place of a underlyin pixel.  So what
normally means white represents total opaquenizz n' what tha fuck normally
means black represents total transparency.  In between, you would
compute tha intensitizzle of a cold-ass lil composite pixel of a 'under' and
\&'over' pixel as under * (1-(alpha/alpha_maxval)) + over *
(alpha/alpha_maxval).  Note dat there is no gamma transfer function
in tha transparency mask.

 
.PP
Strings startin wit '#' may be comments, tha same as
with
.BR PBM (1)
.
.PP
Note dat you can use \fBpamdepth\fP ta convert between a the
format wit 1 byte per gray value n' tha one wit 2 bytes per gray
value.
.PP
There is straight-up another version of tha PGM format dat is fairly
rare: 'plain' PGM format.  Da format above, which generally
considered tha aiiight one, is known as tha 'raw' PGM format.
See
.BR pbm (1)
 fo' some commentary on how tha fuck plain
and raw formats relate ta one another n' how tha fuck ta use em.
.PP
Da difference up in tha plain format is:


.TP
-
There is exactly one image up in a gangbangin' file.
.TP
-
Da magic number is P2 instead of P5.
.TP
-
Each pixel up in tha rasta is represented as a ASCII decimal number 
(of arbitrary size).
.TP
-
Each pixel up in tha rasta has white space before n' afta dat shit.  There must
be at least one characta of white space between any two pixels yo, but there
is no maximum.
.TP
-
No line should be longer than 70 characters.

.PP
Here be a example of a lil' small-ass image up in tha plain PGM format.
.nf
P2
# feep.pgm
24 7
15
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
0  3  3  3  3  0  0  7  7  7  7  0  0 11 11 11 11  0  0 15 15 15 15  0
0  3  0  0  0  0  0  7  0  0  0  0  0 11  0  0  0  0  0 15  0  0 15  0
0  3  3  3  0  0  0  7  7  7  0  0  0 11 11 11  0  0  0 15 15 15 15  0
0  3  0  0  0  0  0  7  0  0  0  0  0 11  0  0  0  0  0 15  0  0  0  0
0  3  0  0  0  0  0  7  7  7  7  0  0 11 11 11 11  0  0 15  0  0  0  0
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
.fi
.PP
There be a newline characta all up in tha end of each of these lines.
.PP
Programs dat read dis format should be as lenient as possible,
acceptin anythang dat looks remotely like a PGM.
.PP
All charactas referred ta herein is encoded up in ASCII.
\&'newline' refers tha characta known up in ASCII as Line
Feed or LF.  A 'white space' characta is space, CR, LF,
TAB, VT, or FF (I.e. what tha fuck tha ANSI standard C isspace() function
calls white space).


.UN compatibility
.SH COMPATIBILITY
.PP
Before April 2000, a raw format PGM file could not gotz a maxval pimped outer
than 255.  Hence, it could not have mo' than one byte per sample.  Old
programs may depend on all dis bullshit.
.PP
Before July 2000, there could be at most one image up in a PGM file.  As
a result, most tools ta process PGM filez ignore (and don't read) any
data afta tha straight-up original gangsta image.

.UN seealso
.SH SEE ALSO
.BR pnm (1)
,
.BR pbm (1)
,
.BR ppm (1)
,
.BR pam (1)
,
.BR libnetpbm (1)
,
.BR programs dat process PGM (1)
,

.UN author
.SH AUTHOR

Copyright (C) 1989, 1991 by Jef Poskanzer.
