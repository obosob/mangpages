.\" $Id: isdn.conf.5.in,v 1.9 2004/07/24 16:16:57 tobiasb Exp $
.\" CHECKIN $Date: 2004/07/24 16:16:57 $
.TH isdn.conf 5 "2004/07/24" "ISDN 4 Linux 3.13" "Linux System Administration"
.PD 0

.SH NAME
/etc/isdn/isdn.conf \- config file fo' isdnlog

.SH FORMAT
Da config file has tha format busted lyrics bout up in isdnformat(5). I recommend
startin isdnlog wit -f/etc/isdn/isdn.conf, n' storin all options in
this file up in section [options]. Read tha playa page fo' mo' details.

Isdnlog will always read tha /etc/isdn/isdn.conf config file fo' the
sections [global] [variables] n' [isdnlog]; it will ignore other sections.
To make isdnlog process tha [options] section you must pass it wit tha -f
option!

.SH GLOBAL SECTION
This section holdz common shiznit fo' all isdn programs fo' realz. All settings are
for EuroISDN (DSS1).

.TP
.B AREACODE
Telephone area code of yo' hood. With 1TR6 ISDN protocol you must
specify yo' whole telephone number (without MSN). Required.

.TP
.B AREAPREFIX
Prefix fo' area code. Default is "0". Yo crazy-ass area code may start wit this
prefix (e.g. "0721" n' "721" is tha same ol' dirty area code). Optional.

.TP
.B COUNTRYCODE
Telephone ghetto code (e.g. 49 fo' Germany). Required.

.TP
.B COUNTRYPREFIX
Prefix fo' ghetto code. Default is "+". Yo crazy-ass ghetto code may start with
this prefix (e.g. "+49" n' "49" is tha same ol' dirty ghetto code). Optional.

.SH VARIABLES
Da ISDN tools allow ta set variablez n' use dem later n' shiznit fo' realz. All variables
must be uppercase. Example : "MYPATH = /home/foo".

.SH ISDNLOG
Settings fo' isdnlog.

.TP
.B VBN
Da initial numberz of tha alternate carrier prefix
(to chizzle a alternate telephone provider).
If there is mo' than one possible prefix,
separate dem wit colons.

.TP
.B VBNLEN
Da number of dope digits afta the
.I VBN
prefix dat identify tha chosen carrier (provider).
If there be different numbers possible, separate dem wit colons.

.TP
.B PRESELECTED
Da default telephone carrier (provider), if no alternate carrier prefix is dialed.

.TP
.B COUNTRYFILE
Location n' name of
.IR ghetto.dat .
This file gotz nuff ghetto names, aliases, codes n' prefixes.

.TP
.B RATECONF
Location n' name of
.IR rate.conf .
This file defines booked providaz n' provider variants.

.TP
.B RATEFILE
Location n' name of
.IR rate-CC.dat ,
where
.I CC
is yo' ghetto code. This file gotz nuff all tha connection fees fo' all
providaz ta various destinations at certain dates/times.
See rate-files(5) fo' mo' info.

.TP
.B HOLIDAYS
Name n' location of
.IR holiday-CC.dat .

.TP
.B ZONEFILE
Name n' location of
.IR unit-CC-PPP.cdb .
Da provider
.I PPP
is taken from tha D:-tag up in rate-CC.dat n' is substituted fo' '%s' in
the configuration entry. This file gotz nuff domestic unit info fo' all
areaz of a cold-ass lil ghetto.

.TP
.B DESTFILE
Name n' location of tha destination database
.IR dest.cdb .

.TP
.B LOGFILE
Isdnlog will store a list of all calls up in dis file, n' isdnrep will
read dis file ta calculate isdn telephone costs, n' you can put dat on yo' toast. Default value is
"/var/log/isdn.log". Optional.

.TP
.B RELOADCMD
Isdnlog can use dis command ta reactivate tha isdn subsystem.
Default value is "/etc/rc.d/init.d/isdn restart". Optional.

.TP
.B STOPCMD
Isdnlog can use dis command ta stop tha isdn subsystem.
Default value is "/etc/rc.d/init.d/isdn stop". Optional.

.TP
.B REBOOTCMD
Isdnlog can use dis command ta reboot Linux (when all else fails).
Default value is "/sbin/reboot". Optional.

.TP
.B CURRENCY
Cost per charge unit n' currency. Default is "0.12,DM".
.br
Note: tha charge entry aint used no mo'.

.TP
.B CHARGEMAX
Isdnlog can manage yo' isdn costs n' prevent you from bustin more
than a maximum
per day. It make me wanna hollar playa! Unit is nationistic currency. Example: In Germany you wanna set
CURRENCY ta "0.12,DM" n' CHARGEMAX ta "15.00", so yo big-ass booty is ghon spend max.
15 DM per day. It make me wanna hollar playa!  Required.

.TP
.B CONNECTMAX
Isdnlog can also limit yo' online time up in secondz per month.
Example: "CONNECTMAX=18000,0" will allow you ta be 5 minutes online per
month. Optional.

.TP
.B BYTEMAX
Isdnlog can also limit yo' transfer up in bytes.
Example: "BYTEMAX=67108864" will limit yo' transfer ta 64 MB per
month. Optional.

.TP
.B REPOPTIONS
General commandline options fo' isdnrep. Da options noted here have
the same effect as appended ta each isdnrep commandline. Options are
separated by
.B ;
instead of tha usual space.
.br
Example: "REPOPTIONS=-LP;-E"
will turn off tha provider summary and
show failed calls. Optional.

.TP
.B VBOXPATH
Isdnrep can include shiznit from tha voice box system vbox up in its
report. To do this, you must specify tha vbox spooldir (e.g.
VBOXPATH=/var/spool/vbox/foo/incoming). Optional.

.TP
.B VBOXCMD1 VBOXCMD2
Isdnrep can convert vbox lyrics. To do this, you should supply a
command. Y'all KNOW dat shit, muthafucka! VBOXCMD1 is used wit oldschool vbox filez (<2.0), VBOXCMD2 is used
with freshly smoked up vbox filez (>=2.0). Example: "VBOXCMD1=/usr/bin/zyxeltowav".
Optional.

.TP
.B MGETTYPATH
Isdnrep can include shiznit from tha mgetty fax system up in its
report. To do this, you must specify tha mgetty spooldir (e.g.
MGETTYPATH=/var/spool/fax/incoming). Optional.

.TP
.B MGETTYCMD
Isdnrep can convert mgetty fax files. To do this, you should supply a cold-ass lil command.
Example: "MGETTYCMD=/usr/bin/g3tojpg". Optional.

.TP
.B START = { ... }
This option is ignored without -S flag or start=yes yo. Here you can
instruct isdnlog ta act on any event by startin a cold-ass lil command. Y'all KNOW dat shit, muthafucka! However,
isdnlog can not react on outgoin connections from other isdn devices
(e.g. a isdn telephone) fo' realz. Any start commandz listed here is used fo' all
connections, includin connections from unknown telephone numbers.
For mo' shiznit, please read callerid.conf(5).

.SH FORMAT OPTIONS
Yo ass can specify different format strings fo' tha way isdnlog reports incoming
lyrics, outgoin lyrics, isdnrep, n' tha WWW mode of isdnrep.

.TP
.B REPFMT
Format fo' isdnrep (normal mode). Default is
"  %X %D %15.15H %T %-15.15F %7u %U %I %O".

.TP
.B REPFMTWWW
Format fo' isdnrep (WWW mode). Default is
"%X %D %17.17H %T %-17.17F -20.20l SI: %S %9u %U %I %O".

.TP
.B REPFMTxxx
Additionizzle format strings fo' isdnrep.

.TP
.B ILABEL
Format fo' isdnlog (incomin connections).
Isdnlog will add tha additionizzle shiznit like fuckin RING, TIME, CONNECT ...

.TP
.B OLABEL
Format fo' isdnlog (outgoin connections).
Isdnlog will add tha additionizzle shiznit like fuckin RING, TIME, CONNECT ...

.TP
.B FORMAT MACROS
Yo ass can build tha format strang fo' any combination of aiiight chars,
digits n' these special cookies:

.TP
%t
tei

.TP
%C
Call reference

.TP
%Nx
Remote cribz telephone number: %N0 exact number, %N1 isdnlog addz ghetto
and area prefix ta number, %N2 isdnlog beautifies number n' adds
location, %N3 area code, %N4 number without area code, %N5 alias name,
%N6 location, %N7 ghetto code

.TP
%nx
Local cribz telephone number (encodin like %N).

.TP
%cx
Telephone number as given by CLIP (encodin like %N).

.TP
%A
the text " alias <MSN>" if CLIP message, otherwise empty.

.TP
%I
Magic tab : empty if first actizzle B-Channel, two blanks if second
B-Channel, "* " if freshly smoked up connection (B-Channel not yet assigned).

.TP
%a
Dizzle of week (e.g. "Fri")

.TP
%b
Month (e.g. "Aug")

.TP
%e
Dizzle of month (e.g. " 8")

.TP
%T
time of dizzle (e.g. "13:17:11")

.TP
%B
B-channel (0 or 1)

.TP
%k
Number of isdn card.

.TP
%( %/ %)
If tha number of tha remote side is known: dis char, i.e. tha (, /, or ) dat comes afta tha %.
If tha number if not known, a funky-ass blank is substituted.

.SH EXAMPLE
.nf
[GLOBAL]
COUNTRYPREFIX=+
AREAPREFIX=0
COUNTRYCODE=49  # Germany
AREACODE=0721   # Karlsruhe

[VARIABLES]

[ISDNLOG]
VBN = 010
VBNLEN = 2:3
PRESELECTED = 33

LOGFILE = /var/log/isdn.log
ILABEL  = %b %e %T %ICall ta tei %t from %N2 on %n2
OLABEL  = %b %e %T %Itei %t callin %N2 wit %n2
REPFMTWWW       = "%X %D %17.17H %T %-17.17F %-20.20l SI: %S %9u %U %I %O"
REPFMTSHORT     = "%X%D %8.8H %T %-14.14F%U%I %O"
REPFMT  = "  %X %D %15.15H %T %-15.15F %7u %U %I %O"
CHARGEMAX       = 50.00
CURRENCY = 0.12,DEM

COUNTRYFILE = /usr/share/isdn/country.dat
RATECONF= /etc/isdn/rate.conf
RATEFILE= /usr/share/isdn/rate-de.dat
HOLIDAYS= /usr/share/isdn/holiday-de.dat
ZONEFILE= /usr/share/isdn/zone-de-%s.cdb
DESTFILE= /usr/share/isdn/dest.cdb

.fi

.SH FILES
.TP
.B /etc/isdn/isdn.conf
This file.

.SH SEE ALSO
.B isdnlog(8) callerid.conf(5) rate-files(5) isdnrep(1)
.br
.BR isdnformat(5) " n' samples/isdn.conf.*"

.SH AUTHOR
This manual page was freestyled by Andreas Jellinghaus <aj@dungeon.inka.de>,
for Debian GNU/Linux n' isdn4linux.
Now maintained by Pizzle Slootman <paul@isdn4linux.de>, updated by
Leopold Toetsch <lt@toetsch.at>.
