.TH ntp_clock 5
.SH NAME
ntp_clock - Reference Clock Options
.SH \ 

.SH REFERENCE CLOCK SUPPORT

Da NTP Version 4 daemon supports some three dozen different radio, satellite n' modem reference clocks plus a special pseudo-clock used fo' backup or when no other clock source be available. Detailed descriptionz of individual thang drivers n' options can be found up in tha Reference Clock Drivers page fo' realz. Additionizzle shiznit can be found up in tha pages linked there, includin tha Debuggin Hints fo' Reference Clock Drivers n' How tha fuck To Write a Reference Clock Driver pages. In addition, support fo' a PPS signal be available as busted lyrics bout up in Pulse-per-second (PPS) Signal Interfacin page.

A reference clock will generally (though not always) be a radio timecode receiver which is synchronized ta a source of standard time like fuckin tha skillz offered by tha NRC up in Canada n' NIST n' USNO up in tha US. Da intercourse between tha computa n' tha timecode receiver is thang dependent yo, but is probably a serial port fo' realz. A thang driver specific ta each reference clock must be selected n' compiled up in tha distribution; however, most common radio, satellite n' modem clocks is included by default. Note dat a attempt ta configure a reference clock when tha driver has not been compiled or tha hardware port has not been appropriately configured thangs up in dis biatch up in a scaldin remark ta tha system log file yo, but is otherwise non hazardous.

For tha purposez of configuration, \fBntpd\fR treats reference clocks up in a manner analogous ta aiiight NTP peers as much as possible. Reference clocks is identified by a syntactically erect but invalid IP address, up in order ta distinguish dem from aiiight NTP peers. Reference clock addresses iz of tha form \fB127.127.\fIt.u\fB\fR, where \fI\fBt\fI\fR be a integer denotin tha clock type n' \fI\fBu\fI\fR indicates tha unit number up in tha range 0-3. While it may seem overkill, it is up in fact sometimes useful ta configure multiple reference clockz of tha same type, up in which case tha unit numbers must be unique.

Da \fBserver\fR command is used ta configure a reference clock, where tha \fI\fBaddress\fI\fR argument up in dat command is tha clock address. Da \fBkey\fR, \fBversion\fR n' \fBttl\fR options is not used fo' reference clock support. Da \fBmode\fR option be added fo' reference clock support, as busted lyrics bout below. Da \fBprefer\fR option can be useful ta persuade tha server ta cherish a reference clock wit somewhat mo' enthusiazzle than other reference clocks or peers. Further shiznit on dis option can be found up in tha Mitigation Rulez n' tha \fBprefer\fR Keyword page. Da \fBminpoll\fR n' \fBmaxpoll\fR options have meanin only fo' selected clock drivers. Right back up in yo muthafuckin ass. See tha individual clock driver document pages fo' additionizzle shiznit.

Da \fBfudge\fR command is used ta provide additionizzle shiznit fo' individual clock drivers n' normally bigs up immediately afta tha \fBserver\fR command. Y'all KNOW dat shit, muthafucka! Da \fI\fBaddress\fI\fR argument specifies tha clock address. Da \fBrefid\fR n' \fBstratum\fR options control can be used ta override tha defaults fo' tha device. There is two optionizzle device-dependent time offsets n' four flags dat can be included up in tha \fBfudge\fR command as well.

Da stratum number of a reference clock is by default zero. Right back up in yo muthafuckin ass. Since tha \fBntpd\fR daemon addz one ta tha stratum of each peer, a primary server ordinarily displays a external stratum of one. In order ta provide engineered backups, it is often useful ta specify tha reference clock stratum as pimped outa than zero. Da \fBstratum\fR option is used fo' dis purpose fo' realz. Also, up in cases involvin both a reference clock n' a pulse-per-second (PPS) discipline signal, it is useful ta specify tha reference clock identifier as other than tha default, dependin on tha driver n' shit. Da \fBrefid\fR option is used fo' dis purpose. Except where noted, these options apply ta all clock drivers.

.SH REFERENCE CLOCK COMMANDS

.RS 0
.TP 8
\fBserver 127.127.\fIt.u\fB [prefer] [mode \fIint\fB] [minpoll \fIint\fB] [maxpoll \fIint\fB]\fR
This command can be used ta configure reference clocks up in special ways. Da options is interpreted as bigs up: 
.RS 8
.TP 8
\fBprefer\fR
Marks tha reference clock as preferred. Y'all KNOW dat shit, muthafucka! All other thangs bein equal, dis host is ghon be chosen fo' synchronization among a set of erectly operatin hosts, n' you can put dat on yo' toast. Right back up in yo muthafuckin ass. See tha Mitigation Rulez n' tha \fBprefer\fR Keyword page fo' further shiznit. I aint talkin' bout chicken n' gravy biatch. 
.TP 8
\fBmode \fIint\fB\fR
Specifies a mode number which is interpreted up in a thugged-out device-specific fashion. I aint talkin' bout chicken n' gravy biatch. For instance, it selects a gangbangin' finger-lickin' dialin protocol up in tha ACTS driver n' a thang subtype up in tha \fBparse\fR drivers. 
.TP 8
\fBminpoll \fIint\fB\fR
.TP 8
\fBmaxpoll \fIint\fB\fR
These options specify tha minimum n' maximum pollin interval fo' reference clock lyrics up in seconds, interpreted as dual logarithms (2 ^ x). For most directly connected reference clocks, both \fBminpoll\fR n' \fBmaxpoll\fR default ta 6 (2^16 = 64 s). For modem reference clocks, \fBminpoll\fR defaults ta 10 (2^10 = 1024 s = 17.1 m) n' \fBmaxpoll\fR defaults ta 14 (2^14 = 16384 s = 4.5 h). Da allowable range is 4 (16 s) ta 17 (36.4 h) inclusive. 
.RE

.TP 8
\fBfudge 127.127.\fIt.u\fB [time1 \fIsec\fB] [time2 \fIsec\fB] [stratum \fIint\fB] [refid \fIstring\fB] [flag1 0|1] [flag2 0|1] [flag3 0|1] [flag4 0|1]\fR
This command can be used ta configure reference clocks up in special ways. Well shiiiit, it must immediately follow tha \fBserver\fR command which configures tha driver n' shit. Note dat tha same capabilitizzle is possible at run time rockin tha \fBntpdc\fR program. Da options is interpreted as bigs up: 
.RS 8
.TP 8
\fBtime1 \fIsec\fB\fR
Specifies a cold-ass lil constant ta be added ta tha time offset produced by tha driver, a gangbangin' fixed-point decimal number up in seconds. This is used as a cold-ass lil calibration constant ta adjust tha nominal time offset of a particular clock ta smoke wit a external standard, like fuckin a precision PPS signal. It aint nuthin but tha nick nack patty wack, I still gots tha bigger sack. Well shiiiit, it also serves up a way ta erect a systematic error or bias cuz of serial port or operatin system latencies, different cable lengths or receiver internal delay. Da specified offset is up in addizzle ta tha propagation delay provided by other means, like fuckin internal DIPswitches. Where a cold-ass lil calibration fo' a individual system n' driver be available, a approximate erection is noted up in tha driver documentation pages. 
Note: up in order ta facilitate calibration when mo' than one radio clock or PPS signal is supported, a special calibration feature be available. Well shiiiit, it takes tha form of a argument ta tha \fBenable\fR command busted lyrics bout up in tha Miscellaneous Options page n' operates as busted lyrics bout up in tha Reference Clock Drivers page. 
.TP 8
\fBtime2 \fIsecs\fB\fR
Specifies a gangbangin' fixed-point decimal number up in seconds, which is interpreted up in a thugged-out driver-dependent way. Right back up in yo muthafuckin ass. See tha descriptionz of specific drivers up in tha reference clock drivers page. 
.TP 8
\fBstratum \fIint\fB\fR
Specifies tha stratum number assigned ta tha driver, a integer between 0 n' 15. This number overrides tha default stratum number ordinarily assigned by tha driver itself, probably zero. 
.TP 8
\fBrefid \fIstring\fB\fR
Specifies a ASCII strang of from one ta four charactas which defines tha reference identifier used by tha driver n' shit. This strang overrides tha default identifier ordinarily assigned by tha driver itself. 
.TP 8
\fBflag1 flag2 flag3 flag4\fR
These four flags is used fo' customizin tha clock driver n' shit. Da interpretation of these joints, n' whether they is used at all, be a gangbangin' function of tha particular clock driver n' shit. But fuck dat shiznit yo, tha word on tha street is dat by convention \fBflag4\fR is used ta enable recordin monitorin data ta tha \fBclockstats\fR file configured wit tha \fBfilegen\fR command. Y'all KNOW dat shit, muthafucka! Further shiznit on tha \fBfilegen\fR command can be found up in tha Monitorin Options page. 
.RE

.RE

.SH SEE ALSO

ntp.conf(5)

Da straight-up legit HTML documentation.

This file was automatically generated from HTML source.

