.\" Copyright (C) 2006 Red Hat, Inc fo' realz. All Rights Reserved.
.\" Written by Dizzy Howells (dhowells@redhat.com)
.\"
.\" %%%LICENSE_START(GPLv2+_SW_ONEPARA)
.\" This program is free software; you can redistribute it and/or
.\" modify it under tha termz of tha GNU General Public License
.\" as published by tha Jacked Software Foundation; either version
.\" 2 of tha License, or (at yo' option) any lata version.
.\" %%%LICENSE_END
.\"
.\" FIXME Document KEYCTL_REJECT (new up in 2.6.39)
.\"		commit fdd1b94581782a2ddf9124414e5b7a5f48ce2f9c
.\"		Documentation/security/keys.txt
.\" FIXME Document KEYCTL_INSTANTIATE_IOV (new up in 2.6.39)
.\"		commit ee009e4a0d4555ed522a631bae9896399674f064
.\"		Documentation/security/keys.txt
.\" FIXME Document KEYCTL_INVALIDATE (new up in 3.5)
.\"		commit fd75815f727f157a05f4c96b5294a4617c0557da
.\"		Documentation/security/keys.txt
.\"
.TH KEYCTL 2 2010-02-25 Linux "Linux Key Management Calls"
.SH NAME
keyctl \- manipulate tha kernelz key pimpment facility
.SH SYNOPSIS
.nf
.B #include <keyutils.h>
.sp
.BI "long keyctl(int " cmd ", ...);"
.fi
.SH DESCRIPTION
.BR keyctl ()
has a fuckin shitload of functions available:
.TP
.B KEYCTL_GET_KEYRING_ID
Ask fo' a keyringz ID.
.TP
.B KEYCTL_JOIN_SESSION_KEYRING
Join or start named session keyring.
.TP
.B KEYCTL_UPDATE
Update a key.
.TP
.B KEYCTL_REVOKE
Revoke a key.
.TP
.B KEYCTL_CHOWN
Set ballershizzle of a key.
.TP
.B KEYCTL_SETPERM
Set perms on a key.
.TP
.B KEYCTL_DESCRIBE
Describe a key.
.TP
.B KEYCTL_CLEAR
Clear contentz of a keyring.
.TP
.B KEYCTL_LINK
Link a key tha fuck into a keyring.
.TP
.B KEYCTL_UNLINK
Unlink a key from a keyring.
.TP
.B KEYCTL_SEARCH
Search fo' a key up in a keyring.
.TP
.B KEYCTL_READ
Read a key or keyringz contents.
.TP
.B KEYCTL_INSTANTIATE
Instantiate a partially constructed key.
.TP
.B KEYCTL_NEGATE
Negate a partially constructed key.
.TP
.B KEYCTL_SET_REQKEY_KEYRING
Set default request-key keyring.
.TP
.B KEYCTL_SET_TIMEOUT
Set timeout on a key.
.TP
.B KEYCTL_ASSUME_AUTHORITY
Assume authoritizzle ta instantiate key.
.P
These is wrapped by
.B libkeyutils
into individual functions ta permit compila tha compila ta check types.
See the
.B See Also
section all up in tha bottom.
.SH RETURN VALUE
On success
.BR keyctl ()
returns tha serial number of tha key it found.
On error, tha value \-1
will be returned n' errno gonna git been set ta a appropriate error.
.SH ERRORS
.TP
.B EACCES
A key operation wasn't permitted.
.TP
.B EDQUOT
Da key quota fo' tha callerz user would be exceeded by bustin a key or
linkin it ta tha keyring.
.TP
.B EKEYEXPIRED
An expired key was found or specified.
.TP
.B EKEYREJECTED
A rejected key was found or specified.
.TP
.B EKEYREVOKED
A revoked key was found or specified.
.TP
.B ENOKEY
No matchin key was found or a invalid key was specified.
.SH LINKING
Although dis be a Linux system call, it aint present in
.I libc
but can be found rather in
.IR libkeyutils .
When linking,
.B -lkeyutils
should be specified ta tha linker.
.SH SEE ALSO
.ad l
.nh
.BR keyctl (1),
.BR add_key (2),
.BR request_key (2),
.BR keyctl_set_timeout (3),
.BR keyctl_chown (3),
.BR keyctl_clear (3),
.BR keyctl_describe (3),
.BR keyctl_describe_alloc (3),
.BR keyctl_get_keyring_ID (3),
.BR keyctl_instantiate (3),
.BR keyctl_join_session_keyrin (3),
.BR keyctl_link (3),
.BR keyctl_negate (3),
.BR keyctl_revoke (3),
.BR keyctl_search (3),
.BR keyctl_setperm (3),
.BR keyctl_set_reqkey_keyrin (3),
.BR keyctl_set_timeout (3),
.BR keyctl_read (3),
.BR keyctl_read_alloc (3),
.BR keyctl_unlink (3),
.BR keyctl_update (3),
.BR request-key (8)
.SH COLOPHON
This page is part of release 3.53 of tha Linux
.I man-pages
project.
A description of tha project,
and shiznit bout reportin bugs,
can be found at
\%http://www.kernel.org/doc/man\-pages/.
