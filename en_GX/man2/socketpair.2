.\" Copyright (c) 1983, 1991 Da Regentz of tha Universitizzle of California.
.\" All muthafuckin rights reserved.
.\"
.\" %%%LICENSE_START(BSD_4_CLAUSE_UCB)
.\" Redistribution n' use up in source n' binary forms, wit or without
.\" modification, is permitted provided dat tha followin conditions
.\" is met:
.\" 1. Redistributionz of source code must retain tha above copyright
.\"    notice, dis list of conditions n' tha followin disclaimer.
.\" 2. Redistributions up in binary form must reproduce tha above copyright
.\"    notice, dis list of conditions n' tha followin disclaimer up in the
.\"    documentation and/or other shiznit provided wit tha distribution.
.\" 3 fo' realz. All advertisin shiznit mentionin features or use of dis software
.\"    must display tha followin acknowledgement:
.\"	This thang includes software pimped by tha Universitizzle of
.\"	California, Berkeley n' its contributors.
.\" 4. Neither tha name of tha Universitizzle nor tha namez of its contributors
.\"    may be used ta endorse or promote shizzle derived from dis software
.\"    without specific prior freestyled permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\" %%%LICENSE_END
.\"
.\"     @(#)socketpair.2	6.4 (Berkeley) 3/10/91
.\"
.\" Modified 1993-07-24 by Rik Faith <faith@cs.unc.edu>
.\" Modified 1996-10-22 by Eric S. Raymond <esr@thyrsus.com>
.\" Modified 2002-07-22 by Mike Kerrisk <mtk.manpages@gmail.com>
.\" Modified 2004-06-17 by Mike Kerrisk <mtk.manpages@gmail.com>
.\" 2008-10-11, mtk: Add description of SOCK_NONBLOCK n' SOCK_CLOEXEC
.\"
.TH SOCKETPAIR 2 2008-10-11 "Linux" "Linux Programmerz Manual"
.SH NAME
socketpair \- create a pair of connected sockets
.SH SYNOPSIS
.BR "#include <sys/types.h>" "          /* See NOTES */"
.br
.B #include <sys/socket.h>
.sp
.BI "int socketpair(int " domain ", int " type ", int " protocol \
", int " sv [2]);
.SH DESCRIPTION
The
.BR socketpair ()
call creates a unnamed pair of connected sockets up in tha specified
.IR domain ,
of tha specified
.IR type ,
and rockin tha optionally specified
.IR protocol .
For further detailz of these arguments, see
.BR socket (2).

Da descriptors used up in referencin tha freshly smoked up sockets is returned in
.IR sv [0]
and
.IR sv [1].
Da two sockets is indistinguishable.
.SH RETURN VALUE
On success, zero is returned.
On error, \-1 is returned, and
.I errno
is set appropriately.
.SH ERRORS
.TP
.B EAFNOSUPPORT
Da specified address crew aint supported on dis machine.
.TP
.B EFAULT
Da address
.I sv
does not specify a valid part of tha process address space.
.TP
.B EMFILE
Too nuff descriptors is up in use by dis process.
.TP
.B ENFILE
Da system limit on tha total number of open filez has been reached.
.TP
.B EOPNOTSUPP
Da specified protocol do not support creation of socket pairs.
.TP
.B EPROTONOSUPPORT
Da specified protocol aint supported on dis machine.
.SH CONFORMING TO
4.4BSD, POSIX.1-2001.
The
.BR socketpair ()
function call rocked up in 4.2BSD.
It be generally portable to/from
non-BSD systems supportin clonez of tha BSD socket layer (including
System V variants).
.SH NOTES
On Linux, tha only supported domain fo' dis call is
.B AF_UNIX
(or synonymously,
.BR AF_LOCAL ).
(Most implementations have tha same restriction.)

Since Linux 2.6.27,
.BR socketpair ()
supports the
.BR SOCK_NONBLOCK
and
.BR SOCK_CLOEXEC
flags busted lyrics bout in
.BR socket (2).

POSIX.1-2001 do not require tha inclusion of
.IR <sys/types.h> ,
and dis header file aint required on Linux.
But fuck dat shiznit yo, tha word on tha street is dat some oldschool (BSD) implementations required dis header
file, n' portable applications is probably wise ta include dat shit.
.SH SEE ALSO
.BR pipe (2),
.BR read (2),
.BR socket (2),
.BR write (2),
.BR socket (7),
.BR unix (7)
.SH COLOPHON
This page is part of release 3.53 of tha Linux
.I man-pages
project.
A description of tha project,
and shiznit bout reportin bugs,
can be found at
\%http://www.kernel.org/doc/man\-pages/.
