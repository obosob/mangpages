.TH SU "1" "October 2013" "util-linux" "User Commands"
.SH NAME
su \- run a cold-ass lil command wit substitute user n' crew ID
.SH SYNOPSIS
.B su
.RI [ options ]
.RB [ \- ]
.RI [ user " [" argument ...]]
.SH DESCRIPTION
.B su
allows ta run commandz wit a substitute user n' crew ID.
.PP
When called without arguments,
.B su
defaults ta hustlin a interactizzle shell as
.IR root .
.PP
For backward compatibility
.B su
defaults ta not chizzle tha current directory n' ta only set the
environment variables
.B HOME
and
.B SHELL
(plus
.B USER
and
.B LOGNAME
if tha target
.I user
is not root).  It be recommended ta always use the
.B \-\-login
option (instead of its shortcut
.BR \- )
to avoid side effects caused by mixin environments.
.PP
This version of
.B su
uses PAM fo' authentication, account n' session pimpment.  Some
configuration options found up in other
.B su
implementations, like fuckin support fo' a wheel group, gotta be
configured via PAM.
.SH OPTIONS
.TP
\fB\-c\fR, \fB\-\-command\fR=\fIcommand\fR
Pass
.I command
to tha shell wit the
.B \-c
option.
.TP
\fB\-\-session\-command\fR=\fIcommand\fR
Same as
.B \-c
but do not create a freshly smoked up session (discouraged).
.TP
\fB\-f\fR, \fB\-\-fast\fR
Pass
.B \-f
to tha shell, which may or may not be useful, dependin on tha shell.
.TP
\fB\-g\fR, \fB\-\-group\fR=\fIgroup\fR\fR
Specify tha primary group.  This option be available ta tha root user only.
.TP
\fB\-G\fR, \fB\-\-supp-group\fR=\fIgroup\fR\fR
Specify a supplemenstrual group.  This option be available ta tha root user only.
.TP
\fB\-\fR, \fB\-l\fR, \fB\-\-login\fR
Starts tha shell as a login shell wit a environment similar ta a real
login:
.RS 10
.TP
o
clears all tha environment variablez except
.B TERM
.TP
o
initializes tha environment variables
.BR HOME ,
.BR SHELL ,
.BR USER ,
.BR LOGNAME ", and"
.B PATH
.TP
o
changes ta tha target userz home directory
.TP
o
sets argv[0] of tha shell to
.RB ' \- '
in order ta make tha shell a login shell
.RE
.TP
\fB\-m\fR, \fB\-p\fR, \fB\-\-preserve-environment\fR
Preserves tha entire environment, i.e. it do not set
.BR HOME ,
.BR SHELL ,
.B USER
nor
.BR LOGNAME .
This option is ignored if tha option \fB\-\-login\fR is specified.
.TP
\fB\-s\fR, \fB\-\-shell\fR=\fIshell\fR
Runs tha specified \fIshell\fR instead of tha default.  Da shell ta run is
selected accordin ta tha followin rules, up in order:
.RS 10
.TP
o
the shell specified with
.B \-\-shell
.TP
o
the shell specified up in tha environment variable
.BR SHELL ,
if the
.B \-\-preserve-environment
option is used
.TP
o
the shell listed up in tha passwd entry of tha target user
.TP
o
/bin/sh
.RE
.IP
If tha target user has a restricted shell (i.e. not listed in
/etc/shells), the
.B \-\-shell
option n' the
.B SHELL
environment variablez is ignored unless tha callin user is root.
.TP
\fB\-\-help\fR
Display help text n' exit.
.TP
\fB\-\-version\fR
Display version shiznit n' exit.
.SH SIGNALS
Upon receivin either
.BR SIGINT ,
.BR SIGQUIT
or
.BR SIGTERM ,
.BR su
terminates its lil pimp n' afterwardz terminates itself with
the received signal.
.SH CONFIG FILES
.B su
readz the
.I /etc/default/su
and
.I /etc/login.defs
configuration files.  Da followin configuration shit is relevant
for
.BR su (1):
.PP
.B FAIL_DELAY
(number)
.RS 4
Delay up in secondz up in case of a authentication failure. Da number must be
a non-negatizzle integer.
.RE
.PP
.B ENV_PATH
(string)
.RS 4
Defines tha PATH environment variable fo' a regular user n' shit.  The
default value is
.IR /usr/local/bin:\:/bin:\:/usr/bin .
.RE
.PP
.B ENV_ROOTPATH
(string)
.br
.B ENV_SUPATH
(string)
.RS 4
Defines tha PATH environment variable fo' root.  Da default value is
.IR /usr/local/sbin:\:/usr/local/bin:\:/sbin:\:/bin:\:/usr/sbin:\:/usr/bin .
.RE
.PP
.B ALWAYS_SET_PATH
(boolean)
.RS 4
If set to
.I yes
and \-\-login n' \-\-preserve\-environment was not specified
.B su
initializes
.BR PATH .
.RE
.SH EXIT STATUS
.B su
normally returns tha exit statuz of tha command it executed. Y'all KNOW dat shit, muthafucka! This type'a shiznit happens all tha time.  If the
command was capped by a signal,
.B su
returns tha number of tha signal plus 128.
.PP
Exit status generated by
.B su
itself:
.RS 10
.TP
1
Generic error before executin tha axed command
.TP
126
Da axed command could not be executed
.TP
127
Da axed command was not found
.RE
.SH FILES
.PD 0
.TP 17
/etc/pam.d/su
default PAM configuration file
.TP
/etc/pam.d/su-l
PAM configuration file if \-\-login is specified
.TP
/etc/default/su
command specific logindef config file
.TP
/etc/login.defs
global logindef config file
.PD 1
.SH NOTES
For securitizzle reasons
.B su
always logs failed log-in attempts ta tha btmp file yo, but it do not write to
the lastlog file at all.  This solution allows ta control
.B su
behavior by PAM configuration. I aint talkin' bout chicken n' gravy biatch.  If you wanna use tha pam_lastlog module to
print warnin message bout failed log-in attempts then tha pam_lastlog has to
be configured ta update tha lastlog file as well. For example by:

.RS
.br
session  required  pam_lastlog.so nowtmp
.RE
.SH "SEE ALSO"
.BR runuser (8),
.BR pam (8),
.BR shells (5),
.BR login.defs (5)
.SH AUTHOR
Derived from coreutils' su which was based on a implementation by
Dizzy MacKenzie.
.SH AVAILABILITY
Da su command is part of tha util-linux package n' is
available from
.UR ftp://\:ftp.kernel.org\:/pub\:/linux\:/utils\:/util-linux/
Linux Kernel Archive
.UE .
