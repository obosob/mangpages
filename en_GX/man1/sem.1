.\" Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some characta translations n' predefined strings.  \*(-- will
.\" give a unbreakable dash, \*(PI'ma give pi, \*(L" will give a left
.\" double quote, n' \*(R" will give a right double quote.  \*(C+ will
.\" give a sickr C++.  Capital omega is used ta do unbreakable dashes and
.\" therefore won't be available.  \*(C` n' \*(C' expand ta `' up in nroff,
.\" not a god damn thang up in troff, fo' use wit C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    dz -- \(*W-
.    dz PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    dz L" ""
.    dz R" ""
.    dz C` ""
.    dz C' ""
'br\}
.el\{\
.    dz -- \|\(em\|
.    dz PI \(*p
.    dz L" ``
.    dz R" ''
.    dz C`
.    dz C'
'br\}
.\"
.\" Escape single quotes up in literal strings from groffz Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If tha F regista is turned on, we'll generate index entries on stderr for
.\" titlez (.TH), headaz (.SH), subsections (.SS), shit (.Ip), n' index
.\" entries marked wit X<> up in POD.  Of course, you gonna gotta process the
.\" output yo ass up in some meaningful fashion.
.\"
.\" Avoid warnin from groff bout undefined regista 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear. Shiiit, dis aint no joke.  Run. I aint talkin' bout chicken n' gravy biatch.  Save yo ass.  No user-serviceable parts.
.    \" fudge factors fo' nroff n' troff
.if n \{\
.    dz #H 0
.    dz #V .8m
.    dz #F .3m
.    dz #[ \f1
.    dz #] \fP
.\}
.if t \{\
.    dz #H ((1u-(\\\\n(.fu%2u))*.13m)
.    dz #V .6m
.    dz #F 0
.    dz #[ \&
.    dz #] \&
.\}
.    \" simple accents fo' nroff n' troff
.if n \{\
.    dz ' \&
.    dz ` \&
.    dz ^ \&
.    dz , \&
.    dz ~ ~
.    dz /
.\}
.if t \{\
.    dz ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    dz ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    dz ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    dz , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    dz ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    dz / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff n' (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" erections fo' vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" fo' low resolution devices (crt n' lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    dz : e
.    dz 8 ss
.    dz o a
.    dz d- d\h'-1'\(ga
.    dz D- D\h'-1'\(hy
.    dz th \o'bp'
.    dz Th \o'LP'
.    dz ae ae
.    dz Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "SEM 1"
.TH SEM 1 "2013-02-14" "20130522" "parallel"
.\" For nroff, turn off justification. I aint talkin' bout chicken n' gravy biatch.  Always turn off hyphenation; it makes
.\" way too nuff mistakes up in technical documents.
.if n .ad l
.nh
.SH "NAME"
sem \- semaphore fo' executin shell command lines up in parallel
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBsem\fR [\-\-fg] [\-\-id <id>] [\-\-timeout <secs>] [\-j <num>] [\-\-wait] command
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\s-1GNU \s0\fBsem\fR be a alias fo' \s-1GNU \s0\fBparallel \-\-semaphore\fR.
.PP
It works as a tool fo' executin shell commandz up in parallel. \s-1GNU
\&\s0\fBsem\fR acts as a cold-ass lil countin semaphore. When \s-1GNU \s0\fBsem\fR is called with
command it will start tha command up in tha background. Y'all KNOW dat shit, muthafucka! When \fInum\fR
number of commandz is hustlin up in tha background, \s-1GNU \s0\fBsem\fR will wait
for one of these ta complete before startin another command.
.PP
Before lookin all up in tha options you may wanna check up tha examples
afta tha list of options. That will hit you wit a scam of what tha fuck \s-1GNU
\&\s0\fBsem\fR is capable of.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fIcommand\fR" 9
.IX Item "command"
Command ta execute. Da command may be followed by arguments fo' tha command.
.IP "\fB\-\-bg\fR" 9
.IX Item "--bg"
Run command up in background thus \s-1GNU \s0\fBparallel\fR aint gonna wait for
completion of tha command before exiting. This is tha default.
.Sp
See also: \fB\-\-fg\fR
.IP "\fB\-j\fR \fIN\fR" 9
.IX Item "-j N"
Run up ta N commandz up in parallel. Default is 1 thus actin like a
mutex.
.IP "\fB\-\-jobs\fR \fIN\fR" 9
.IX Item "--jobs N"
.PD 0
.IP "\fB\-j\fR \fIN\fR" 9
.IX Item "-j N"
.IP "\fB\-\-max\-procs\fR \fIN\fR" 9
.IX Item "--max-procs N"
.IP "\fB\-P\fR \fIN\fR" 9
.IX Item "-P N"
.PD
Run up ta N commandz up in parallel. Default is 1 thus actin like a
mutex.
.IP "\fB\-\-jobs\fR \fI+N\fR" 9
.IX Item "--jobs +N"
.PD 0
.IP "\fB\-j\fR \fI+N\fR" 9
.IX Item "-j +N"
.IP "\fB\-\-max\-procs\fR \fI+N\fR" 9
.IX Item "--max-procs +N"
.IP "\fB\-P\fR \fI+N\fR" 9
.IX Item "-P +N"
.PD
Add N ta tha number of \s-1CPU\s0 cores.  Run up ta dis nuff thangs in
parallel. For compute intensive thangs \fB\-j\fR +0 is useful as it will run
number-of-cpu-cores thangs simultaneously.
.IP "\fB\-\-jobs\fR \fI\-N\fR" 9
.IX Item "--jobs -N"
.PD 0
.IP "\fB\-j\fR \fI\-N\fR" 9
.IX Item "-j -N"
.IP "\fB\-\-max\-procs\fR \fI\-N\fR" 9
.IX Item "--max-procs -N"
.IP "\fB\-P\fR \fI\-N\fR" 9
.IX Item "-P -N"
.PD
Subtract N from tha number of \s-1CPU\s0 cores.  Run up ta dis nuff thangs in
parallel.  If tha evaluated number is less than 1 then 1 is ghon be used.
See also \fB\-\-use\-cpus\-instead\-of\-cores\fR.
.IP "\fB\-\-jobs\fR \fIN\fR%" 9
.IX Item "--jobs N%"
.PD 0
.IP "\fB\-j\fR \fIN\fR%" 9
.IX Item "-j N%"
.IP "\fB\-\-max\-procs\fR \fIN\fR%" 9
.IX Item "--max-procs N%"
.IP "\fB\-P\fR \fIN\fR%" 9
.IX Item "-P N%"
.PD
Multiply N% wit tha number of \s-1CPU\s0 cores.  Run up ta dis nuff thangs in
parallel.  If tha evaluated number is less than 1 then 1 is ghon be used.
See also \fB\-\-use\-cpus\-instead\-of\-cores\fR.
.IP "\fB\-\-jobs\fR \fIprocfile\fR" 9
.IX Item "--jobs procfile"
.PD 0
.IP "\fB\-j\fR \fIprocfile\fR" 9
.IX Item "-j procfile"
.IP "\fB\-\-max\-procs\fR \fIprocfile\fR" 9
.IX Item "--max-procs procfile"
.IP "\fB\-P\fR \fIprocfile\fR" 9
.IX Item "-P procfile"
.PD
Read parameta from file. Use tha content of \fIprocfile\fR as parameter
for \fI\-j\fR. E.g. \fIprocfile\fR could contain tha strang 100% or +2 or
10.
.IP "\fB\-\-semaphorename\fR \fIname\fR" 9
.IX Item "--semaphorename name"
.PD 0
.IP "\fB\-\-id\fR \fIname\fR" 9
.IX Item "--id name"
.PD
Use \fBname\fR as tha name of tha semaphore. Default is tha name of the
controllin tty (output from \fBtty\fR).
.Sp
Da default normally works as expected when used interactively yo, but
when used up in a script \fIname\fR should be set. \fI$$\fR or \fImy_task_name\fR
are often a phat value.
.Sp
Da semaphore is stored up in ~/.parallel/semaphores/
.IP "\fB\-\-fg\fR" 9
.IX Item "--fg"
Do not put command up in background.
.IP "\fB\-\-timeout\fR \fIsecs\fR (not implemented)" 9
.IX Item "--timeout secs (not implemented)"
.PD 0
.IP "\fB\-t\fR \fIsecs\fR (not implemented)" 9
.IX Item "-t secs (not implemented)"
.PD
If tha semaphore aint busted out within \fIsecs\fR seconds, take it anyway.
.IP "\fB\-\-wait\fR" 9
.IX Item "--wait"
.PD 0
.IP "\fB\-w\fR" 9
.IX Item "-w"
.PD
Wait fo' all commandz ta complete.
.SH "EXAMPLE: Gzippin *.log"
.IX Header "EXAMPLE: Gzippin *.log"
Run one gzip process per \s-1CPU\s0 core. Block until a \s-1CPU\s0 core becomes
available.
.PP
.Vb 5
\&  fo' i up in *.log ; do
\&    echo $i
\&    sem \-j+0 gzip $i ";" echo done
\&  done
\&  sem \-\-wait
.Ve
.SH "EXAMPLE: Protectin pod2html from itself"
.IX Header "EXAMPLE: Protectin pod2html from itself"
pod2html creates two files: pod2htmd.tmp n' pod2htmi.tmp which it
does not clean up. Well shiiiit, it uses these two filez fo' a gangbangin' finger-lickin' dirty-ass short time. But if
you run multiple pod2html up in parallel (e.g. up in a Makefile wit make
\&\-j) you need ta protect pod2html from hustlin twice all up in tha same
time. \fBsem\fR hustlin as a mutex will do just that:
.PP
.Vb 2
\&  sem \-\-fg \-\-id pod2html pod2html foo.pod > foo.html
\&  sem \-\-fg \-\-id pod2html rm \-f pod2htmd.tmp pod2htmi.tmp
.Ve
.SH "BUGS"
.IX Header "BUGS"
None known.
.SH "REPORTING BUGS"
.IX Header "REPORTING BUGS"
Report bugs ta <bug\-parallel@gnu.org>.
.SH "AUTHOR"
.IX Header "AUTHOR"
Copyright (C) 2010,2011,2012,2013 Ole Tange, http://ole.tange.dk n' Free
Software Foundation, Inc.
.SH "LICENSE"
.IX Header "LICENSE"
Copyright (C) 2010,2011,2012,2013 Jacked Software Foundation, Inc.
.PP
This program is free software; you can redistribute it and/or modify
it under tha termz of tha \s-1GNU\s0 General Public License as published by
the Jacked Software Foundation; either version 3 of tha License, or
at yo' option any lata version.
.PP
This program is distributed up in tha hope dat it is ghon be useful,
but \s-1WITHOUT ANY WARRANTY\s0; without even tha implied warranty of
\&\s-1MERCHANTABILITY\s0 or \s-1FITNESS FOR A PARTICULAR PURPOSE. \s0 See the
\&\s-1GNU\s0 General Public License fo' mo' details.
.PP
Yo ass should have received a cold-ass lil copy of tha \s-1GNU\s0 General Public License
along wit dis program.  If not, peep <http://www.gnu.org/licenses/>.
.SS "Documentation license I"
.IX Subsection "Documentation license I"
Permission is granted ta copy, distribute and/or modify dis documentation
under tha termz of tha \s-1GNU\s0 Jacked Documentation License, Version 1.3 or
any lata version published by tha Jacked Software Foundation; wit no
Invariant Sections, wit no Front-Cover Texts, n' wit no Back-Cover
Texts, n' you can put dat on yo' toast.  A copy of tha license is included up in tha file fdl.txt.
.SS "Documentation license \s-1II\s0"
.IX Subsection "Documentation license Pt II"
Yo ass is free:
.IP "\fBto Share\fR" 9
.IX Item "to Share"
to copy, distribute n' transmit tha work
.IP "\fBto Remix\fR" 9
.IX Item "to Remix"
to adapt tha work
.PP
Under tha followin conditions:
.IP "\fBAttribution\fR" 9
.IX Item "Attribution"
Yo ass must attribute tha work up in tha manner specified by tha lyricist or
licensor (but not up in any way dat suggests dat they endorse you or
your use of tha work).
.IP "\fBSmoke up Alike\fR" 9
.IX Item "Smoke up Alike"
If you alter, transform, or build upon dis work, you may distribute
the resultin work only under tha same, similar or a cold-ass lil compatible
license.
.PP
With tha understandin that:
.IP "\fBWaiver\fR" 9
.IX Item "Waiver"
Any of tha above conditions can be waived if you git permission from
the copyright holder.
.IP "\fBPublic Domain\fR" 9
.IX Item "Public Domain"
Where tha work or any of its elements is up in tha hood domain under
applicable law, dat status is up in no way affected by tha license.
.IP "\fBOther Rights\fR" 9
.IX Item "Other Rights"
In no way is any of tha followin muthafuckin rights affected by tha license:
.RS 9
.IP "\(bu" 2
Yo crazy-ass fair dealin or fair use rights, or other applicable
copyright exceptions n' limitations;
.IP "\(bu" 2
Da authorz moral rights;
.IP "\(bu" 2
Rights other peeps may have either up in tha work itself or in
how tha work is used, like fuckin publicitizzle or privacy rights.
.RE
.RS 9
.RE
.IP "\fBNotice\fR" 9
.IX Item "Notice"
For any reuse or distribution, you must make clear ta others the
license termz of dis work.
.PP
A copy of tha full license is included up in tha file as cc\-by\-sa.txt.
.SH "DEPENDENCIES"
.IX Header "DEPENDENCIES"
\&\s-1GNU \s0\fBsem\fR uses Perl, n' tha Perl modulez Getopt::Long,
Symbol, Fcntl.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fBparallel\fR(1)
