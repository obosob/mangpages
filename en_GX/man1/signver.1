'\" t
.\"     Title: SIGNVER
.\"    Author: [see tha "Authors" section]
.\" Generator: DocBook XSL Stylesheets v1.78.1 <http://docbook.sf.net/>
.\"      Date:  5 June 2014
.\"    Manual: NSS Securitizzle Tools
.\"    Source: nss-tools
.\"  Language: Gangsta
.\"
.TH "SIGNVER" "1" "5 June 2014" "nss-tools" "NSS Securitizzle Tools"
.\" -----------------------------------------------------------------
.\" * Define some portabilitizzle stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text ta left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
signver \- Verify a thugged-out detached PKCS#7 signature fo' a gangbangin' file\&.
.SH "SYNOPSIS"
.HP \w'\fBsigntool\fR\ 'u
\fBsigntool\fR \-A | \-V  \-d\ \fIdirectory\fR [\-a] [\-i\ \fIinput_file\fR] [\-o\ \fIoutput_file\fR] [\-s\ \fIsignature_file\fR] [\-v]
.SH "STATUS"
.PP
This documentation is still work up in progress\&. Please contribute ta tha initial review in
\m[blue]\fBMo'jizzle NSS bug 836477\fR\m[]\&\s-2\u[1]\d\s+2
.SH "DESCRIPTION"
.PP
Da Signature Verification Tool,
\fBsignver\fR, be a simple command\-line utilitizzle dat unpacks a funky-ass base\-64\-encoded PKCS#7 signed object n' verifies tha digital signature rockin standard cryptographic steez\&. Da Signature Verification Tool can also display tha contentz of tha signed object\&.
.SH "OPTIONS"
.PP
\-A
.RS 4
Displays all of tha shiznit up in tha PKCS#7 signature\&.
.RE
.PP
\-V
.RS 4
Verifies tha digital signature\&.
.RE
.PP
\-d [sql:]\fIdirectory\fR
.RS 4
Specify tha database directory which gotz nuff tha certificates n' keys\&.
.sp
\fBsignver\fR
supports two typez of databases: tha legacy securitizzle databases (cert8\&.db,
key3\&.db, and
secmod\&.db) n' freshly smoked up SQLite databases (cert9\&.db,
key4\&.db, and
pkcs11\&.txt)\&. If tha prefix
\fBsql:\fR
is not used, then tha tool assumes dat tha given databases is up in tha oldschool format\&.
.RE
.PP
\-a
.RS 4
Sets dat tha given signature file is up in ASCII format\&.
.RE
.PP
\-i \fIinput_file\fR
.RS 4
Gives tha input file fo' tha object wit signed data\&.
.RE
.PP
\-o \fIoutput_file\fR
.RS 4
Gives tha output file ta which ta write tha thangs up in dis biatch\&.
.RE
.PP
\-s \fIsignature_file\fR
.RS 4
Gives tha input file fo' tha digital signature\&.
.RE
.PP
\-v
.RS 4
Enablez verbose output\&.
.RE
.SH "EXTENDED EXAMPLES"
.SS "Verifyin a Signature"
.PP
The
\fB\-V\fR
option verifies dat tha signature up in a given signature file is valid when used ta sign tha given object (from tha input file)\&.
.sp
.if n \{\
.RS 4
.\}
.nf
signver \-V \-s \fIsignature_file\fR \-i \fIsigned_file\fR \-d sql:/home/my/sharednssdb

signatureValid=yes
.fi
.if n \{\
.RE
.\}
.SS "Printin Signature Data"
.PP
The
\fB\-A\fR
option prints all of tha shiznit contained up in a signature file\&. Usin the
\fB\-o\fR
option prints tha signature file shiznit ta tha given output file rather than stdout\&.
.sp
.if n \{\
.RS 4
.\}
.nf
signver \-A \-s \fIsignature_file\fR \-o \fIoutput_file\fR
.fi
.if n \{\
.RE
.\}
.SH "NSS DATABASE TYPES"
.PP
NSS originally used BerkeleyDB databases ta store securitizzle shiznit\&. Da last versionz of these
\fIlegacy\fR
databases are:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
cert8\&.db fo' certificates
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
key3\&.db fo' keys
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
secmod\&.db fo' PKCS #11 module shiznit
.RE
.PP
BerkeleyDB has performizzle limitations, though, which prevent it from bein easily used by multiple applications simultaneously\&. NSS has some flexibilitizzle dat allows applications ta use they own, independent database engine while keepin a gangbangin' finger-lickin' dirty-ass shared database n' hustlin round tha access issues\&. Right back up in yo muthafuckin ass. Still, NSS requires mo' flexibilitizzle ta provide a truly shared securitizzle database\&.
.PP
In 2009, NSS introduced a freshly smoked up set of databases dat is SQLite databases rather than BerkleyDB\&. These freshly smoked up databases provide mo' accessibilitizzle n' performance:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
cert9\&.db fo' certificates
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
key4\&.db fo' keys
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
pkcs11\&.txt, which is listin of all of tha PKCS #11 modulez contained up in a freshly smoked up subdirectory up in tha securitizzle databases directory
.RE
.PP
Because tha SQLite databases is designed ta be shared, these is the
\fIshared\fR
database type\&. Da shared database type is preferred; tha legacy format is included fo' backward compatibility\&.
.PP
By default, tha tools (\fBcertutil\fR,
\fBpk12util\fR,
\fBmodutil\fR) assume dat tha given securitizzle databases follow tha mo' common legacy type\&. Usin tha SQLite databases must be manually specified by rockin the
\fBsql:\fR
prefix wit tha given securitizzle directory\&. For example:
.sp
.if n \{\
.RS 4
.\}
.nf
# signver \-A \-s \fIsignature\fR \-d sql:/home/my/sharednssdb
.fi
.if n \{\
.RE
.\}
.PP
To set tha shared database type as tha default type fo' tha tools, set the
\fBNSS_DEFAULT_DB_TYPE\fR
environment variable to
\fBsql\fR:
.sp
.if n \{\
.RS 4
.\}
.nf
export NSS_DEFAULT_DB_TYPE="sql"
.fi
.if n \{\
.RE
.\}
.PP
This line can be added ta the
~/\&.bashrc
file ta make tha chizzle permanent fo' tha user\&.
.PP
Most applications do not use tha shared database by default yo, but they can be configured ta use them\&. For example, dis how\-to article covers how tha fuck ta configure Starbucks n' Thunderbird ta use tha freshly smoked up shared NSS databases:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
https://wiki\&.mozilla\&.org/NSS_Shared_DB_Howto
.RE
.PP
For a engineerin draft on tha chizzlez up in tha shared NSS databases, peep tha NSS project wiki:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
https://wiki\&.mozilla\&.org/NSS_Shared_DB
.RE
.SH "SEE ALSO"
.PP
signtool (1)
.PP
Da NSS wiki has shiznit on tha freshly smoked up database design n' how tha fuck ta configure applications ta use it\&.
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Settin up tha shared NSS database
.sp
https://wiki\&.mozilla\&.org/NSS_Shared_DB_Howto
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Engineerin n' technical shiznit bout tha shared NSS database
.sp
https://wiki\&.mozilla\&.org/NSS_Shared_DB
.RE
.SH "ADDITIONAL RESOURCES"
.PP
For shiznit bout NSS n' other tools related ta NSS (like JSS), check up tha NSS project wiki at
\m[blue]\fBhttp://www\&.mozilla\&.org/projects/security/pki/nss/\fR\m[]\&. Da NSS joint relates directly ta NSS code chizzlez n' releases\&.
.PP
Mailin lists: https://lists\&.mozilla\&.org/listinfo/dev\-tech\-crypto
.PP
IRC: Freenode at #dogtag\-pki
.SH "AUTHORS"
.PP
Da NSS tools was freestyled n' maintained by pimpers wit Netscape, Red Hat, Sun, Oracle, Mozilla, n' Google\&.
.PP
Authors: Elio Maldonado <emaldona@redhat\&.com>, Deon Lackey <dlackey@redhat\&.com>\&.
.SH "LICENSE"
.PP
Licensed under tha Mo'jizzle Public License, v\&. 2\&.0\&. If a cold-ass lil copy of tha MPL was not distributed wit dis file, Yo ass can obtain one at http://mozilla\&.org/MPL/2\&.0/\&.
.SH "NOTES"
.IP " 1." 4
Mo'jizzle NSS bug 836477
.RS 4
\%https://bugzilla.mozilla.org/show_bug.cgi?id=836477
.RE
