'\" t
.\"     Title: CRLUTIL
.\"    Author: [see tha "Authors" section]
.\" Generator: DocBook XSL Stylesheets v1.78.1 <http://docbook.sf.net/>
.\"      Date:  5 June 2014
.\"    Manual: NSS Securitizzle Tools
.\"    Source: nss-tools
.\"  Language: Gangsta
.\"
.TH "CRLUTIL" "1" "5 June 2014" "nss-tools" "NSS Securitizzle Tools"
.\" -----------------------------------------------------------------
.\" * Define some portabilitizzle stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text ta left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
crlutil \- List, generate, modify, or delete CRLs within tha NSS securitizzle database file(s) n' list, create, modify or delete certificates entries up in a particular CRL\&.
.SH "SYNOPSIS"
.HP \w'\fBcrlutil\fR\ 'u
\fBcrlutil\fR [\fIoptions\fR] [[\fIarguments\fR]]
.SH "STATUS"
.PP
This documentation is still work up in progress\&. Please contribute ta tha initial review in
\m[blue]\fBMo'jizzle NSS bug 836477\fR\m[]\&\s-2\u[1]\d\s+2
.SH "DESCRIPTION"
.PP
Da Certificate Revocation List (CRL) Management Tool,
\fBcrlutil\fR, be a cold-ass lil command\-line utilitizzle dat can list, generate, modify, or delete CRLs within tha NSS securitizzle database file(s) n' list, create, modify or delete certificates entries up in a particular CRL\&.
.PP
Da key n' certificate pimpment process generally begins wit bustin keys up in tha key database, then generatin n' managin certificates up in tha certificate database(see certutil tool) n' continues wit certificates expiration or revocation\&.
.PP
This document discusses certificate revocation list pimpment\&. For shiznit on securitizzle module database pimpment, peep Usin tha Securitizzle Module Database Tool\&. For shiznit on certificate n' key database pimpment, peep Usin tha Certificate Database Tool\&.
.PP
To run tha Certificate Revocation List Management Tool, type tha command
.PP
crlutil option [arguments]
.PP
where options n' arguments is combinationz of tha options n' arguments listed up in tha followin section\&. Each command takes one option\&. Each option may take zero or mo' arguments\&. To peep a usage string, issue tha command without options, or wit tha \-H option\&.
.SH "OPTIONS AND ARGUMENTS"
.PP
.PP
\fBOptions\fR
.PP
Options specify a action\&. Option arguments modify a action\&. Da options n' arguments fo' tha crlutil command is defined as bigs up:
.PP
\-D
.RS 4
Delete Certificate Revocation List from cert database\&.
.RE
.PP
\-E
.RS 4
Erase all CRLz of specified type from tha cert database
.RE
.PP
\-G
.RS 4
Smoke freshly smoked up Certificate Revocation List (CRL)\&.
.RE
.PP
\-I
.RS 4
Import a CRL ta tha cert database
.RE
.PP
\-L
.RS 4
List existin CRL located up in cert database file\&.
.RE
.PP
\-M
.RS 4
Modify existin CRL which can be located up in cert db or up in arbitrary file\&. If located up in file it should be encoded up in ASN\&.1 encode format\&.
.RE
.PP
\-S
.RS 4
Show contentz of a CRL file which isn\*(Aqt stored up in tha database\&.
.RE
.PP
\fBArguments\fR
.PP
Option arguments modify a action\&.
.PP
\-a
.RS 4
Use ASCII format or allow tha use of ASCII format fo' input n' output\&. This formattin bigs up RFC #1113\&.
.RE
.PP
\-B
.RS 4
Bypass CA signature checks\&.
.RE
.PP
\-c crl\-gen\-file
.RS 4
Specify script file dat is ghon be used ta control crl generation/modification\&. Right back up in yo muthafuckin ass. See crl\-cript\-file format below\&. If options \-M|\-G is used n' \-c crl\-script\-file aint specified, crlutil will read script data from standard input\&.
.RE
.PP
\-d directory
.RS 4
Specify tha database directory containin tha certificate n' key database files\&. On Unix tha Certificate Database Tool defaults ta $HOME/\&.netscape (that is, ~/\&.netscape)\&. On Windows NT tha default is tha current directory\&.
.sp
Da NSS database filez must reside up in tha same directory\&.
.RE
.PP
\-f password\-file
.RS 4
Specify a gangbangin' file dat will automatically supply tha password ta include up in a cold-ass lil certificate or ta access a cold-ass lil certificate database\&. This be a plain\-text file containin one password\&. Be shizzle ta prevent unauthorized access ta dis file\&.
.RE
.PP
\-i crl\-file
.RS 4
Specify tha file which gotz nuff tha CRL ta import or show\&.
.RE
.PP
\-l algorithm\-name
.RS 4
Specify a specific signature algorithm\&. List of possible algorithms: MD2 | MD4 | MD5 | SHA1 | SHA256 | SHA384 | SHA512
.RE
.PP
\-n nickname
.RS 4
Specify tha nickname of a cold-ass lil certificate or key ta list, create, add ta a thugged-out database, modify, or validate\&. Bracket tha nickname strang wit quotation marks if it gotz nuff spaces\&.
.RE
.PP
\-o output\-file
.RS 4
Specify tha output file name fo' freshly smoked up CRL\&. Bracket tha output\-file strang wit quotation marks if it gotz nuff spaces\&. If dis argument aint used tha output destination defaults ta standard output\&.
.RE
.PP
\-P dbprefix
.RS 4
Specify tha prefix used on tha NSS securitizzle database filez (for example, my_cert8\&.db n' my_key3\&.db)\&. This option is provided as a special case\&. Changin tha namez of tha certificate n' key databases aint recommended\&.
.RE
.PP
\-t crl\-type
.RS 4
Specify type of CRL\&. possible types are: 0 \- SEC_KRL_TYPE, 1 \- SEC_CRL_TYPE\&. This option is obsolete
.RE
.PP
\-u url
.RS 4
Specify tha url\&.
.RE
.PP
\-w pwd\-string
.RS 4
Provide db password up in command line\&.
.RE
.PP
\-Z algorithm
.RS 4
Specify tha hash algorithm ta use fo' signin tha CRL\&.
.RE
.SH "CRL GENERATION SCRIPT SYNTAX"
.PP
CRL generation script file has tha followin syntax:
.PP
* Line wit comments should have # as a gangbangin' first symbol of a line
.PP
* Set "this update" or "next update" CRL fields:
.PP
update=YYYYMMDDhhmmssZ nextupdate=YYYYMMDDhhmmssZ
.PP
Field "next update" is optional\&. Time should be up in GeneralizedTime format (YYYYMMDDhhmmssZ)\&. For example: 20050204153000Z
.PP
* Add a extension ta a CRL or a cold-ass lil crl certificate entry:
.PP
addext extension\-name critical/non\-critical [arg1[arg2 \&.\&.\&.]]
.PP
Where:
.PP
extension\-name: strang value of a name of known extensions\&. critical/non\-critical: is 1 when extension is critical n' 0 otherwise\&. arg1, arg2: specific ta extension type extension parameters
.PP
addext uses tha range dat was set earlier by addcert n' will install a extension ta every last muthafuckin cert entries within tha range\&.
.PP
* Add certificate entries(s) ta CRL:
.PP
addcert range date
.PP
range: two integer joints separated by dash: range of certificates dat is ghon be added by dis command\&. dash is used as a thugged-out delimiter\&. Only one cert is ghon be added if there is no delimiter\&. date: revocation date of a cold-ass lil cert\&. Date should be represented up in GeneralizedTime format (YYYYMMDDhhmmssZ)\&.
.PP
* Remove certificate entry(s) from CRL
.PP
rmcert range
.PP
Where:
.PP
range: two integer joints separated by dash: range of certificates dat is ghon be added by dis command\&. dash is used as a thugged-out delimiter\&. Only one cert is ghon be added if there is no delimiter\&.
.PP
* Chizzle range of certificate entry(s) up in CRL
.PP
range new\-range
.PP
Where:
.PP
new\-range: two integer joints separated by dash: range of certificates dat is ghon be added by dis command\&. dash is used as a thugged-out delimiter\&. Only one cert is ghon be added if there is no delimiter\&.
.PP
Implemented Extensions
.PP
Da extensions defined fo' CRL provide methodz fo' associatin additionizzle attributes wit CRLz of theirs entries\&. For mo' shiznit peep RFC #3280
.PP
* Add Da Authoritizzle Key Identifier extension:
.PP
Da authoritizzle key identifier extension serves up a meanz of identifyin tha hood key correspondin ta tha private key used ta sign a CRL\&.
.PP
authKeyId critical [key\-id | dn cert\-serial]
.PP
Where:
.PP
authKeyIdent: identifies tha name of a extension critical: value of 1 of 0\&. Right back up in yo muthafuckin ass. Should be set ta 1 if dis extension is critical or 0 otherwise\&. key\-id: key identifier represented up in octet string\&. dn:: be a CA distinguished name cert\-serial: authoritizzle certificate serial number\&.
.PP
* Add Issuer Alternatizzle Name extension:
.PP
Da issuer alternatizzle names extension allows additionizzle identitizzles ta be associated wit tha issuer of tha CRL\&. Defined options include a rfc822 name (electronic mail address), a DNS name, a IP address, n' a URI\&.
.PP
issuerAltNames non\-critical name\-list
.PP
Where:
.PP
subjAltNames: identifies tha name of a extension should be set ta 0 since dis is non\-critical extension name\-list: comma separated list of names
.PP
* Add CRL Number extension:
.PP
Da CRL number be a non\-critical CRL extension which conveys a monotonically increasin sequence number fo' a given CRL scope n' CRL issuer\&. This extension allows playas ta easily determine when a particular CRL supersedes another CRL
.PP
crlNumber non\-critical number
.PP
Where:
.PP
crlNumber: identifies tha name of a extension critical: should be set ta 0 since dis is non\-critical extension number: value of long which identifies tha sequential number of a CRL\&.
.PP
* Add Revocation Reason Code extension:
.PP
Da reasonCode be a non\-critical CRL entry extension dat identifies tha reason fo' tha certificate revocation\&.
.PP
reasonCode non\-critical code
.PP
Where:
.PP
reasonCode: identifies tha name of a extension non\-critical: should be set ta 0 since dis is non\-critical extension code: tha followin codes is available:
.PP
unspecified (0), keyCompromise (1), cACompromise (2), affiliationChanged (3), superseded (4), cessationOfOperation (5), certificateHold (6), removeFromCRL (8), privilegeWithdrawn (9), aACompromise (10)
.PP
* Add Invaliditizzle Date extension:
.PP
Da invaliditizzle date be a non\-critical CRL entry extension dat serves up tha date on which it is known or suspected dat tha private key was compromised or dat tha certificate otherwise became invalid\&.
.PP
invalidityDate non\-critical date
.PP
Where:
.PP
crlNumber: identifies tha name of a extension non\-critical: should be set ta 0 since dis is non\-critical extension date: invaliditizzle date of a cold-ass lil cert\&. Date should be represented up in GeneralizedTime format (YYYYMMDDhhmmssZ)\&.
.SH "USAGE"
.PP
Da Certificate Revocation List Management Tool\*(Aqs capabilitizzles is grouped as bigs up, rockin these combinationz of options n' arguments\&. Options n' arguments up in square brackets is optional, dem without square brackets is required\&.
.PP
See "Implemented extensions" fo' mo' shiznit regardin extensions n' they parameters\&.
.PP
* Creatin or modifyin a CRL:
.sp
.if n \{\
.RS 4
.\}
.nf
crlutil \-G|\-M \-c crl\-gen\-file \-n nickname [\-i crl] [\-u url] [\-d keydir] [\-P dbprefix] [\-l alg] [\-a] [\-B] 
      
.fi
.if n \{\
.RE
.\}
.PP
* Listin all CRls or a named CRL:
.sp
.if n \{\
.RS 4
.\}
.nf
	crlutil \-L [\-n crl\-name] [\-d krydir] 
      
.fi
.if n \{\
.RE
.\}
.PP
* Deletin CRL from db:
.sp
.if n \{\
.RS 4
.\}
.nf
	crlutil \-D \-n nickname [\-d keydir] [\-P dbprefix] 
      
.fi
.if n \{\
.RE
.\}
.PP
* Erasin CRLs from db:
.sp
.if n \{\
.RS 4
.\}
.nf
	crlutil \-E [\-d keydir] [\-P dbprefix] 
      
.fi
.if n \{\
.RE
.\}
.PP
* Deletin CRL from db:
.sp
.if n \{\
.RS 4
.\}
.nf
          crlutil \-D \-n nickname [\-d keydir] [\-P dbprefix]
    
.fi
.if n \{\
.RE
.\}
.PP
* Erasin CRLs from db:
.sp
.if n \{\
.RS 4
.\}
.nf
          crlutil \-E [\-d keydir] [\-P dbprefix] 
    
.fi
.if n \{\
.RE
.\}
.PP
* Import CRL from file:
.sp
.if n \{\
.RS 4
.\}
.nf
          crlutil \-I \-i crl [\-t crlType] [\-u url] [\-d keydir] [\-P dbprefix] [\-B] 
    
.fi
.if n \{\
.RE
.\}
.SH "SEE ALSO"
.PP
certutil(1)
.SH "ADDITIONAL RESOURCES"
.PP
For shiznit bout NSS n' other tools related ta NSS (like JSS), check up tha NSS project wiki at
\m[blue]\fBhttp://www\&.mozilla\&.org/projects/security/pki/nss/\fR\m[]\&. Da NSS joint relates directly ta NSS code chizzlez n' releases\&.
.PP
Mailin lists: https://lists\&.mozilla\&.org/listinfo/dev\-tech\-crypto
.PP
IRC: Freenode at #dogtag\-pki
.SH "AUTHORS"
.PP
Da NSS tools was freestyled n' maintained by pimpers wit Netscape, Red Hat, Sun, Oracle, Mozilla, n' Google\&.
.PP
Authors: Elio Maldonado <emaldona@redhat\&.com>, Deon Lackey <dlackey@redhat\&.com>\&.
.SH "LICENSE"
.PP
Licensed under tha Mo'jizzle Public License, v\&. 2\&.0\&. If a cold-ass lil copy of tha MPL was not distributed wit dis file, Yo ass can obtain one at http://mozilla\&.org/MPL/2\&.0/\&.
.SH "NOTES"
.IP " 1." 4
Mo'jizzle NSS bug 836477
.RS 4
\%https://bugzilla.mozilla.org/show_bug.cgi?id=836477
.RE
