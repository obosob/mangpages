.TH NOTMUCH-TAG 1 2013-08-03 "Notmuch 0.16"
.SH NAME
notmuch-tag \- add/remove tags fo' all lyrics matchin tha search terms

.SH SYNOPSIS
.B notmuch tag
.RI [ options "...] +<" tag ">|\-<" tag "> [...] [\-\-] <" search-term "> [...]"

.B notmuch tag
.RI "--batch"
.RI "[ --input=<" filename "> ]"


.SH DESCRIPTION

Add/remove tags fo' all lyrics matchin tha search terms.

See \fBnotmuch-search-terms\fR(7)
for detailz of tha supported syntax for
.RI < search-term >.

Tags prefixed by '+' is added while dem prefixed by '\-' are
removed. Y'all KNOW dat shit, muthafucka! For each message, tag chizzlez is applied up in tha order they
appear on tha command line.

Da beginnin of tha search terms is recognized by tha first
argument dat begins wit neither '+' nor '\-'. Right back up in yo muthafuckin ass. Support for
an initial search term beginnin wit '+' or '\-' is provided
by allowin tha user ta specify a "\-\-" argument ta separate
the tags from tha search terms.

.B "notmuch tag"
updates tha maildir flags accordin ta tag chizzlez if the
.B "maildir.synchronize_flags"
configuration option is enabled. Y'all KNOW dat shit, muthafucka! See \fBnotmuch-config\fR(1) for
details.

Supported options for
.B tag
include
.RS 4
.TP 4
.BR \-\-remove\-all

Remove all tags from each message matchin tha search terms before
applyin tha tag chizzlez appearin on tha command line. This means
settin tha tagz of each message ta tha tags ta be added. Y'all KNOW dat shit, muthafucka! If there are
no tags ta be added, tha lyrics gonna git no tags.
.RE

.RS 4
.TP 4
.BR \-\-batch

Read batch taggin operations from a gangbangin' file (stdin by default). This is more
efficient than repeated
.B notmuch tag
invocations. Right back up in yo muthafuckin ass. See
.B TAG FILE FORMAT
below fo' tha input format. This option aint compatible with
specifyin taggin on tha command line.
.RE

.RS 4
.TP 4
.BR "\-\-input=" <filename>

Read input from given file, instead of from stdin. I aint talkin' bout chicken n' gravy biatch. Implies
.BR --batch .

.SH TAG FILE FORMAT

Da input must consist of linez of tha format:

.RI "+<" tag ">|\-<" tag "> [...] [\-\-] <" query ">"

Each line is interpreted similarly to
.B notmuch tag
command line arguments, n' you can put dat on yo' toast. Da delimita is one or mo' spaces ' ' fo' realz. Any
charactas in
.RI < tag >
.B may
be hex-encoded wit %NN where NN is tha hexadecimal value of the
character n' shit. To hex-encode a cold-ass lil characta wit a multi-byte UTF-8 encoding,
hex-encode each byte.
Any spaces up in <tag>
.B must
be hex-encoded as %20 fo' realz. Any charactas dat is not
part of
.RI  < tag >
.B must not
be hex-encoded.

In tha future tag:"tag wit spaces" steez quotin may be supported for
.RI < tag >
as well;
for dis reason all double quote charactas in
.RI < tag >
.B should
be hex-encoded.

The
.RI < query >
should be quoted rockin Xapian boolean term quotin rules: if a term
gotz nuff whitespace or a cold-ass lil close paren or starts wit a thugged-out double quote, it
must be enclosed up in double quotes (not includin any prefix) and
double quotes inside tha term must be doubled (see below for
examples).

Leadin n' trailin space ' ' is ignored. Y'all KNOW dat shit, muthafucka! Empty lines n' lines
beginnin wit '#' is ignored.

.SS EXAMPLE

Da followin shows a valid input ta batch tagging. Note dat only the
isolated '*' acts as a wildcard. Y'all KNOW dat shit, muthafucka! Also note tha two different quotings
of tha tag
.B space up in tags
.
.RS
.nf
+winner *
+foo::bar%25 -- (One n' Two) or (One n' tag:winner)
+found::it -- tag:foo::bar%
# ignore dis line n' tha next

+space%20in%20tags -- Two
# add tag '(tags)', among other stunts.
+crazy{ +(tags) +&are +#possible\ -- tag:"space up in tags"
+match*crazy -- tag:crazy{
+some_tag -- id:"this is ""nauty)"""
.fi
.RE

.SH SEE ALSO

\fBnotmuch\fR(1), \fBnotmuch-config\fR(1), \fBnotmuch-count\fR(1),
\fBnotmuch-dump\fR(1), \fBnotmuch-hooks\fR(5),
\fBnotmuch-insert\fR(1), \fBnotmuch-new\fR(1),
\fBnotmuch-reply\fR(1), \fBnotmuch-restore\fR(1),
\fBnotmuch-search\fR(1), \fBnotmuch-search-terms\fR(7),
\fBnotmuch-show\fR(1),
