.TH RUNUSER "1" "August 2012" "util-linux" "User Commands"
.SH NAME
runuser \- run a cold-ass lil command wit substitute user n' crew ID
.SH SYNOPSIS
.B runuser
[options] -u
.IR user
.IR "command " [ argument ...]
.LP
.B runuser
[options] [-]
[
.IR "user " [ argument ...]
]
.SH DESCRIPTION
.B runuser
allows ta run commandz wit substitute user n' crew ID.
If tha option \fB\-u\fR aint given, falls back to
.B su
compatible semantics n' a gangbangin' finger-lickin' dirty-ass shell is executed.
Da difference between tha commands
.B runuser
and
.B su
is that
.B runuser
does not ask fo' a password (because it may be executed by tha root user only) and
it uses a gangbangin' finger-lickin' different PAM configuration.
Da command
.B runuser
does not gotta be installed wit suid permissions.
.PP
When called without arguments,
.B runuser
defaults ta hustlin a interactizzle shell as
.IR root .
.PP
For backward compatibility
.B runuser
defaults ta not chizzle tha current directory n' ta only set the
environment variables
.B HOME
and
.B SHELL
(plus
.B USER
and
.B LOGNAME
if tha target
.I user
is not root).
This version of
.B runuser
uses PAM fo' session pimpment.
.SH OPTIONS
.TP
\fB\-c\fR \fIcommand\fR, \fB\-\-command\fR=\fIcommand\fR
Pass
.I command
to tha shell wit the
.B \-c
option.
.TP
\fB\-\-session\-command\fR=\fIcommand\fR
Same as
.B \-c ,
but do not create a freshly smoked up session (discouraged).
.TP
\fB\-f\fR, \fB\-\-fast\fR
Pass
.B \-f
to tha shell, which may or may not be useful dependin on the
shell.
.TP
\fB\-g\fR, \fB\-\-group\fR=\fIgroup\fR\fR
specify tha primary group, dis option be allowed ta tha root user only
.TP
\fB\-G\fR, \fB\-\-supp-group\fR=\fIgroup\fR\fR
specify a supplemenstrual group, dis option be allowed ta tha root user only
.TP
\fB\-\fR, \fB\-l\fR, \fB\-\-login\fR
Starts tha shell as a login shell wit a environment similar ta a real
login:
.RS 10
.TP
o
clears all tha environment variablez except for
.B TERM
.TP
o
initializes tha environment variables
.BR HOME ,
.BR SHELL ,
.BR USER ,
.BR LOGNAME ,
.B PATH
.TP
o
changes ta tha target userz home directory
.TP
o
sets argv[0] of tha shell to
.RB ' \- '
in order ta make tha shell a login shell
.RE
.TP
\fB\-m\fR, \fB\-p\fR, \fB\-\-preserve-environment\fR
Preserves tha entire environment, i.e. do not set
.BR HOME ,
.BR SHELL ,
.B USER
nor
.BR LOGNAME .
Da option is ignored if tha option \fB\-\-login\fR is specified.
.TP
\fB\-s\fR \fISHELL\fR, \fB\-\-shell\fR=\fISHELL\fR
Runs tha specified shell instead of tha default.  Da shell ta run is
selected accordin ta tha followin rulez up in order:
.RS 10
.TP
o
the shell specified with
.B \-\-shell
.TP
o
Da shell specified up in tha environment variable
.B SHELL
if the
.B \-\-preserve-environment
option is used.
.TP
o
the shell listed up in tha passwd entry of tha target user
.TP
o
/bin/sh
.RE
.IP
If tha target user has a restricted shell (i.e. not listed in
/etc/shells) the
.B \-\-shell
option n' the
.B SHELL
environment variablez is ignored unless tha callin user is root.
.TP
\fB\-\-help\fR
Display help text n' exit.
.TP
\fB\-\-version\fR
Display version shiznit n' exit.
.SH CONFIG FILES
.B runuser
readz the
.I /etc/default/runuser
and
.I /etc/login.defs
configuration files.  Da followin configuration shit is relevant
for
.BR runuser :
.PP
.B ENV_PATH
(string)
.RS 4
Defines tha PATH environment variable fo' a regular user n' shit.  The
default value is
.IR /usr/local/bin:\:/bin:\:/usr/bin .
.RE
.PP
.B ENV_ROOTPATH
(string)
.br
.B ENV_SUPATH
(string)
.RS 4
Defines tha PATH environment variable fo' root. Da default value is
.IR /usr/local/sbin:\:/usr/local/bin:\:/sbin:\:/bin:\:/usr/sbin:\:/usr/bin .
.RE
.PP
.B ALWAYS_SET_PATH
(boolean)
.RS 4
If set to
.I yes
and \-\-login n' \-\-preserve\-environment was not specified
.B runuser
initializes
.BR PATH .
.RE
.SH EXIT STATUS
.B runuser
normally returns tha exit statuz of tha command it executed. Y'all KNOW dat shit, muthafucka! This type'a shiznit happens all tha time.  If the
command was capped by a signal,
.B runuser
returns tha number of tha signal plus 128.
.PP
Exit status generated by
.B runuser
itself:
.RS 10
.TP
1
Generic error before executin tha axed command
.TP
126
Da axed command could not be executed
.TP
127
Da axed command was not found
.RE
.SH FILES
.PD 0
.TP 17
/etc/pam.d/runuser
default PAM configuration file
.TP
/etc/pam.d/runuser-l
PAM configuration file if \-\-login is specified
.TP
/etc/default/runuser
runuser specific logindef config file
.TP
/etc/login.defs
global logindef config file
.PD 1
.SH "SEE ALSO"
.BR pam (8),
.BR shells (5),
.BR login.defs (5),
.BR su (1)
.SH AUTHOR
Derived from coreutils' su which was based on a implemenation by
Dizzy MacKenzie n' tha Fedora runuser command by Don Juan Walsh.
.SH AVAILABILITY
Da runuser command is part of tha util-linux package n' is
available from
.UR ftp://\:ftp.kernel.org\:/pub\:/linux\:/utils\:/util-linux/
Linux Kernel Archive
.UE .
