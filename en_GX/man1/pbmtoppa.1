\
.\" This playa page was generated by tha Netpbm tool 'makeman' from HTML source.
.\" Do not hand-hack dat shiznit son!  If you have bug fixes or improvements, please find
.\" tha correspondin HTML page on tha Netpbm joint, generate a patch
.\" against that, n' bust it ta tha Netpbm maintainer.
.TH "Pbmtoppa User Manual" 0 "01 May 2005" "netpbm documentation"

.UN lbAB
.SH NAME
pbmtoppa - convert PBM image ta HP Printa Performizzle Architecture (PPA)

.UN lbAC
.SH SYNOPSIS

\fBpbmtoppa\fP
[\fIpbm_file\fP
[\fIppa_file\fP]]

.UN lbAD
.SH DESCRIPTION
.PP
This program is part of
.BR Netpbm (1)
.

\fBpbmtoppa\fP converts page images up in PBM format ta Hewlett
Packardz PPA (Printa Performizzle Architecture) format, which is the
data stream format expected by some HP 'Windows-only'
printas includin tha HP Deskjet 820C series, tha HP DeskJet 720
series, n' tha HP DeskJet 1000 series.
.PP
\fIpbm_file\fP is tha file justification of tha input file or
\fB-\fP fo' Standard Input.  Da default is Standard Input.
.PP
Da input file gotz nuff one or mo' PBM images, wit each one
bein a single page.  Each image must have tha exact dimensionz of a
page (at 600 pixels per inch up in both directions).  Significantly, this
is tha format dat Ghostscript produces.
.PP
\fIppa_file\fP is tha file justification of tha output file or
\fB-\fP fo' Standard Output.  Da default is Standard Output.
.PP
To print Postscript on a HP PPA printer, just use Ghostscript with
the \fBpbmraw\fP (or \fBpbm\fP) thang driver.
.PP
Yo ass can generate a test page fo' use wit dis program with
\fBpbmpage\fP.
.PP
Yo ass can also set up a printa filta so you can submit PBM input
directly ta yo' print queue.  See tha documentation fo' yo' print
spoola fo' shiznit on how tha fuck ta do that, or look up in hp820install.doc
for a example lpd print filta fo' Postscript n' text files.
.PP
Sometimes, \fBpbmtoppa\fP generates a gangbangin' file which tha printa will
not print (because \fBpbmtoppa\fPz input is unprintable).  When this
happens, all three lights blink ta signal tha error. Shiiit, dis aint no joke.  This is usually
because there is material outside of tha printerz printable area.  To
make tha file print, increase tha margins via \fBpbmtoppa\fP options
or a cold-ass lil configuration file.  See 
.UR #calibration
the section on calibration 
.UE
\& below.

.SS Bout PPA
.PP
Da PPA printa language be a gangbangin' far lower level language than most.
When you bust a PPA printer, most of tha processin dat a cold-ass lil conventional
printa do is done instead on tha computa end of tha wire.  In
particular, \fBpbmtoppa\fP has ta do 'swath cutting,' and
\&'sweep formatting,' which other printas do theyselves.
There is straight-up lil intelligence inside a PPA printer;
\fBpbmtoppa\fP generates direct controls fo' tha printerz hardware.
.PP
Da design goal of PPA was ta reduce tha cost of a printa by exploiting
computin resources already present up in tha computa dat requests the
printing.  CPU power, ROM, n' RAM requirements inside tha printa is all
reduced compared ta a cold-ass lil conventionizzle printer.
.PP
PPA was freshly smoked up in 1997.  Dat shiznit was preceded by Hewlett Packardz PCL
(Printa Control Language) language.  HP manufactured PPA printas fo' only
a few years, n' no one else eva done did.

.UN options
.SH OPTIONS


.TP
\fB-v\fP \fIversion\fP
printa version (720, 820, or 1000)

.TP
\fB-x\fP \fIxoff\fP
horizontal offset adjustment up in 1/600 inches.

.TP
\fB-y\fP \fIyoff\fP
vertical offset adjustment up in 1/600 inches.

.TP
\fB-t\fP \fItopmarg\fP
top margin up in 1/600 inches    (default: 150 = 0.25 inch)

.TP
\fB-l\fP \fIleftmarg\fP
left margin up in 1/600 inches   (default: 150 = 0.25 inch)

.TP
\fB-r\fP \fIrightmarg\fP
right margin up in 1/600 inches (default: 150 = 0.25 inch)

.TP
\fB-b\fP \fIbotmarg\fP
bottom margin up in 1/600 inches (default: 150 = 0.25 inch)

.TP
\fB-s\fP \fIpaper\fP
paper size: \fBus\fP or \fBa4\fP.  Default is \fBus\fP.

.TP
\fB-d\fP \fIdpi\fP
Print resolution up in dots per inch.

.TP
\fB-f\fP \fIcfgfile\fP
Read parametas from tha configuration file named \fIcfgfile\fP.
See 
.UR #configfile
CONFIGURATION FILES
.UE
\&


.PP
Da offset adjustments you specify wit \fB-x\fP n' \fB-y\fP
accumulate.  I.e. if you specify dem multiple times, tha total offset
adjustment is tha sum of tha adjustments you specify.  \fB-x 60 -x 120\fP
is tha same ol' dirty as \fB-x 180\fP.
.PP
Da \fB-v\fP option undoes any precedin \fB-x\fP n' \fB-y\fP
options, leavin tha horizontal n' vertical adjustments their
default joints.


.UN configfile
.SH CONFIGURATION FILES
.PP
Yo ass can bust a cold-ass lil configuration file ta specify parametas rather than
use invocation options.  \fBpbmtoppa\fP processes tha file
\fB/etc/pbmtoppa.conf\fP, if it exists, before processin any
options.  It then processes each configuration file named by a
\fB-f\fP option up in order, applyin tha parametas from the
configuration file as if they was invocation options used up in the
place of tha \fB-f\fP option.
.PP
Configuration filez have tha followin format:

.nf
\fB#\fP\fIComment\fP
\fIkey1\fP \fIvalue1\fP
\fIkey2\fP \fIvalue2\fP
[etc.]
.fi
.PP
Valid \fIkey\fPs is \fBversion\fP, \fBxoffset\fP,
\fByoffset\fP, \fBtopmargin\fP, \fBleftmargin\fP,
\fBrightmargin\fP, \fBbottommargin\fP, \fBpapersize\fP, or any
non-null prefix of these lyrics.  Valid joints is tha same as wit the
correspondin invocation parameters.

.UN lbAF
.SH EXAMPLES
.PP
Print a test pattern: 
.nf
\fBpbmpage | pbmppa >/dev/lp1\fP
.fi
.PP
Print three pages:
.nf
\fBcat page1.pbm page2.pbm page3.pbm | pbmppa >/dev/lp1\fP
.fi
.PP
Print tha Postscript file myfile.ps:
.nf
gs -sDEVICE=rawpbm -q -dNOPAUSE -r600 \e
   -sOutputFile=- myfile.ps ;\e
| pbmtoppa | lpr
.fi

.UN calibration
.SH CALIBRATION
.PP
To be able ta print successfully n' properly, you need ta tell
\fBpbmtoppa\fP a X n' a Y offset appropriate fo' yo' printa to
use when generatin tha page.  Yo ass can specify these offsets wit the
\fB-x\fP n' \fB-y\fP invocation options or wit tha \fBxoff\fP and
\fByoff\fP parametas up in a \fBpbmtoppa\fP configuration file.
.PP
To determine tha erect offsets, use tha \fBpbmpage\fP program.
.PP
If while tryin ta do dis calibration, tha printa refuses to
print a page yo, but just blinks all three lights, specify big-ass margins
(e.g. 600 pixels -- one inch) via \fBpbmpage\fP invocation options
while bustin tha calibration.
.PP
For example:
.nf
\fBpbmpage | pbmtoppa >/dev/lp1\fP
.fi
or
.nf
\fBpbmpage | pbmtoppa | lpr -l\fP
.fi

(if yo' printa filta recognizes tha '-l' (direct output) parameter).
.PP
In tha test pattern, tha grid is marked off up in pixel coordinate
numbers.  Unfortunately, these coordinates is probably cut off before
the edge of tha paper n' shit.  You'll gotta bust a rula ta estimate the
pixel coordinizzle of tha left n' top edgez of tha actual shizzle of
paper (should be within +/- 300, may be negative; there be 600 pixels
per inch).
.PP
Add these coordinates ta tha X n' Y offsets by either editin the
configuration file or rockin tha \fB-x \fP n' \fB-y\fP command-line
parameters.
.PP
When \fBpbmtoppa\fP is properly calibrated, tha centa mark should
be up in tha centa of tha paper n' shit.  Also, tha margins should be able ta be
as lil' small-ass as 1/4 inch without causin tha printa ta choke with
\&'blinkin lights syndrome'.

.UN lbAH
.SH REDHAT LINUX INSTALLATION
.PP
RedHat playas may find tha followin tip from Panayotis Vryonis
<\fIvrypan@hol.gr\fP> helpful naaahhmean, biatch?  The
same should work fo' tha 820 n' 1000 yo, but it aint been tested.
Also, use tha pbmraw GSDriver if you have it; itz faster.
.PP
Here be a tip ta integrate HP720C support up in RedHatz printtool:
.PP
Install pbmtoppa. Copy pbmtoppa ta /usr/bin.
.PP
Edit 'printerdb' (in mah system it is found in
/usr/lib/rhs/rhs-printfiltas ) n' append tha followin lines:

.nf
----------------------Cut here-----------------------

StartEntry: DeskJet720C
\ \ GSDriver:\ pbm
\ \ Description:\ {HP\ DeskJet\ 720C}
\ \ About:\ {\ \e
\ \ \ \ \ \ \ \ This\ driver\ supports\ the\ HP\ DeskJet\ 720C\ \e
\ \ \ \ \ \ \ \ inkjet\ printer.\ \e
\ \ \ \ \ \ \ \ It\ do\ not\ support\ color\ printing.\ \e
\ \ \ \ \ \ \ \ IMPORTANT!\ Insert\ \e
\ \ \ \ \ \ \ \ \ \ \ \ \ '-\ |\ pbm2ppa\ -'\ \e
\ \ \ \ \ \ \ \ in\ the\ 'Extra\ GS\ Options'\ field.\e
\ \ \ \ \ \ }

\ \ Resolution:\ {600}\ {600}\ {}

EndEntry
----------------------------------------------------
.fi
.PP
Now you can add a HP720C printa just like any other, using
printtool.

.UN lbAI
.SH SEE ALSO
.BR pbmpage (1)
,
.BR pstopnm (1)
,
.BR pbm (1)

.PP
This program was derived from \fBpbm2ppa\fP.  \fBpbm2ppa\fP is obsolete 
and has been replaced by \fBpnm2ppa\fP, which do tha same thangs as 
\fBpbmtoppa\fP except it also works wit color n' has fuckin shitloadz mo' features.  See 
.UR http://pnm2ppa.sourceforge.net
http://pnm2ppa.sourceforge.net
.UE
\& 
for mo' shiznit bout tha PPA protocol n' tha separately distributed 
\fBpnm2ppa\fP program.
.PP
Da file INSTALL-MORE up in tha pbmtoppa directory of tha Netpbm
source code gotz nuff detailed instructions on settin up a system to
use pbmtoppa ta allow convenient printin on HP PPA printers.  It was
written by Mike Buehlmann.

.UN lbAJ
.SH AUTHOR
.PP
Slim Tim Norman. I aint talkin' bout chicken n' gravy biatch.  Copyright (C) 1998.  Licensed under GNU Public License
.PP
Manual page by Bryan Henderson, May 2000.
