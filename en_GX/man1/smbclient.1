'\" t
.\"     Title: smbclient
.\"    Author: [see tha "AUTHOR" section]
.\" Generator: DocBook XSL Stylesheets v1.78.1 <http://docbook.sf.net/>
.\"      Date: 12/11/2014
.\"    Manual: User Commands
.\"    Source: Samba 4.0
.\"  Language: Gangsta
.\"
.TH "SMBCLIENT" "1" "12/11/2014" "Samba 4\&.0" "User Commands"
.\" -----------------------------------------------------------------
.\" * Define some portabilitizzle stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text ta left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
smbclient \- ftp\-like client ta access SMB/CIFS resources on servers
.SH "SYNOPSIS"
.HP \w'\ 'u
smbclient [\-b\ <buffer\ size>] [\-d\ debuglevel] [\-e] [\-L\ <netbios\ name>] [\-U\ username] [\-I\ destinationIP] [\-M\ <netbios\ name>] [\-m\ maxprotocol] [\-A\ authfile] [\-N] [\-C] [\-g] [\-i\ scope] [\-O\ <socket\ options>] [\-p\ port] [\-R\ <name\ resolve\ order>] [\-s\ <smb\ config\ file>] [\-t\ <per\-operation\ timeout\ in\ seconds>] [\-k] [\-P] [\-c\ <command>]
.HP \w'\ 'u
smbclient {servicename} [password] [\-b\ <buffer\ size>] [\-d\ debuglevel] [\-e] [\-D\ Directory] [\-U\ username] [\-W\ workgroup] [\-M\ <netbios\ name>] [\-m\ maxprotocol] [\-A\ authfile] [\-N] [\-C] [\-g] [\-l\ log\-basename] [\-I\ destinationIP] [\-E] [\-c\ <command\ string>] [\-i\ scope] [\-O\ <socket\ options>] [\-p\ port] [\-R\ <name\ resolve\ order>] [\-s\ <smb\ config\ file>] [\-t\ <per\-operation\ timeout\ in\ seconds>] [\-T<c|x>IXFqgbNan] [\-k]
.SH "DESCRIPTION"
.PP
This tool is part of the
\fBsamba\fR(7)
suite\&.
.PP
smbclient
is a cold-ass lil client dat can \*(Aqtalk\*(Aq ta a SMB/CIFS server\&. Well shiiiit, it offers a intercourse similar ta dat of tha ftp program (see
\fBftp\fR(1))\&. Operations include thangs like gettin filez from tha server ta tha local machine, puttin filez from tha local machine ta tha server, retrievin directory shiznit from tha server n' so on\&.
.SH "OPTIONS"
.PP
servicename
.RS 4
servicename is tha name of tha steez you wanna use on tha server\& fo' realz. A steez name takes tha form
//server/service
where
\fIserver \fR
is tha NetBIOS name of tha SMB/CIFS server offerin tha desired steez and
\fIservice\fR
is tha name of tha steez offered\&. Thus ta connect ta tha steez "printer" on tha SMB/CIFS server "smbserver", you would use tha servicename
//smbserver/printer
.sp
Note dat tha server name required is NOT necessarily tha IP (DNS) host name of tha server ! Da name required be a NetBIOS server name, which may or may not be tha same as tha IP hostname of tha machine hustlin tha server\&.
.sp
Da server name is looked up accordin ta either the
\fI\-R\fR
parameta to
smbclient
or rockin tha name resolve order parameta up in the
\fBsmb.conf\fR(5)
file, allowin a administrator ta chizzle tha order n' methodz by which server names is looked up\&.
.RE
.PP
password
.RS 4
Da password required ta access tha specified steez on tha specified server\&. If dis parameta is supplied, the
\fI\-N\fR
option (suppress password prompt) be assumed\&.
.sp
There is no default password\&. If no password is supplied on tha command line (either by rockin dis parameta or addin a password ta the
\fI\-U\fR
option (see below)) n' the
\fI\-N\fR
option aint specified, tha client will prompt fo' a password, even if tha desired steez do not require one\&. (If no password is required, simply press ENTER ta provide a null password\&.)
.sp
Note: Some servers (includin OS/2 n' Windows fo' Workgroups) insist on a uppercase password\&. Lowercase or mixed case passwordz may be rejected by these servers\&.
.sp
Be cautious bout includin passwordz up in scripts\&.
.RE
.PP
\-R|\-\-name\-resolve <name resolve order>
.RS 4
This option is used by tha programs up in tha Samba suite ta determine what tha fuck namin skillz n' up in what tha fuck order ta resolve host names ta IP addresses\&. Da option takes a space\-separated strang of different name resolution options\&.
.sp
Da options is :"lmhosts", "host", "wins" n' "bcast"\&. They cause names ta be resolved as bigs up:
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fBlmhosts\fR: Lookup a IP address up in tha Samba lmhosts file\&. If tha line up in lmhosts has no name type attached ta tha NetBIOS name (see the
\fBlmhosts\fR(5)
for details) then any name type matches fo' lookup\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fBhost\fR: Do a standard host name ta IP address resolution, rockin tha system
/etc/hosts, NIS, or DNS lookups\&. This method of name resolution is operatin system dependent, fo' instizzle on IRIX or Solaris dis may be controlled by the
/etc/nsswitch\&.conf
file)\&. Note dat dis method is only used if tha NetBIOS name type bein queried is tha 0x20 (server) name type, otherwise it is ignored\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fBwins\fR: Query a name wit tha IP address listed up in the
\fIwins server\fR
parameter\&. If no WINS server has been specified dis method is ghon be ignored\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fBbcast\fR: Do a funky-ass broadcast on each of tha known local intercourses listed up in the
\fIinterfaces\fR
parameter\&. This is tha least reliable of tha name resolution methodz as it dependz on tha target host bein on a locally connected subnet\&.
.RE
.sp
.RE
If dis parameta aint set then tha name resolve order defined up in the
\fBsmb.conf\fR(5)
file parameta (name resolve order) is ghon be used\&.
.sp
Da default order is lmhosts, host, wins, bcast n' without dis parameta or any entry up in the
\fIname resolve order \fR
parameta of the
\fBsmb.conf\fR(5)
file tha name resolution methodz is ghon be attempted up in dis order\&.
.RE
.PP
\-M|\-\-message NetBIOS name
.RS 4
This options allows you ta bust lyrics, rockin tha "WinPopup" protocol, ta another computer\&. Once a cold-ass lil connection is established you then type yo' message, pressin ^D (control\-D) ta end\&.
.sp
If tha receivin computa is hustlin WinPopup tha user will receive tha message n' probably a funky-ass beep\&. If they is not hustlin WinPopup tha message is ghon be lost, n' no error message will occur\&.
.sp
Da message be also automatically truncated if tha message is over 1600 bytes, as dis is tha limit of tha protocol\&.
.sp
One useful trick is ta pipe tha message through
smbclient\&. For example: smbclient \-M FRED < mymessage\&.txt will bust tha message up in tha file
mymessage\&.txt
to tha machine FRED\&.
.sp
Yo ass may also find the
\fI\-U\fR
and
\fI\-I\fR
options useful, as they allow you ta control tha FROM n' TO partz of tha message\&.
.sp
See the
\fImessage command\fR
parameta up in the
\fBsmb.conf\fR(5)
for a thugged-out description of how tha fuck ta handle incomin WinPopup lyrics up in Samba\&.
.sp
\fINote\fR: Copy WinPopup tha fuck into tha startup crew on yo' WfWg PCs if you want dem ta always be able ta receive lyrics\&.
.RE
.PP
\-p|\-\-port port
.RS 4
This number is tha TCP port number dat is ghon be used when makin connections ta tha server\&. Da standard (well\-known) TCP port number fo' a SMB/CIFS server is 139, which is tha default\&.
.RE
.PP
\-g|\-\-grepable
.RS 4
This parameta serves up combined with
\fI\-L\fR
easy parseable output dat allows processin wit utilitizzles like fuckin grep n' cut\&.
.RE
.PP
\-m|\-\-max\-protocol protocol
.RS 4
This allows tha user ta select tha highest SMB protocol level dat smbclient will use ta connect ta tha server\&. By default dis is set ta NT1, which is tha highest available SMB1 protocol\&. To connect rockin SMB2 or SMB3 protocol, use tha strings SMB2 or SMB3 respectively\&. Note dat ta connect ta a Windows 2012 server wit encrypted transhiznit selectin a max\-protocol of SMB3 is required\&.
.RE
.PP
\-P|\-\-machine\-pass
.RS 4
Make queries ta tha external server rockin tha machine account of tha local server\&.
.RE
.PP
\-I|\-\-ip\-address IP\-address
.RS 4
\fIIP address\fR
is tha address of tha server ta connect to\&. Well shiiiit, it should be specified up in standard "a\&.b\&.c\&.d" notation\&.
.sp
Normally tha client would attempt ta locate a named SMB/CIFS server by lookin it up via tha NetBIOS name resolution mechanizzle busted lyrics bout above up in the
\fIname resolve order\fR
parameta above\&. Usin dis parameta will force tha client ta assume dat tha server is on tha machine wit tha specified IP address n' tha NetBIOS name component of tha resource bein connected ta is ghon be ignored\&.
.sp
There is no default fo' dis parameter\&. If not supplied, it is ghon be determined automatically by tha client as busted lyrics bout above\&.
.RE
.PP
\-E|\-\-stderr
.RS 4
This parameta causes tha client ta write lyrics ta tha standard error stream (stderr) rather than ta tha standard output stream\&.
.sp
By default, tha client writes lyrics ta standard output \- typically tha user\*(Aqs tty\&.
.RE
.PP
\-L|\-\-list
.RS 4
This option allows you ta peep what tha fuck skillz is available on a server\&. Yo ass use it as
smbclient \-L host
and a list should appear\&. The
\fI\-I \fR
option may be useful if yo' NetBIOS names don\*(Aqt match yo' TCP/IP DNS host names or if yo ass is tryin ta reach a host on another network\&.
.RE
.PP
\-b|\-\-send\-buffer buffersize
.RS 4
When bustin  or receivin files, smbclient uses a internal buffer sized by tha maximum number of allowed requests ta tha connected server\&. This command allows dis size ta be set ta any range between 0 (which means use tha default server controlled size) bytes n' 16776960 (0xFFFF00) bytes\&. Usin tha server controlled size is da most thugged-out efficient as smbclient will pipeline as nuff simultaneous readz or writes needed ta keep tha server as busy as possible\&. Right back up in yo muthafuckin ass. Settin dis ta any other size will slow down tha transfer\&. This can also be set rockin the
iosize
command inside smbclient\&.
.RE
.PP
\-B|\-\-browse
.RS 4
Browse SMB servers rockin DNS\&.
.RE
.PP
\-d|\-\-debuglevel=level
.RS 4
\fIlevel\fR
is a integer from 0 ta 10\&. Da default value if dis parameta aint specified is 1\&.
.sp
Da higher dis value, tha mo' detail is ghon be logged ta tha log filez bout tha activitizzlez of tha server\& fo' realz. At level 0, only critical errors n' straight-up warnings is ghon be logged\&. Level 1 be a reasonable level fo' day\-to\-dizzle hustlin \- it generates a lil' small-ass amount of shiznit bout operations carried out\&.
.sp
Levels above 1 will generate considerable amountz of log data, n' should only be used when investigatin a problem\&. Levels above 3 is designed fo' use only by pimpers n' generate HUGE amountz of log data, most of which is mad cryptic\&.
.sp
Note dat specifyin dis parameta here will override the
\m[blue]\fBlizzay level\fR\m[]
parameta up in the
smb\&.conf
file\&.
.RE
.PP
\-V|\-\-version
.RS 4
Prints tha program version number\&.
.RE
.PP
\-s|\-\-configfile=<configuration file>
.RS 4
Da file specified gotz nuff tha configuration details required by tha server\&. Da shiznit up in dis file includes server\-specific shiznit like fuckin what tha fuck printcap file ta use, as well as descriptionz of all tha skillz dat tha server is ta provide\&. Right back up in yo muthafuckin ass. See
smb\&.conf
for mo' shiznit\&. Da default configuration file name is determined at compile time\&.
.RE
.PP
\-l|\-\-log\-basename=logdirectory
.RS 4
Base directory name fo' log/debug files\&. Da extension
\fB"\&.progname"\fR
will be appended (e\&.g\&. log\&.smbclient, log\&.smbd, etc\&.\&.\&.)\&. Da log file is never removed by tha client\&.
.RE
.PP
\-\-option=<name>=<value>
.RS 4
Set the
\fBsmb.conf\fR(5)
option "<name>" ta value "<value>" from tha command line\&. This overrides compiled\-in defaults n' options read from tha configuration file\&.
.RE
.PP
\-N|\-\-no\-pass
.RS 4
If specified, dis parameta suppresses tha aiiight password prompt from tha client ta tha user\&. This is useful when accessin a steez dat do not require a password\&.
.sp
Unless a password is specified on tha command line or dis parameta is specified, tha client will request a password\&.
.sp
If a password is specified on tha command line n' dis option be also defined tha password on tha command line is ghon be silently ingnored n' no password is ghon be used\&.
.RE
.PP
\-k|\-\-kerberos
.RS 4
Try ta authenticate wit kerberos\&. Only useful up in a Actizzle Directory environment\&.
.RE
.PP
\-C|\-\-use\-ccache
.RS 4
Try ta use tha credentials cached by winbind\&.
.RE
.PP
\-A|\-\-authentication\-file=filename
.RS 4
This option allows you ta specify a gangbangin' file from which ta read tha username n' password used up in tha connection\&. Da format of tha file is
.sp
.if n \{\
.RS 4
.\}
.nf
username = <value>
password = <value>
domain   = <value>
.fi
.if n \{\
.RE
.\}
.sp
Make certain dat tha permissions on tha file restrict access from unwanted users\&.
.RE
.PP
\-U|\-\-user=username[%password]
.RS 4
Sets tha SMB username or username n' password\&.
.sp
If %password aint specified, tha user is ghon be prompted\&. Da client will first check the
\fBUSER\fR
environment variable, then the
\fBLOGNAME\fR
variable n' if either exists, tha strang is uppercased\&. If these environmenstrual variablez is not found, tha username
\fBGUEST\fR
is used\&.
.sp
A third option is ta bust a cold-ass lil credentials file which gotz nuff tha plaintext of tha username n' password\&. This option is mainly provided fo' scripts where tha admin do not wish ta pass tha credentials on tha command line or via environment variables\&. If dis method is used, make certain dat tha permissions on tha file restrict access from unwanted users\&. Right back up in yo muthafuckin ass. See the
\fI\-A\fR
for mo' details\&.
.sp
Be cautious bout includin passwordz up in scripts\& fo' realz. Also, on nuff systems tha command line of a hustlin process may be peeped via the
ps
command\&. To be safe always allow
rpcclient
to prompt fo' a password n' type it up in directly\&.
.RE
.PP
\-S|\-\-signin on|off|required
.RS 4
Set tha client signin state\&.
.RE
.PP
\-P|\-\-machine\-pass
.RS 4
Use stored machine account password\&.
.RE
.PP
\-e|\-\-encrypt
.RS 4
This command line parameta requires tha remote server support tha UNIX extensions or dat tha SMB3 protocol has been selected\&. Requests dat tha connection be encrypted\&. Negotiates SMB encryption rockin either SMB3 or POSIX extensions via GSSAPI\&. Uses tha given credentials fo' tha encryption negotiation (either kerberos or NTLMv1/v2 if given domain/username/password triple\&. Fails tha connection if encryption cannot be negotiated\&.
.RE
.PP
\-\-pw\-nt\-hash
.RS 4
Da supplied password is tha NT hash\&.
.RE
.PP
\-n|\-\-netbiosname <primary NetBIOS name>
.RS 4
This option allows you ta override tha NetBIOS name dat Samba uses fo' itself\&. This is identical ta settin the
\m[blue]\fBnetbios name\fR\m[]
parameta up in the
smb\&.conf
file\&. But fuck dat shiznit yo, tha word on tha street is dat a cold-ass lil command line settin will take precedence over settings in
smb\&.conf\&.
.RE
.PP
\-i|\-\-scope <scope>
.RS 4
This specifies a NetBIOS scope that
nmblookup
will use ta rap wit when generatin NetBIOS names\&. For details on tha use of NetBIOS scopes, peep rfc1001\&.txt n' rfc1002\&.txt\&. NetBIOS scopes are
\fIvery\fR
rarely used, only set dis parameta if yo ass is tha system administrator up in charge of all tha NetBIOS systems you rap with\&.
.RE
.PP
\-W|\-\-workgroup=domain
.RS 4
Set tha SMB domain of tha username\&. This overrides tha default domain which is tha domain defined up in smb\&.conf\&. If tha domain specified is tha same ol' dirty as tha servers NetBIOS name, it causes tha client ta log on rockin tha servers local SAM (as opposed ta tha Domain SAM)\&.
.RE
.PP
\-O|\-\-socket\-options socket options
.RS 4
TCP socket options ta set on tha client socket\&. Right back up in yo muthafuckin ass. See tha socket options parameta up in the
smb\&.conf
manual page fo' tha list of valid options\&.
.RE
.PP
\-?|\-\-help
.RS 4
Print a summary of command line options\&.
.RE
.PP
\-\-usage
.RS 4
Display brief usage message\&.
.RE
.PP
\-t|\-\-timeout <timeout\-seconds>
.RS 4
This allows tha user ta tune tha default timeout used fo' each SMB request\&. Da default settin is 20 seconds\&. Increase it if requests ta tha server sometimes time out\&. This can happen when SMB3 encryption is selected n' smbclient is overwhelmin tha server wit requests\&. This can also be set rockin the
timeout
command inside smbclient\&.
.RE
.PP
\-T|\-\-tar tar options
.RS 4
smbclient may be used ta create
tar(1)
compatible backupz of all tha filez on a SMB/CIFS share\&. Da secondary tar flags dat can be given ta dis option is :
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fIc\fR
\- Smoke a tar file on UNIX\&. Must be followed by tha name of a tar file, tape thang or "\-" fo' standard output\&. If rockin standard output you must turn tha log level ta its lowest value \-d0 ta avoid corruptin yo' tar file\&. This flag is mutually exclusive wit the
\fIx\fR
flag\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fIx\fR
\- Extract (restore) a local tar file back ta a gangbangin' finger-lickin' dirty-ass share\&. Unless tha \-D option is given, tha tar filez is ghon be restored from tha top level of tha share\&. Must be followed by tha name of tha tar file, thang or "\-" fo' standard input\&. Mutually exclusive wit the
\fIc\fR
flag\&. Restored filez have they creation times (mtime) set ta tha date saved up in tha tar file\&. Directories currently do not git they creation dates restored properly\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fII\fR
\- Include filez n' directories\&. Is tha default behavior when filenames is specified above\&. Causes filez ta be included up in a extract or create (and therefore every last muthafuckin thang else ta be excluded)\&. Right back up in yo muthafuckin ass. See example below\&. Filename globbin works up in one of two ways\&. Right back up in yo muthafuckin ass. See
\fIr\fR
below\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fIX\fR
\- Exclude filez n' directories\&. Causes filez ta be excluded from a extract or create\&. Right back up in yo muthafuckin ass. See example below\&. Filename globbin works up in one of two ways now\&. Right back up in yo muthafuckin ass. See
\fIr\fR
below\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fIF\fR
\- File containin a list of filez n' directories\&. The
\fIF\fR
causes tha name followin tha tarfile ta create ta be read as a gangbangin' filename dat gotz nuff a list of filez n' directories ta be included up in a extract or create (and therefore every last muthafuckin thang else ta be excluded)\&. Right back up in yo muthafuckin ass. See example below\&. Filename globbin works up in one of two ways\&. Right back up in yo muthafuckin ass. See
\fIr\fR
below\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fIb\fR
\- Blocksize\&. Must be followed by a valid (greata than zero) blocksize\&. Causes tar file ta be freestyled up in blocksize*TBLOCK (usually 512 byte) blocks\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fIg\fR
\- Incremental\&. Only back up filez dat have tha archive bit set\&. Useful only wit the
\fIc\fR
flag\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fIq\fR
\- Quiet\&. Keeps tar from printin diagnostics as it works\&. This is tha same ol' dirty as tarmode on tha fuckin' down-low\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fIr\fR
\- Regular expression include or exclude\&. Uses regular expression matchin fo' excludin or excludin filez if compiled wit HAVE_REGEX_H\& yo. However dis mode can be straight-up slow\&. If not compiled wit HAVE_REGEX_H, do a limited wildcard match on \*(Aq*\*(Aq n' \*(Aq?\*(Aq\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fIN\fR
\- Newer than\&. Must be followed by tha name of a gangbangin' file whose date is compared against filez found on tha share durin a cold-ass lil create\&. Only filez newer than tha file specified is backed up ta tha tar file\&. Useful only wit the
\fIc\fR
flag\&.
.RE
.sp
.RS 4
.ie n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
\fIa\fR
\- Set archive bit\&. Causes tha archive bit ta be reset when a gangbangin' file is backed up\&. Useful wit the
\fIg\fR
and
\fIc\fR
flags\&.
.RE
.sp
.RE
\fITar Long File Names\fR
.sp
smbclient\*(Aqs tar option now supports long file names both on backup n' restore\&. But fuck dat shiznit yo, tha word on tha street is dat tha full path name of tha file must be less than 1024 bytes\& fo' realz. Also, when a tar archive is pimped,
smbclient\*(Aqs tar option places all filez up in tha archive wit relatizzle names, not absolute names\&.
.sp
\fITar Filenames\fR
.sp
All file names can be given as DOS path names (with \*(Aq\e\e\*(Aq as tha component separator) or as UNIX path names (with \*(Aq/\*(Aq as tha component separator)\&.
.sp
\fIExamples\fR
.sp
Restore from tar file
backup\&.tar
into myshare on mypc (no password on share)\&.
.sp
smbclient //mypc/myshare "" \-N \-Tx backup\&.tar
.sp
Restore every last muthafuckin thang except
users/docs
.sp
smbclient //mypc/myshare "" \-N \-TXx backup\&.tar users/docs
.sp
Smoke a tar file of tha filez beneath
users/docs\&.
.sp
smbclient //mypc/myshare "" \-N \-Tc backup\&.tar users/docs
.sp
Smoke tha same tar file as above yo, but now bust a DOS path name\&.
.sp
smbclient //mypc/myshare "" \-N \-Tc backup\&.tar users\eedocs
.sp
Smoke a tar file of tha filez listed up in tha file
tarlist\&.
.sp
smbclient //mypc/myshare "" \-N \-TcF backup\&.tar tarlist
.sp
Smoke a tar file of all tha filez n' directories up in tha share\&.
.sp
smbclient //mypc/myshare "" \-N \-Tc backup\&.tar *
.RE
.PP
\-D|\-\-directory initial directory
.RS 4
Change ta initial directory before starting\&. Probably only of any use wit tha tar \-T option\&.
.RE
.PP
\-c|\-\-command command string
.RS 4
command strang be a semicolon\-separated list of commandz ta be executed instead of promptin from stdin\&.
\fI \-N\fR
is implied by
\fI\-c\fR\&.
.sp
This is particularly useful up in scripts n' fo' printin stdin ta tha server, e\&.g\&.
\-c \*(Aqprint \-\*(Aq\&.
.RE
.SH "OPERATIONS"
.PP
Once tha client is hustlin, tha user is presented wit a prompt :
.PP
smb:\e>
.PP
Da backslash ("\e\e") indicates tha current hustlin directory on tha server, n' will chizzle if tha current hustlin directory is chizzled\&.
.PP
Da prompt indicates dat tha client is locked n loaded n' waitin ta carry up a user command\&. Each command be a single word, optionally followed by parametas specific ta dat command\&. Command n' parametas is space\-delimited unless these notes specifically state otherwise\& fo' realz. All commandz is case\-insensitive\&. Parametas ta commandz may or may not be case sensitive, dependin on tha command\&.
.PP
Yo ass can specify file names which have spaces up in dem by quotin tha name wit double quotes, fo' example "a long file name"\&.
.PP
Parametas shown up in square brackets (e\&.g\&., "[parameter]") is optional\&. If not given, tha command will use suitable defaults\&. Parametas shown up in angle brackets (e\&.g\&., "<parameter>") is required\&.
.PP
Note dat all commandz operatin on tha server is straight-up performed by issuin a request ta tha server\&. Thus tha behavior may vary from server ta server, dependin on how tha fuck tha server was implemented\&.
.PP
Da commandz available is given here up in alphabetical order\&.
.PP
? [command]
.RS 4
If
\fIcommand\fR
is specified, tha ? command will display a funky-ass brief informatizzle message bout tha specified command\&. If no command is specified, a list of available commandz is ghon be displayed\&.
.RE
.PP
! [shell command]
.RS 4
If
\fIshell command\fR
is specified, tha ! command will execute a gangbangin' finger-lickin' dirty-ass shell locally n' run tha specified shell command\&. If no command is specified, a local shell is ghon be run\&.
.RE
.PP
allinfo file
.RS 4
Da client will request dat tha server return all known shiznit on some gangbangin' file or directory (includin streams)\&.
.RE
.PP
altname file
.RS 4
Da client will request dat tha server return tha "alternate" name (the 8\&.3 name) fo' a gangbangin' file or directory\&.
.RE
.PP
archive <number>
.RS 4
Sets tha archive level when operatin on files\&. 0 means ignore tha archive bit, 1 means only operate on filez wit dis bit set, 2 means only operate on filez wit dis bit set n' reset it afta operation, 3 means operate on all filez n' reset it afta operation\&. Da default is 0\&.
.RE
.PP
backup
.RS 4
Toggle tha state of tha "backup intent" flag busted ta tha server on directory listings n' file opens\&. If tha "backup intent" flag is true, tha server will try n' bypass some file system checks if tha user has been granted SE_BACKUP or SE_RESTORE privileges\&. This state is useful when struttin a funky-ass backup or restore operation\&.
.RE
.PP
blocksize <number>
.RS 4
Sets tha blocksize parameta fo' a tar operation\&. Da default is 20\&. Causes tar file ta be freestyled up in blocksize*TBLOCK (normally 512 byte) units\&.
.RE
.PP
cancel thangid0 [jobid1] \&.\&.\&. [jobidN]
.RS 4
Da client will request dat tha server quit tha printjobs identified by tha given numeric print thang ids\&.
.RE
.PP
case_sensitive
.RS 4
Togglez tha settin of tha flag up in SMB packets dat  drops some lyrics ta tha server ta treat filenames as case sensitive\&. Right back up in yo muthafuckin ass. Set ta OFF by default ( drops some lyrics ta file server ta treat filenames as case insensitive)\&. Only currently affects Samba 3\&.0\&.5 n' above file servers wit tha case sensitizzle parameta set ta auto up in tha smb\&.conf\&.
.RE
.PP
cd <directory name>
.RS 4
If "directory name" is specified, tha current hustlin directory on tha server is ghon be chizzled ta tha directory specified\&. This operation will fail if fo' any reason tha specified directory is inaccessible\&.
.sp
If no directory name is specified, tha current hustlin directory on tha server is ghon be reported\&.
.RE
.PP
chmod file mode up in octal
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Da client requests dat tha server chizzle tha UNIX permissions ta tha given octal mode, up in standard UNIX format\&.
.RE
.PP
chown file uid gid
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Da client requests dat tha server chizzle tha UNIX user n' crew ballershizzle ta tha given decimal joints\&. Note there is currently no way ta remotely look up tha UNIX uid n' gid joints fo' a given name\&. This may be addressed up in future versionz of tha CIFS UNIX extensions\&.
.RE
.PP
close <fileid>
.RS 4
Closes a gangbangin' file explicitly opened by tha open command\&. Used fo' internal Samba testin purposes\&.
.RE
.PP
del <mask>
.RS 4
Da client will request dat tha server attempt ta delete all filez matching
\fImask\fR
from tha current hustlin directory on tha server\&.
.RE
.PP
dir <mask>
.RS 4
A list of tha filez matching
\fImask\fR
in tha current hustlin directory on tha server is ghon be retrieved from tha server n' displayed\&.
.RE
.PP
du <filename>
.RS 4
Do a gangbangin' finger-lickin' directory listin n' then prints up tha current disk usage n' free space on a gangbangin' finger-lickin' dirty-ass share\&.
.RE
.PP
echo <number> <data>
.RS 4
Do a SMBecho request ta pin tha server\&. Used fo' internal Samba testin purposes\&.
.RE
.PP
exit
.RS 4
Terminizzle tha connection wit tha server n' exit from tha program\&.
.RE
.PP
get <remote file name> [local file name]
.RS 4
Copy tha file called
remote file name
from tha server ta tha machine hustlin tha client\&. If specified, name tha local copy
local file name\&. Note dat all transfers in
smbclient
are binary\&. Right back up in yo muthafuckin ass. See also tha lowercase command\&.
.RE
.PP
getfacl <filename>
.RS 4
Requires tha server support tha UNIX extensions\&. Requests n' prints tha POSIX ACL on a gangbangin' file\&.
.RE
.PP
hardlink <src> <dest>
.RS 4
Creates a hardlink on tha server rockin Windows CIFS semantics\&.
.RE
.PP
help [command]
.RS 4
See tha ? command above\&.
.RE
.PP
history
.RS 4
Displays tha command history\&.
.RE
.PP
iosize <bytes>
.RS 4
When bustin  or receivin files, smbclient uses a internal buffer sized by tha maximum number of allowed requests ta tha connected server\&. This command allows dis size ta be set ta any range between 0 (which means use tha default server controlled size) bytes n' 16776960 (0xFFFF00) bytes\&. Usin tha server controlled size is da most thugged-out efficient as smbclient will pipeline as nuff simultaneous readz or writes needed ta keep tha server as busy as possible\&. Right back up in yo muthafuckin ass. Settin dis ta any other size will slow down tha transfer\&.
.RE
.PP
lcd [directory name]
.RS 4
If
\fIdirectory name\fR
is specified, tha current hustlin directory on tha local machine is ghon be chizzled ta tha directory specified\&. This operation will fail if fo' any reason tha specified directory is inaccessible\&.
.sp
If no directory name is specified, tha name of tha current hustlin directory on tha local machine is ghon be reported\&.
.RE
.PP
link target linkname
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Da client requests dat tha server create a hard link between tha linkname n' target files\&. Da linkname file must not exist\&.
.RE
.PP
listconnect
.RS 4
Show tha current connections held fo' DFS purposes\&.
.RE
.PP
lock <filenum> <r|w> <hex\-start> <hex\-len>
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Tries ta set a POSIX fcntl lock of tha given type on tha given range\&. Used fo' internal Samba testin purposes\&.
.RE
.PP
logon <username> <password>
.RS 4
Establishes a freshly smoked up vuid fo' dis session by loggin on again\&. Replaces tha current vuid\&. Prints up tha freshly smoked up vuid\&. Used fo' internal Samba testin purposes\&.
.RE
.PP
logoff
.RS 4
Logs tha user off tha server, closin tha session\&. Used fo' internal Samba testin purposes\&.
.RE
.PP
lowercase
.RS 4
Toggle lowercasin of filenames fo' tha git n' mget commands\&.
.sp
When lowercasin is toggled ON, local filenames is converted ta lowercase when rockin tha git n' mget commands\&. This is often useful when copyin (say) MSDOS filez from a server, cuz lowercase filenames is tha norm on UNIX systems\&.
.RE
.PP
ls <mask>
.RS 4
See tha dir command above\&.
.RE
.PP
mask <mask>
.RS 4
This command allows tha user ta set up a mask which is ghon be used durin recursive operation of tha mget n' mput commands\&.
.sp
Da masks specified ta tha mget n' mput commandz act as filtas fo' directories rather than filez when recursion is toggled ON\&.
.sp
Da mask specified wit tha mask command is necessary ta filta filez within dem directories\&. For example, if tha mask specified up in a mget command is "source*" n' tha mask specified wit tha mask command is "*\&.c" n' recursion is toggled ON, tha mget command will retrieve all filez matchin "*\&.c" up in all directories below n' includin all directories matchin "source*" up in tha current hustlin directory\&.
.sp
Note dat tha value fo' mask defaults ta blank (equivalent ta "*") n' remains so until tha mask command is used ta chizzle it\&. Well shiiiit, it retains da most thugged-out recently specified value indefinitely\&. To avoid unexpected thangs up in dis biatch it would be wise ta chizzle tha value of mask back ta "*" afta rockin tha mget or mput commands\&.
.RE
.PP
md <directory name>
.RS 4
See tha mkdir command\&.
.RE
.PP
mget <mask>
.RS 4
Copy all filez matching
\fImask\fR
from tha server ta tha machine hustlin tha client\&.
.sp
Note that
\fImask\fR
is interpreted differently durin recursive operation n' non\-recursive operation \- refer ta tha recurse n' mask commandz fo' mo' shiznit\&. Note dat all transfers in
smbclient
are binary\&. Right back up in yo muthafuckin ass. See also tha lowercase command\&.
.RE
.PP
mkdir <directory name>
.RS 4
Smoke a freshly smoked up directory on tha server (user access privileges permitting) wit tha specified name\&.
.RE
.PP
more <file name>
.RS 4
Fetch a remote file n' view it wit tha contentz of yo' PAGER environment variable\&.
.RE
.PP
mput <mask>
.RS 4
Copy all filez matching
\fImask\fR
in tha current hustlin directory on tha local machine ta tha current hustlin directory on tha server\&.
.sp
Note that
\fImask\fR
is interpreted differently durin recursive operation n' non\-recursive operation \- refer ta tha recurse n' mask commandz fo' mo' shiznit\&. Note dat all transfers in
smbclient
are binary\&.
.RE
.PP
posix
.RS 4
Query tha remote server ta peep if it supports tha CIFS UNIX extensions n' prints up tha list of capabilitizzles supported\&. If so, turn on POSIX pathname processin n' big-ass file read/writes (if available),\&.
.RE
.PP
posix_encrypt <domain> <username> <password>
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\& fo' realz. Attempt ta negotiate SMB encryption on dis connection\&. If smbclient connected wit kerberos credentials (\-k) tha arguments ta dis command is ignored n' tha kerberos credentials is used ta negotiate GSSAPI signin n' sealin instead\&. Right back up in yo muthafuckin ass. See also tha \-e option ta smbclient ta force encryption on initial connection\&. This command is freshly smoked up wit Samba 3\&.2\&.
.RE
.PP
posix_open <filename> <octal mode>
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Opens a remote file rockin tha CIFS UNIX extensions n' prints a gangbangin' fileid\&. Used fo' internal Samba testin purposes\&.
.RE
.PP
posix_mkdir <directoryname> <octal mode>
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Creates a remote directory rockin tha CIFS UNIX extensions wit tha given mode\&.
.RE
.PP
posix_rmdir <directoryname>
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Deletes a remote directory rockin tha CIFS UNIX extensions\&.
.RE
.PP
posix_unlink <filename>
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Deletes a remote file rockin tha CIFS UNIX extensions\&.
.RE
.PP
print <file name>
.RS 4
Print tha specified file from tha local machine all up in a printable steez on tha server\&.
.RE
.PP
prompt
.RS 4
Toggle promptin fo' filenames durin operation of tha mget n' mput commands\&.
.sp
When toggled ON, tha user is ghon be prompted ta confirm tha transfer of each file durin these commands\&. When toggled OFF, all specified filez is ghon be transferred without prompting\&.
.RE
.PP
put <local file name> [remote file name]
.RS 4
Copy tha file called
local file name
from tha machine hustlin tha client ta tha server\&. If specified, name tha remote copy
remote file name\&. Note dat all transfers in
smbclient
are binary\&. Right back up in yo muthafuckin ass. See also tha lowercase command\&.
.RE
.PP
queue
.RS 4
Displays tha print queue, showin tha thang id, name, size n' current status\&.
.RE
.PP
quit
.RS 4
See tha exit command\&.
.RE
.PP
readlink symlinkname
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Print tha value of tha symlink "symlinkname"\&.
.RE
.PP
rd <directory name>
.RS 4
See tha rmdir command\&.
.RE
.PP
recurse
.RS 4
Toggle directory recursion fo' tha commandz mget n' mput\&.
.sp
When toggled ON, these commandz will process all directories up in tha source directory (i\&.e\&., tha directory they is copyin from ) n' will recurse tha fuck into any dat match tha mask specified ta tha command\&. Only filez dat match tha mask specified rockin tha mask command is ghon be retrieved\&. Right back up in yo muthafuckin ass. See also tha mask command\&.
.sp
When recursion is toggled OFF, only filez from tha current hustlin directory on tha source machine dat match tha mask specified ta tha mget or mput commandz is ghon be copied, n' any mask specified rockin tha mask command is ghon be ignored\&.
.RE
.PP
rename <old filename> <new filename>
.RS 4
Rename filez up in tha current hustlin directory on tha server from
\fIold filename\fR
to
\fInew filename\fR\&.
.RE
.PP
rm <mask>
.RS 4
Remove all filez matching
\fImask\fR
from tha current hustlin directory on tha server\&.
.RE
.PP
rmdir <directory name>
.RS 4
Remove tha specified directory (user access privileges permitting) from tha server\&.
.RE
.PP
setmode <filename> <perm=[+|\e\-]rsha>
.RS 4
A version of tha DOS attrib command ta set file permissions\&. For example:
.sp
setmode myfile +r
.sp
would make myfile read only\&.
.RE
.PP
showconnect
.RS 4
Show tha currently actizzle connection held fo' DFS purposes\&.
.RE
.PP
stat file
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Da client requests tha UNIX basic info level n' prints up tha same info dat tha Linux stat command would bout tha file\&. This includes tha size, blocks used on disk, file type, permissions, inode number, number of links n' finally tha three timestamps (access, modify n' chizzle)\&. If tha file be a special file (symlink, characta or block device, fifo or socket) then extra shiznit may also be printed\&.
.RE
.PP
symlink target linkname
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Da client requests dat tha server create a symbolic hard link between tha target n' linkname files\&. Da linkname file must not exist\&. Note dat tha server aint gonna create a link ta any path dat lies outside tha currently connected share\&. This is enforced by tha Samba server\&.
.RE
.PP
tar <c|x>[IXbgNa]
.RS 4
Performs a tar operation \- peep the
\fI\-T \fR
command line option above\&. Behavior may be affected by tha tarmode command (see below)\&. Usin g (incremental) n' N (newer) will affect tarmode settings\&. Note dat rockin tha "\-" option wit tar x may not work \- use tha command line option instead\&.
.RE
.PP
blocksize <blocksize>
.RS 4
Blocksize\&. Must be followed by a valid (greata than zero) blocksize\&. Causes tar file ta be freestyled up in
\fIblocksize\fR*TBLOCK (usually 512 byte) blocks\&.
.RE
.PP
tarmode <full|inc|reset|noreset>
.RS 4
Changes tar\*(Aqs behavior wit regard ta archive bits\&. In full mode, tar will back up every last muthafuckin thang regardless of tha archive bit settin (this is tha default mode)\&. In incremenstrual mode, tar will only back up filez wit tha archive bit set\&. In reset mode, tar will reset tha archive bit on all filez it backs up (implies read/write share)\&.
.RE
.PP
timeout <per\-operation timeout up in seconds>
.RS 4
This allows tha user ta tune tha default timeout used fo' each SMB request\&. Da default settin is 20 seconds\&. Increase it if requests ta tha server sometimes time out\&. This can happen when SMB3 encryption is selected n' smbclient is overwhelmin tha server wit requests\&.
.RE
.PP
unlock <filenum> <hex\-start> <hex\-len>
.RS 4
This command dependz on tha server supportin tha CIFS UNIX extensions n' will fail if tha server do not\&. Tries ta unlock a POSIX fcntl lock on tha given range\&. Used fo' internal Samba testin purposes\&.
.RE
.PP
volume
.RS 4
Prints tha current volume name of tha share\&.
.RE
.PP
vuid <number>
.RS 4
Changes tha currently used vuid up in tha protocol ta tha given arbitrary number\&. Without a argument prints up tha current vuid bein used\&. Used fo' internal Samba testin purposes\&.
.RE
.PP
tcon <sharename>
.RS 4
Establishes a freshly smoked up tree connect (connection ta a gangbangin' finger-lickin' dirty-ass share)\&. Replaces tha current tree connect\&. Prints tha freshly smoked up tid (tree id)\&. Used fo' internal Samba testin purposes\&.
.RE
.PP
tdis
.RS 4
Close tha current share connection (tree disconnect)\&. Used fo' internal Samba testin purposes\&.
.RE
.PP
tid <number>
.RS 4
Changes tha current tree id (tid) up in tha protocol ta a freshly smoked up arbitrary number\&. Without a argument, it prints up tha tid currently used\&. Used fo' internal Samba testin purposes\&.
.RE
.SH "NOTES"
.PP
Some servers is fussy bout tha case of supplied usernames, passwords, share names (AKA steez names) n' machine names\&. If you fail ta connect try givin all parametas up in uppercase\&.
.PP
It be often necessary ta use tha \-n option when connectin ta some typez of servers\&. For example OS/2 LanManager insists on a valid NetBIOS name bein used, so you need ta supply a valid name dat would be known ta tha server\&.
.PP
smbclient supports long file names where tha server supports tha LANMAN2 protocol or above\&.
.SH "ENVIRONMENT VARIABLES"
.PP
Da variable
\fBUSER\fR
may contain tha username of tha thug rockin tha client\&. This shiznit is used only if tha protocol level is high enough ta support session\-level passwords\&.
.PP
Da variable
\fBPASSWD\fR
may contain tha password of tha thug rockin tha client\&. This shiznit is used only if tha protocol level is high enough ta support session\-level passwords\&.
.PP
Da variable
\fBLIBSMB_PROG\fR
may contain tha path, executed wit system(), which tha client should connect ta instead of connectin ta a server\&. This functionalitizzle is primarily intended as a thugged-out pimpment aid, n' works dopest when rockin a LMHOSTS file
.SH "INSTALLATION"
.PP
Da location of tha client program be a matta fo' individual system administrators\&. Da followin is thus suggestions only\&.
.PP
It be recommended dat tha smbclient software be installed up in the
/usr/local/samba/bin/
or
/usr/samba/bin/
directory, dis directory readable by all, writeable only by root\&. Da client program itself should be executable by all\&. Da client should
\fINOT\fR
be setuid or setgid!
.PP
Da client log filez should be put up in a gangbangin' finger-lickin' directory readable n' writeable only by tha user\&.
.PP
To test tha client, yo big-ass booty is ghon need ta know tha name of a hustlin SMB/CIFS server\&. Well shiiiit, it is possible ta run
\fBsmbd\fR(8)
as a ordinary user \- hustlin dat server as a thugged-out daemon on a user\-accessible port (typically any port number over 1024) would provide a suitable test server\&.
.SH "DIAGNOSTICS"
.PP
Most diagnostics issued by tha client is logged up in a specified log file\&. Da log file name is specified at compile time yo, but may be overridden on tha command line\&.
.PP
Da number n' nature of diagnostics available dependz on tha debug level used by tha client\&. If you have problems, set tha debug level ta 3 n' peruse tha log files\&.
.SH "VERSION"
.PP
This playa page is erect fo' version 3\&.2 of tha Samba suite\&.
.SH "AUTHOR"
.PP
Da original gangsta Samba software n' related utilitizzles was pimped by Andrew Tridgell\&. Right back up in yo muthafuckin ass. Samba is now pimped by tha Samba Crew as a Open Source project similar ta tha way tha Linux kernel is pimped\&.
.PP
Da original gangsta Samba playa pages was freestyled by Karl Auer\&. Da playa page sources was converted ta YODL format (another pimpin piece of Open Source software, available at
ftp://ftp\&.icce\&.rug\&.nl/pub/unix/) n' updated fo' tha Samba 2\&.0 release by Jeremy Allison\&. Da conversion ta DocBook fo' Samba 2\&.2 was done by Gerald Carter\&. Da conversion ta DocBook XML 4\&.2 fo' Samba 3\&.0 was done by Alexander Bokovoy\&.
