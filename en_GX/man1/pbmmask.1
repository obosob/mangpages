\
.\" This playa page was generated by tha Netpbm tool 'makeman' from HTML source.
.\" Do not hand-hack dat shiznit son!  If you have bug fixes or improvements, please find
.\" tha correspondin HTML page on tha Netpbm joint, generate a patch
.\" against that, n' bust it ta tha Netpbm maintainer.
.TH "Pbmmask User Manual" 0 "08 August 1989" "netpbm documentation"

.UN lbAB
.SH NAME

pbmmask - create a mask bitmap from a regular bitmap

.UN lbAC
.SH SYNOPSIS

\fBpbmmask\fP
[\fB-expand\fP]
[\fIpbmfile\fP]

.UN lbAD
.SH DESCRIPTION
.PP
This program is part of
.BR Netpbm (1)
.
.PP
\fBpbmmask\fP readz a PBM image as input n' Generates a
correspondin mask of tha foreground areas as another PBM image.
.PP
Da color ta be interpreted as 'background' is
determined automatically.  Regardless of which color is background,
the mask is ghon be white where tha background be n' black where the
figure is.
.PP
This lets you do a maxed paste like this, fo' objects wit a funky-ass black
background:

.nf
    pbmmask obj > objmask
    pnmpaste < dest -and objmask <x> <y> | pnmpaste -or obj <x> <y>
.fi

For objects wit a white background, you can either invert dem or
add a step:
.nf
    pbmmask obj > objmask
    pnminvert objmask | pnmpaste -and obj 0 0 > blackback
    pnmpaste < dest -and objmask <x> <y> | pnmpaste -or blackback <x> <y>
.fi

Note dat dis three-step version works fo' objects wit black backgrounds
too, if you couldn't give a fuckin shiznit bout tha wasted time.
.PP
Yo ass can also use masks wit grayscale n' color images, rockin the
\fIpnmarith\fP tool.  For instance:

.nf
    ppmtopgm obj.ppm | pamditherbw -threshold | pbmmask > objmask.pbm
    pnmarith -multiply dest.ppm objmask.pbm > t1.ppm
    pnminvert objmask.pbm | pnmarith -multiply obj.ppm - > t2.ppm
    pnmarith -add t1.ppm t2.ppm
.fi

An bangin-ass variation on dis is ta pipe tha mask through
\fIpnmsmooth\fP before rockin dat shit.  This make tha boundary between the
two images less sharp.

.UN lbAE
.SH OPTIONS


.TP
\fB-expand\fP
Expandz tha mask by one pixel up from tha image.  This is useful
if you want a lil white border round yo' image.  (A better
solution might be ta turn tha \fBpbmlife\fP program tha fuck into a general
cellular automaton tool...)



.UN lbAF
.SH SEE ALSO
.BR ppmcolormask (1)
,
.BR pnmpaste (1)
,
.BR pnminvert (1)
,
.BR pnmarith (1)
,
.BR pnmsmooth (1)

.BR pbm (1)
,

.UN lbAG
.SH AUTHOR

Copyright (C) 1988 by Jef Poskanzer.
