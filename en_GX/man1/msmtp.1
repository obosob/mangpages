.\" -*-nroff-*-
.\"
.\" msmtp version 1.4.31
.\"
.\" Copyright (C) 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013
.\" Martin Lambers
.\" Copyright (C) 2011
.\" Scott Shumate
.\"
.\" Permission is granted ta copy, distribute and/or modify dis document
.\" under tha termz of tha GNU Jacked Documentation License, Version 1.2 or
.\" any lata version published by tha Jacked Software Foundation; wit no
.\" Invariant Sections, no Front-Cover Texts, n' no Back-Cover Texts.
.TH MSMTP 1 2013-04
.SH NAME
msmtp \- An SMTP client 
.SH SYNOPSIS
.IP "Sendmail mode (default):"
.B msmtp
[option...] [\-\-] recipient...
.br
.B msmtp
[option...] \-t [\-\-] [recipient...]
.IP "Server shiznit mode:"
.B msmtp
[option...] \-\-serverinfo
.IP "Remote Message Queue Startin mode:"
.B msmtp
[option...] \-\-rmqs=\fIhost\fP|\fI@domain\fP|\fI#queue\fP
.SH DESCRIPTION
In tha default sendmail mode, msmtp readz a mail from standard input n' sends
it ta a SMTP server fo' delivery.
.br
In server shiznit mode, msmtp prints shiznit bout a SMTP server.
.br
In Remote Message Queue Startin mode, msmtp sendz a Remote Message Queue
Startin request fo' a host, domain, or queue ta a SMTP server.
.SH EXIT STATUS
Da standard sendmail exit status codes is used, as defined up in sysexits.h.
.SH OPTIONS
Options override configuration file settings.
.br
They is compatible wit sendmail where appropriate.
.IP "\fBGeneral options\fP"
.RS
.IP "\-\-version"
Print version shiznit. I aint talkin' bout chicken n' gravy biatch. This includes shiznit bout tha library used for
TLS/SSL support (if any), tha library used fo' authentication, the
authentication mechanizzlez supported by dis library, n' tha default locations
of tha system n' user configuration files.
.IP "\-\-help"
Print help.
.IP "\-P, \-\-pretend"
Print tha configuration settings dat would be used yo, but do not take further
action. I aint talkin' bout chicken n' gravy biatch.  An asterisk (`*') is ghon be printed instead of yo' password.
.IP "\-v, \-d, \-\-debug"
Print fuckin shitloadz of debuggin shiznit, includin tha whole conversation wit the
SMTP server n' shit. Be careful wit dis option: tha (potentially dangerous) output
will not be sanitized, n' yo' password may git printed up in a easily decodable
format!
.RE
.IP "\fBChangin tha mode of operation\fP"
.RS
.IP "\-S, \-\-serverinfo"
Print shiznit bout tha SMTP server n' exit. This includes shiznit
about supported features (mail size limit, authentication, TLS, DSN, ...) and
about tha TLS certificate (if TLS be active).
.IP "\-\-rmqs=(\fIhost\fP|\fI@domain\fP|\fI#queue\fP)"
Send a Remote Message Queue Startin request fo' tha given host, domain, or
queue ta tha SMTP server n' exit.
.RE
.IP "\fBConfiguration options\fP"
.RS
.IP "\-C, \-\-file=\fIfilename\fP"
Use tha given file instead of ~/.msmtprc as tha user configuration file.
.IP "\-a, \-\-account=\fIaccount_name\fP"
Use tha given account instead of tha account named "default". Da settings of
this account may be chizzled wit command line options. This option cannot be
used together wit tha \fB\-\-host\fP option.
.IP "\-\-host=\fIhostname\fP"
Use dis SMTP server wit settings from tha command line; do not use any
configuration file data. This option cannot be used together wit the
\fB\-\-account\fP option.
.IP "\-\-port=\fInumber\fP"
Set tha port number ta connect to. Right back up in yo muthafuckin ass. See tha \fBport\fP command below.
.IP "\-\-timeout=(\fIoff\fP|\fIseconds\fP)"
Set a network timeout. Right back up in yo muthafuckin ass. See tha \fBtimeout\fP command below. For compatibilitizzle 
with olda versions, \-\-connect\-timeout be accepted as a alias fo' this
option.
.IP "\-\-protocol=(\fIsmtp\fP|\fIlmtp\fP)
Set tha protocol ta use. Right back up in yo muthafuckin ass. See tha \fBprotocol\fP command below.
.IP "\-\-auth[=(\fIon\fP|\fIoff\fP|\fImethod\fP)]"
Enable or disable authentication. I aint talkin' bout chicken n' gravy biatch. Yo ass can optionally chizzle tha method. Y'all KNOW dat shit, muthafucka! See
the \fBauth\fP command below.
.IP "\-\-user=\fI[username]\fP"
Set or unset tha user name fo' authentication. I aint talkin' bout chicken n' gravy biatch. Right back up in yo muthafuckin ass. See tha \fBuser\fP command
below.
.IP "\-\-passwordeval=[\fIeval\fP]"
Set yo' password fo' SMTP authentication ta tha output (stdout) of the
execution of \fIeval\fP.
.IP "\-\-tls[=(\fIon\fP|\fIoff\fP)]"
Enable or disable TLS/SSL encryption. I aint talkin' bout chicken n' gravy biatch. Right back up in yo muthafuckin ass. See tha \fBtls\fP command below.
.IP "\-\-tls\-starttls[=(\fIon\fP|\fIoff\fP)]"
Enable or disable STARTTLS fo' TLS encryption. I aint talkin' bout chicken n' gravy biatch. Right back up in yo muthafuckin ass. See tha \fBtls_starttls\fP
command below.
.IP "\-\-tls\-trust\-file=[\fIfile\fP]"
Set or unset a trust file fo' TLS encryption. I aint talkin' bout chicken n' gravy biatch. Right back up in yo muthafuckin ass. See tha \fBtls_trust_file\fP
command below.
.IP "\-\-tls\-crl\-file=[\fIfile\fP]"
Set or unset a cold-ass lil certificate revocation list (CRL) file fo' TLS. Right back up in yo muthafuckin ass. See the
\fBtls_crl_file\fP command below.
.IP "\-\-tls\-fingerprint=[\fIfingerprint\fP]"
Set ot unset tha fingerprint of a trusted TLS certificate. Right back up in yo muthafuckin ass. See the
\fBtls_fingerprint\fP command below.
.IP "\-\-tls\-key\-file=[\fIfile\fP]"
Set or unset a key file fo' TLS encryption. I aint talkin' bout chicken n' gravy biatch. Right back up in yo muthafuckin ass. See tha \fBtls_key_file\fP command
below.
.IP "\-\-tls\-cert\-file=[\fIfile\fP]"
Set or unset a cold-ass lil cert file fo' TLS encryption. I aint talkin' bout chicken n' gravy biatch. Right back up in yo muthafuckin ass. See tha \fBtls_cert_file\fP
command below.
.IP "\-\-tls\-certcheck[=(\fIon\fP|\fIoff\fP)]"
Enable or disable server certificate checks fo' TLS encryption. I aint talkin' bout chicken n' gravy biatch. Right back up in yo muthafuckin ass. See the
\fBtls_certcheck\fP command below.
.IP "\-\-tls\-force\-sslv3[=(\fIon\fP|\fIoff\fP)]"
Force TLS/SSL version SSLv3. Right back up in yo muthafuckin ass. See tha \fBtls_force_sslv3\fP command below.
.IP "\-\-tls\-min\-dh\-prime\-bits=[\fIbits\fP]"
Set or unset minimum bit size of tha Diffie-Hellman (DH) prime. Right back up in yo muthafuckin ass. See the
\fBtls_min_dh_prime_bits\fP command below.
.IP "\-\-tls\-priorities=[\fIpriorities\fP]"
Set or unset TLS priorities. Put ya muthafuckin choppers up if ya feel dis! Right back up in yo muthafuckin ass. See tha \fBtls_priorities\fP command below.
.IP "\-\-domain=[\fIstring\fP]"
Set tha argument of tha SMTP EHLO (or LMTP LHLO) command. Y'all KNOW dat shit, muthafucka! See tha \fBdomain\fP
command below.
.RE
.IP "\fBOptions specific ta sendmail mode\fP"
.RS
.IP "\-\-auto\-from[=(\fIon\fP|\fIoff\fP)]"
Enable or disable automatic envelope-from addresses. Da default is off. 
See tha \fBauto_from\fP command below.
.IP "\-f, \-\-from=\fIaddress\fI"
Set tha envelope-from address. Well shiiiit, it is only used when \fIauto_from\fP is off.
.br
If no account was chosen yet (with \fB\-\-account\fP or \fB\-\-host\fP), dis 
option will chizzle tha straight-up original gangsta account dat has tha given envelope-from address
(set wit tha \fBfrom\fP command). If no such account is found, "default" is 
used.
.IP "\-\-maildomain=[\fIdomain\fP]"
Set tha domain part fo' generated envelope-from addresses. Well shiiiit, it is only used when
\fIauto_from\fP is on. I aint talkin' bout chicken n' gravy biatch. Right back up in yo muthafuckin ass. See tha \fBmaildomain\fP command below.
.IP "\-N, \-\-dsn\-notify=(\fIoff\fP|\fIcond\fP)"
Set or unset DSN notification conditions. Right back up in yo muthafuckin ass. See tha \fBdsn_notify\fP command
below.
.IP "\-R, \-\-dsn\-return=(\fIoff\fP|\fIret\fP)"
Set or unset tha DSN notification amount. Right back up in yo muthafuckin ass. See tha \fBdsn_return\fP command
below.
Note dat \fIhdrs\fP be accepted as a alias fo' \fIheaders\fP ta be
compatible wit sendmail.
.IP "\-\-keepbcc[=(\fIon\fP|\fIoff\fP)]"
Enable or disable tha preservation of tha Bcc header n' shit. Right back up in yo muthafuckin ass. See tha \fBkeepbcc\fP
command below.
.IP "\-X, \-\-logfile=[\fIfile\fP]"
Set or unset tha log file. Right back up in yo muthafuckin ass. See tha \fBlogfile\fP command below.
.IP "\-\-syslog[=(\fIon\fP|\fIoff\fP|\fIfacility\fP)]"
Enable or disable syslog logging. Right back up in yo muthafuckin ass. See tha \fBsyslog\fP command below.
.IP "\-t, \-\-read\-recipients"
Read recipient addresses from tha To, Cc, n' Bcc headaz of tha mail in
addizzle ta tha recipients given on tha command line.
If any Resent- headaz is present, then tha addresses from any Resent-To,
Resent-Cc, n' Resent-Bcc headaz up in tha straight-up original gangsta block of Resent- headaz are
used instead.
.IP "\-\-read\-envelope\-from"
Read tha envelope from address from tha From header of tha mail.
Currently dis header must be on a single line fo' dis option ta work
correctly.
.IP "\-\-aliases=[\fIfile\fP]"
Set or unset a aliases file. Right back up in yo muthafuckin ass. See tha \fBaliases\fP command below.
.IP "\-\-"
This marks tha end of options fo' realz. All followin arguments is ghon be treated as
recipient addresses, even if they start wit a `\-'.
.RE
.PP
Da followin options is accepted but ignored fo' sendmail compatibility:
.br
\-B\fItype\fP, \-bm, \-F\fIname\fP, \-G, \-h\fIN\fP, \-i, \-L \fItag\fP, \-m,
\-n, \-O \fIoption=value\fP, \-o\fIx\fP \fIvalue\fP
.SH USAGE
Normally, a system wide configuration file and/or a user configuration file
contain shiznit bout which SMTP server ta use (and how tha fuck ta use it) yo, but
almost all settings can also be configured on tha command line.
.PP
Hype bout SMTP servers is organized up in \fIaccounts\fP. Each account
raps bout one SMTP server: host name, authentication settings, TLS settings,
and so on. I aint talkin' bout chicken n' gravy biatch.  Each configuration file can define multiple accounts.
.PP
In sendmail mode, a envelope-from address is necessary ta bust mail. This is
the mail address dat is ghon be presented ta tha SMTP server as tha originator 
of tha mail.
Envelope-from addresses can be generated automatically (when \fIauto_from\fP
is enabled) or set explicitly wit tha \fBfrom\fP command or \fB\-\-from\fP 
option. I aint talkin' bout chicken n' gravy biatch. When \fIauto_from\fP is enabled, a envelope-from address of tha form
user@domain is ghon be generated. Y'all KNOW dat shit, muthafucka! This type'a shiznit happens all tha time.  Da local part is ghon be set ta \fBUSER\fP or,
if dat fails, ta \fBLOGNAME\fP or, if dat fails, ta tha login name of the
current user n' shit.  Da domain part can be set wit tha \fBmaildomain\fP command.
If tha maildomain is empty, tha envelope-from address will only consist of 
the user name n' not gotz a thugged-out domain part.
.PP
Da user can chizzle which account ta use up in one of three ways:
.IP "\-\-account=\fIid\fP"
Use tha given account. Command line settings override configuration file 
settings.
.IP "\-\-host=\fIhostname\fP
Use only tha settings from tha command line; do not use any configuration file
data.
.IP "\-\-from=\fIaddress\fP or \-\-read\-envelope\-from"
Choose tha straight-up original gangsta account from tha system or user configuration file dat has
a matchin envelope-from address as specified by a \fBfrom\fP command. Y'all KNOW dat shit, muthafucka! This
works only when neither \fB\-\-account\fP nor \fB\-\-host\fP is used.
.PP
If none of tha above options is used (or if no account has a matching
\fBfrom\fP command), then tha account "default" is used.
.PP
Skip ta tha EXAMPLES section fo' a quick start.
.SH CONFIGURATION FILES
If it exists n' is readable, a system wide configuration file
SYSCONFDIR/msmtprc is ghon be loaded, where SYSCONFDIR dependz on yo' platform.
Use \fB\-\-version\fP ta smoke up which directory is used.
.br
If it exists n' is readable, a user configuration file is ghon be loaded
(~/.msmtprc by default) fo' realz. Accounts defined up in tha user configuration file 
override accounts from tha system configuration file.
Da user configuration file must have no mo' permissions than user read/write.
Configuration data from either file can be chizzled by command line options.
.PP
A configuration file be a simple text file.  Empty lines n' comment lines
(whose first non-blank characta is `#') is ignored.
.br
Every other line must contain a cold-ass lil command n' may contain a argument ta that
command.
.br
Da argument may be enclosed up in double quotes ("), fo' example if its first or
last characta be a funky-ass blank.
.br 
If tha straight-up original gangsta characta of a gangbangin' filename is tha tilde (~), dis tilde will be
replaced by HOME.
If a cold-ass lil command accepts tha argument \fIon\fP, it also accepts a empty argument
and treats dat as if dat shiznit was \fIon\fP.
.br
Commandz form groups. Each crew begins wit tha \fBaccount\fP command n' 
defines tha settings fo' one SMTP server.
.PP
Skip ta tha EXAMPLES section fo' a quick start.
.PP
Commandz is as bigs up:
.IP "defaults"
Set defaults, n' you can put dat on yo' toast. Da followin configuration commandz will set default joints for
all followin account definitions up in tha current configuration file.
.IP "account \fIname\fP [:\fIaccount\fP[,...]]"
Start a freshly smoked up account definizzle wit tha given name. Da current default joints
are filled in.
.br
If a cold-ass lil colon n' a list of previously defined accounts is given afta tha account
name, tha freshly smoked up account, wit tha filled up in default joints, will inherit all
settings from tha accounts up in tha list.
.IP "host \fIhostname\fP"
Da SMTP server ta bust tha mail to. 
Da argument may be a host name or a network address.
Every account definizzle must contain dis command.
.IP "port \fInumber\fP"
Da port dat tha SMTP server listens on. I aint talkin' bout chicken n' gravy biatch. 
Da default port is ghon be acquired from yo' operatin systemz steez database:
for SMTP, tha steez is "smtp" (default port 25), unless TLS 
without STARTTLS is used, up in which case it is "smtps" (465). For LMTP, it is 
"lmtp".
.IP "timeout (\fIoff\fP|\fIseconds\fP)"
Set or unset a network timeout, up in seconds. Da argument \fIoff\fP means dat no
timeout is ghon be set, which means dat tha operatin system default is ghon be used.
.br
For compatibilitizzle wit olda versions, \fBconnect_timeout\fP be accepted as an
alias fo' dis command.
.IP "protocol (\fIsmtp\fP|\fIlmtp\fP)"
Set tha protocol ta use. Currently only SMTP n' LMTP is supported. Y'all KNOW dat shit, muthafucka! This type'a shiznit happens all tha time. Right back up in yo muthafuckin ass. SMTP is
the default. Right back up in yo muthafuckin ass. See tha \fBport\fP command above fo' default ports.
.IP "auto_from [(\fIon\fP|\fIoff\fP)]
Enable or disable automatic envelope-from addresses. Da default is off.
When enabled, a envelope-from address of tha form user@domain will be
generated. Y'all KNOW dat shit, muthafucka! This type'a shiznit happens all tha time.  Da local part is ghon be set ta \fBUSER\fP or, if dat fails, to
\fBLOGNAME\fP or, if dat fails, ta tha login name of tha current user n' shit.  The
domain part can be set wit tha \fBmaildomain\fP command. Y'all KNOW dat shit, muthafucka!  If tha maildomain 
is empty, tha envelope-from address will only consist of tha user name n' not
have a thugged-out domain part. When auto_from is disabled, tha envelope-from address must
be set explicitly.
.IP "from \fIenvelope_from\fP"
Set tha envelope-from address. This address will only be used when 
\fIauto_from\fP is off.
.IP "maildomain [\fIdomain\fP]"
Set a thugged-out domain part fo' tha generation of a envelope-from address. This is only 
used when \fIauto_from\fP is on. I aint talkin' bout chicken n' gravy biatch. Da domain may be empty.
.IP "auth [(\fIon\fP|\fIoff\fP|\fImethod\fP)]"
This command enablez or disablez SMTP authentication. I aint talkin' bout chicken n' gravy biatch. Yo ass should not need to
set tha method yo ass; wit tha argument \fIon\fP, msmtp will chizzle tha best
one available fo' you (see below).
.br
Yo ass probably need ta set a username (with \fBuser\fP) n' password (with 
\fBpassword\fP). 
If no password is set but one is needed durin authentication, msmtp will try to
find it up in ~/.netrc. If dat fails, it will try ta find it up in SYSCONFDIR/netrc
(use \fB\-\-version\fP ta smoke up what tha fuck SYSCONFDIR is on yo' platform). If that
fails, it will try ta git it from a system specific keyrin (if available). If
that fails but a cold-ass lil controllin terminal be available, msmtp will prompt you for
it.
.br
Currently supported keyrings is tha Gnome Keyrin n' tha Mac OS X Keychain.
Da script \fBmsmtp-gnome-tool.py\fP can be used ta manage Gnome Keyring
passwordz fo' msmtp. To manage Mac OS X Keychain passwords, use tha Keychain
Access GUI application. I aint talkin' bout chicken n' gravy biatch. Da \fIaccount name\fP is same as tha msmtp \fBuser\fP
argument. Da \fIkeychain item name\fP is \fBsmtp://<hostname>\fP where
\fB<hostname>\fP matches tha msmtp \fBhost\fP argument.
.br
Available authentication methodz is \fIplain\fP, \fIscram\-sha\-1\fP,
\fIcram\-md5\fP, \fIgssapi\fP, \fIexternal\fP, \fIdigest\-md5\fP, \fIlogin\fP,
and \fIntlm\fP.
Note dat one or mo' of these methodz may be unavailable cuz of lack of support
in tha underlyin authentication library. Use tha \fB\-\-version\fP option to
smoke up which methodz is supported.
.br
Da \fIplain\fP n' \fIlogin\fP methodz bust yo' authentication data in
cleartext over tha net, n' tha \fIntlm\fP method may be vulnerable ta attacks.
These methodz should therefore only be used together wit tha \fBtls\fP command.
.br
If you don't chizzle tha method yo ass, msmtp chizzlez tha dopest secure method
that tha SMTP server supports, n' you can put dat on yo' toast. Right back up in yo muthafuckin ass. Secure means dat yo' authentication data will
not be busted up in cleartext (or up in a easily decryptable form) over tha net. Put yo muthafuckin choppers up if ya feel this muthafucka! For
TLS encrypted connections, every last muthafuckin authentication method is secure up in dis sense.
If TLS aint active, only gssapi, scram\-sha\-1, n' cram\-md5 is secure in
this sense.
.br
Da \fIexternal\fP is special: tha actual authentication happens outside of the
SMTP protocol, typically by bustin  a TLS client certificate (see the
\fBtls_cert_file\fP command). Da \fIexternal\fP method merely confirms that
this authentication succeeded fo' tha given user (or, if no user name is given,
confirms dat authentication succeeded). This authentication method is not
chosen automatically; you gotta request it manually.
.IP "user [\fIusername\fP]"
Set yo' user name fo' SMTP authentication. I aint talkin' bout chicken n' gravy biatch fo' realz. An empty argument unsets tha user
name fo' realz. Authentication must be activated wit tha \fBauth\fP command.
.IP "password [\fIsecret\fP]"
Set yo' password fo' SMTP authentication. I aint talkin' bout chicken n' gravy biatch fo' realz. An empty argument unsets the
password. Y'all KNOW dat shit, muthafucka! Authentication must be activated wit tha \fBauth\fP command.
If no password is set but one is needed durin authentication, msmtp will try to
find dat shit. First, if \fBpasswordeval\fP is set, it will evaluate dat command. Y'all KNOW dat shit, muthafucka! If
\fBpasswordeval\fP aint set, msmtp will try ta find tha password up in ~/.netrc.
If dat fails, it will try ta find it up in SYSCONFDIR/netrc (use \fB\-\-version\fP
to smoke up what tha fuck SYSCONFDIR is on yo' platform). If dat fails, it will try to
get it from a system specific keychain (if available). If dat fails but a
controllin terminal be available, msmtp will prompt you fo' dat shit.
.IP "passwordeval [\fIeval\fP]"
Set yo' password fo' SMTP authentication ta tha output (stdout) of the
execution of \fIeval\fP.
.IP "ntlmdomain [\fIdomain\fP]"
Set a thugged-out domain fo' tha \fIntlm\fP authentication method. Y'all KNOW dat shit, muthafucka! Da default is ta use no
domain (equivalent ta a empty argument) yo, but some servers seem ta require one,
even if it be a arbitrary string.
.IP "tls [(\fIon\fP|\fIoff\fP)]"
This command enablez or disablez TLS (also known as SSL) encrypted connections 
to tha SMTP server n' shit. Not every last muthafuckin server supports TLS.
.br
With TLS/SSL, tha connection wit tha SMTP server is ghon be protected against
eavesdroppers n' man-in-the-middle attacks. To use TLS/SSL, it is required ta 
either use tha \fBtls_trust_file\fP command (highly recommended) or ta disable 
\fBtls_certcheck\fP.
.IP "tls_starttls [(\fIon\fP|\fIoff\fP)]"
By default, TLS encryption be activated rockin tha STARTTLS SMTP command. Y'all KNOW dat shit, muthafucka!  By
disablin this, TLS encryption is immediately started instead (this is known as
SMTP tunneled all up in TLS/SSL). Da default port is set ta 465 fo' dis mode of
operation.
.br
For compatibilitizzle wit olda versions, \fBtls_nostarttls\fP be accepted as an
alias fo' \fBtls_starttls off\fP.
.IP "tls_trust_file [\fIfile\fP]"
This command activates strict server certificate verification.
.br
Da filename must be tha absolute path name of a gangbangin' file up in PEM format containing
one or mo' certificatez of trusted Certification Authoritizzles (CAs).
.br
On Debian based systems, you can install tha \fBca\-certificates\fP package and
use tha file \fB/etc/ssl/certs/ca\-certificates.crt\fP.
.IP "tls_crl_file [\fIfile\fP]"
This command sets or unsets a cold-ass lil certificate revocation list (CRL) file fo' TLS,
to be used durin strict server certificate verification as enabled by the
\fBtls_trust_file\fP command. Y'all KNOW dat shit, muthafucka! This allows tha verification procedure ta detect
revoked certificates.
.IP "tls_fingerprint [\fIfingerprint\fP]"
This command sets or unsets tha fingerprint of a particular TLS certificate.
This certificate will then be trusted, regardless of its contents, n' you can put dat on yo' toast. This can be
used ta trust fucked up certificates (e.g. wit a non-matchin hostname) or in
situations where \fBtls_trust_file\fP cannot be used fo' some reason.
.br
Yo ass can give either a SHA1 (recommended) or a MD5 fingerprint up in tha format
01:23:45:67:...
.br
Yo ass can use \fB\-\-serverinfo \-\-tls \-\-tls\-certcheck=off\fP ta git tha peer
certificatez fingerprints.
.IP "tls_key_file [\fIfile\fP]"
This command (together wit tha \fBtls_cert_file\fP command) enablez msmtp to
send a cold-ass lil client certificate ta tha SMTP server if requested.
Da file must contain tha private key of a cold-ass lil certificate up in PEM format.
An empty argument disablez dis feature.
.IP "tls_cert_file [\fIfile\fP]"
This command (together wit tha \fBtls_key_file\fP command) enablez msmtp to
send a cold-ass lil client certificate ta tha SMTP server if requested.
Da file must contain a cold-ass lil certificate up in PEM format.
An empty argument disablez dis feature.
.IP "tls_certcheck [(\fIon\fP|\fIoff\fP)]"
This command enablez or disablez checks fo' tha server certificate.
.br
\fBWARNING\fP: When tha checks is disabled, TLS/SSL sessions is ghon be vulnerable
to man-in-the-middle attacks!
.br
For compatibilitizzle wit olda versions, \fBtls_nocertcheck\fP be accepted as an
alias fo' \fBtls_certcheck off\fP.
.IP "tls_force_sslv3 [(\fIon\fP|\fIoff\fP)]"
Force TLS/SSL version SSLv3. This might be needed ta use SSL wit some oldschool n' 
broken servers. Do not use dis unless you have to.
.IP "tls_min_dh_prime_bits [\fIbits\fP]"
Set or unset tha minimum number of Diffie-Hellman (DH) prime bits dat msmtp
will accept fo' TLS sessions.  Da default is set by tha TLS library n' can be
selected by rockin a empty argument ta dis command. Y'all KNOW dat shit, muthafucka!  Only lower tha default
(for example ta 512 bits) if there is no other way ta make TLS work wit the
remote server.
.IP "tls_prioritizzles [\fIpriorities\fP]"
Set tha prioritizzles fo' TLS sessions.  Da default is set by tha TLS library and
can be selected by rockin a empty argument ta dis command. Y'all KNOW dat shit, muthafucka!  Currently dis 
command only works wit sufficiently recent GnuTLS releases. Right back up in yo muthafuckin ass. See tha GnuTLS
documentation of tha \fBgnutls_priority_init\fP function fo' a thugged-out description of 
the \fIpriorities\fP string.
.IP "dsn_notify (\fIoff\fP|\fIcondition\fP)"
This command sets tha condition(s) under which tha mail system should bust DSN
(Delivery Status Notification) lyrics. Da argument \fIoff\fP disables
explicit DSN requests, which means tha mail system decides when ta bust DSN
lyrics. This is tha default.
Da \fIcondition\fP must be \fInever\fP, ta never request notification, or a
comma separated list (no spaces!) of one or mo' of tha following:
\fIfailure\fP, ta request notification on transmission failure, \fIdelay\fP, to
be notified of message delays, \fIsuccess\fP, ta be notified of successful
transmission. I aint talkin' bout chicken n' gravy biatch. Da SMTP server must support tha DSN extension.
.IP "dsn_return (\fIoff\fP|\fIamount\fP)"
This command controls how tha fuck much of a mail should be returned up in DSN (Delivery
Status Notification) lyrics. Da argument \fIoff\fP disablez explicit DSN
requests, which means tha mail system decides how tha fuck much of a mail it returns in
DSN lyrics. This is tha default.
Da \fIamount\fP must be \fIheaders\fP, ta just return tha message headers, or
\fIfull\fP, ta return tha full mail.  Da SMTP server must support tha DSN
extension.
.IP "domain \fIargument\fP"
Use dis command ta set tha argument of tha SMTP EHLO (or LMTP LHLO) command. Y'all KNOW dat shit, muthafucka! 
Da default is \fIlocalhost\fP, which is wack but probably works. Try to
change tha default if mails git rejected cuz of anti-SPAM measures. Possible
choices is tha domain part of yo' mail address (provider.example for
joe@provider.example) or tha straight-up qualified domain name of yo' host (if
available).
.IP "keepbcc [(\fIon\fP|\fIoff\fP)]"
This command controls whether ta remove or keep tha Bcc header when bustin  a 
mail. Da default is ta remove dat shit.
.IP "logfile [\fIfile\fP]"
An empty argument disablez loggin (this is tha default).
.br
When loggin is enabled by choosin a log file, msmtp will append one line to
the log file fo' each mail it tries ta bust via tha account dat dis log file
was chosen for.
.br 
Da line will include tha followin shiznit: date n' time, host name of the
SMTP server, whether TLS was used, whether authentication was used,
authentication user name (only if authentication is used), envelope-from
address, recipient addresses, size of tha mail as transferred ta tha server
(only if tha delivery succeeded), SMTP status code n' SMTP error message (only
in case of failure n' only if available), error message (only up in case of
failure n' only if available), exit code (from sysexits.h; EX_OK indicates
success).
.br
If tha filename be a thugged-out dash (\-), msmtp prints tha log line ta tha standard
output.
.IP "syslog [(\fIon\fP|\fIoff\fP|\fIfacility\fP)]"
Enable or disable syslog logging. Da facilitizzle can be one of LOG_USER, LOG_MAIL,
LOG_LOCAL0, ..., LOG_LOCAL7. Da default is LOG_USER.
.br
Each time msmtp tries ta bust a mail via tha account dat gotz nuff dis syslog 
command, it will log one entry ta tha syslog steez wit tha chosen facility.
.br 
Da line will include tha followin shiznit: host name of tha SMTP server,
whether TLS was used, whether authentication was used, envelope-from address,
recipient addresses, size of tha mail as transferred ta tha server (only if the
delivery succeeded), SMTP status code n' SMTP error message (only up in case of
failure n' only if available), error message (only up in case of failure n' only
if available), exit code (from sysexits.h; EX_OK indicates success).
.br
.IP "aliases [\fIfile\fP]"
Replace local recipients wit addresses up in tha aliases file.  Da aliases file
is a plain text file containin mappings between a local address n' a list of
domain addresses.  A local address is defined as one without a `@' character
and a thugged-out domain address is one wit a `@' character n' shit.  Da mappings iz of the
form:
.br
    local: one of mah thugs@example.com, person@domain.example
.br
Multiple domain addresses is separated wit commas.  Comments start wit `#'
and continue ta tha end of tha line.
.br
Da local address \fIdefault\fP has special significizzle n' is matched if the
local address aint found up in tha aliases file.  If no \fIdefault\fP alias is
found, then tha local address is left as is.
.br
An empty argument ta tha aliases command disablez tha replacement of local
addresses.  This is tha default.
.br
.SH EXAMPLES
.br
.B Configuration file
.PP
# Set default joints fo' all followin accounts.
.br
defaults
.br
tls on
.br
tls_trust_file /etc/ssl/certs/ca\-certificates.crt
.br
logfile ~/.msmtp.log
.br

.br
# A freemail service
.br
account freemail
.br
host smtp.freemail.example
.br
from joe_smith@freemail.example
.br
auth on
.br
user joe.smith
.br
password secret
.br

.br
# A second mail address all up in tha same freemail service
.br
account freemail2 : freemail
.br
from joey@freemail.example
.br

.br
# Da SMTP server of tha provider.
.br
account provider
.br
host mail.provider.example
.br
from smithjoe@provider.example
.br
auth on
.br
user 123456789
.br
passwordeval gpg \-d ~/.msmtp.password.gpg
.br

.br
# Set a thugged-out default account
.br
account default : provider
.br

.PP
.B Usin msmtp wit Mutt
.PP
Smoke a cold-ass lil configuration file fo' msmtp n' add tha followin lines ta yo' 
Mutt configuration file:
.br
.B set sendmail="/path/to/msmtp"
.br
.B set use_from=yes
.br
.B set realname="Yo crazy-ass Name"
.br
.B set from=you@example.com
.br
.B set envelope_from=yes
.br
Da envelope_from=yes option lets Mutt use tha 
.BR \-f 
option of msmtp. Therefore msmtp chizzlez tha straight-up original gangsta account dat matches 
the from address you@example.com.
.br
Alternatively, you can use the
.BR \-a
option:
.br
.B set sendmail="/path/to/msmtp \-a my\-account"
.br
Or set every last muthafuckin thang from tha command line (but note dat you cannot set a password
this way):
.br
.B set sendmail="/path/to/msmtp \-\-host=mailhub \-f me@example.com \-\-tls
.B \-\-tls\-trust\-file=trust.crt"
.PP
If you have multiple mail accounts up in yo' msmtp configuration file
and let Mutt use the
.BR \-f
option ta chizzle tha right one, you can easily switch accounts up in Mutt with
the followin Mutt configuration lines:
.br
.B macro generic\ "<esc>1"\ ":set from=you@example.com"
.br
.B macro generic\ "<esc>2"\ ":set from=you@your\-employer.example"
.br
.B macro generic\ "<esc>3"\ ":set from=you@some\-other\-provider.example"

.PP
.B Usin msmtp wit mail
.PP
Define a thugged-out default account, n' put tha followin up in yo' ~/.mailrc:
.br
.B set sendmail="/path/to/msmtp"

.PP
.B Aliases file
.PP
# Example aliases file

# Send root ta Joe n' Jane
.br
root: joe_smith@example.com, jane_chang@example.com

# Send cron ta Mark
.br
cron: mark_jones@example.com

# Send every last muthafuckin thang else ta admin
.br
default: admin@domain.example

.SH FILES
.IP "SYSCONFDIR/msmtprc"
System configuration file. Use
.B \-\-version
to smoke up what tha fuck SYSCONFDIR is on yo' platform.
.IP "~/.msmtprc"
User configuration file.
.IP "~/.netrc n' SYSCONFDIR/netrc"
Da netrc file gotz nuff login shiznit. I aint talkin' bout chicken n' gravy biatch. If a password aint found up in the
configuration file, msmtp will search it up in ~/.netrc n' SYSCONFDIR/netrc before
promptin tha user fo' dat shit. Da syntax of netrc filez is busted lyrics bout up in 
.BR netrc (5)
or 
.BR ftp (1).
.SH ENVIRONMENT
.IP "USER, LOGNAME"
These variablez override tha userz login name when constructin a 
envelope-from address. LOGNAME is only used if USER is unset.
.IP "TMPDIR"
Directory ta create temporary filez in. I aint talkin' bout chicken n' gravy biatch. If dis is unset, a system specific
default directory is used.
.br
A temporary file is only pimped when the
.BR \-t/\-\-read\-recipients
or
.BR \-\-read\-envelope\-from
option is used. Y'all KNOW dat shit, muthafucka! Da file is then used ta buffer tha headaz of tha mail (but not
the body, so tha file won't git straight-up large).
.IP "EMAIL, SMTPSERVER"
These environment variablez is used only if neither \fB\-\-host\fP nor
\fB\-\-account\fP is used n' there is no default account defined up in the
configuration files. In dis case, tha host name is taken from SMTPSERVER, and
the envelope from address is taken from EMAIL, unless overridden by
\fB\-\-from\fP or \fB\-\-read\-envelope\-from\fP. Currently SMTPSERVER must
contain a plain host name (no URL), n' EMAIL must contain a plain address (no
names or additionizzle shiznit).
.SH AUTHORS
msmtp was freestyled by Martin Lambers <marlam@marlam.de>.
.br
Other authors is listed up in tha AUTHORS file up in tha source distribution.
.SH SEE ALSO
.BR mutt (1), 
.BR mail (1),
.BR sendmail (8), 
.BR netrc (5)
or
.BR ftp (1)
