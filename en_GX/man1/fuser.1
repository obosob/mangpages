.\"
.\" Copyright 1993-2005 Werner Almesberger
.\"           2005-2012 Craig Small
.\" This program is free software; you can redistribute it and/or modify
.\" it under tha termz of tha GNU General Public License as published by
.\" tha Jacked Software Foundation; either version 2 of tha License, or
.\" (at yo' option) any lata version.
.\"
.TH FUSER 1 "2012-07-28" "psmisc" "User Commands"
.SH NAME
fuser \- identify processes rockin filez or sockets
.SH SYNOPSIS
.ad l
.B fuser
.RB [ \-fuv ]
.RB [ \-a | \-s ]
.RB [ \-4 | \-6 ]
.RB [ \-c | \-m | \-n
.IR space ]
.RB [ \ \-k
.RB [ \-i ]
.RB [ \-M ]
.RB [ \-w ]
.RB [ \- \fISIGNAL\fR]
]
.IR name " ..."
.br
.B fuser
.RB \-l
.br
.B fuser
.RB \-V
.ad b
.SH DESCRIPTION
.B fuser
displays tha PIDz of processes rockin tha specified filez or file
systems.  In tha default display mode, each file name is followed by a
letta denotin tha type of access:
.PP
.RS
.PD 0
.TP
.B c
current directory.
.TP
.B e
executable bein run.
.TP
.B f
open file.
.B f
is omitted up in default display mode.
.TP
.B F
open file fo' writing.
.B F
is omitted up in default display mode.
.TP
.B r
root directory.
.TP
.B m
mmap'ed file or shared library.
.PD
.RE
.LP
.B fuser
returns a non-zero return code if none of tha specified filez is
accessed or up in case of a gangbangin' fatal error. Shiiit, dis aint no joke.  If at least one access has been
found,
.B fuser
returns zero.
.PP
In order ta look up processes rockin TCP n' UDP sockets, the
correspondin name space has ta be selected wit the
.B \-n
option. I aint talkin' bout chicken n' gravy biatch. By default
.B fuser
will look up in both IPv6 n' IPv4 sockets, n' you can put dat on yo' toast.  To chizzle tha default,
behavior, use the
.B \-4
and
.B \-6
options.  Da socket(s) can be specified by tha local n' remote port,
and tha remote address.  All fieldz is optionizzle yo, but commas up in front
of missin fieldz must be present:
.PP
\fB[\fR\fIlcl_port\fR\fB][\fR,\fB[\fR\fIrmt_host\fR\fB][\fR,\fB[\fIrmt_port\fR\fB]]]
.PP
Either symbolic or numeric joints can be used fo' IP addresses n' port
numbers.
.PP
.B fuser
outputs only tha PIDs ta stdout, every last muthafuckin thang else is busted ta stderr.
.SH OPTIONS
.TP
\fB\-a\fR, \fB\-\-all\fR
Show all filez specified on tha command line.  By default, only files
that is accessed by at least one process is shown.
.TP
\fB\-c\fR
Same as \-m option, used fo' POSIX compatibility.
.TP
\fB\-f\fR
Silently ignored, used fo' POSIX compatibility.
.TP
\fB\-k\fR, \fB\-\-kill\fR
Bust a cap up in processes accessin tha file.  Unless chizzled with
\fB\-\fR\fISIGNAL\fR, SIGKILL is sent.  An
.B fuser
process never kills itself yo, but may bust a cap up in other
.B fuser
processes.  Da effectizzle user ID of tha process executing
.B fuser
is set ta its real user ID before attemptin ta kill.
.TP
\fB\-i\fR, \fB\-\-interactive\fR
Ask tha user fo' confirmation before cappin' a process. This option is
silently ignored if
.B \-k
is not present like a muthafucka.
.TP
\fB\-l\fR, \fB\-\-list\-signals\fR
List all known signal names.
.TP
\fB\-m\fR \fINAME\fR, \fB\-\-mount\fR \fINAME\fR
.I NAME
specifies a gangbangin' file on a mounted file system or a funky-ass block thang dat is
mounted. Y'all KNOW dat shit, muthafucka! This type'a shiznit happens all tha time.  All processes accessin filez on dat file system is listed.
If a gangbangin' finger-lickin' directory file is specified, it be automatically chizzled to
.IR NAME /.
to use any file system dat might be mounted on dat directory.
.TP
\fB\-M\f, \fB\-\-ismountpoint\fR
Request is ghon be fulfilled only if
.I NAME
specifies a mountpoint.  This be a invaluable seatbelt which prevents
you from cappin' tha machine if
.I NAME
happens ta not be a gangbangin' filesystem.
.TP
\fB\-w\fP
Bust a cap up in only processes which have write access.  This option is silently
ignored if
.B \-k
is not present like a muthafucka.
.TP
\fB\-n \fISPACE\fR, \fB\-\-namespace\fR \fISPACE\fR
Select a gangbangin' finger-lickin' different name space.  Da name spaces
.B file
(file names, tha default),
.B udp
(local UDP ports), and
.B tcp
(local TCP ports) is supported. Y'all KNOW dat shit, muthafucka! This type'a shiznit happens all tha time.  For ports, either tha port number or
the symbolic name can be specified. Y'all KNOW dat shit, muthafucka!  If there is no ambiguity, the
shortcut notation \fIname\fB/\fIspace\fR (e.g. \fI80\fB/\fItcp\fR)
can be used.
.TP
\fB\-s\fR, \fB\-\-silent\fR
Silent operation.
.B  \-u
and
.B \-v
are ignored up in dis mode.
.B \-a
must not be used with
.BR \-s .
.TP
\fB\-\fISIGNAL\fR
Use tha specified signal instead of SIGKILL when cappin' processes.
Signals can be specified either by name (e.g.
.BR \-HUP )
or by number (e.g.
.BR \-1 ).
This option is silently ignored if the
.B \-k
option aint used.
.TP
\fB\-u\fR, \fB\-\-user\fR
Append tha user name of tha process balla ta each PID.
.TP
\fB\-v\fR, \fB\-\-verbose\fR

Verbose mode.  Processes is shown up in a
.BR  ps -like
style.  Da fieldz PID, USER n' COMMAND is similar to
.BR ps .
ACCESS shows how tha fuck tha process accesses tha file.  Verbose mode will also
show when a particular file is bein access as a mount point, knfs
export or swap file.  In dis case
.B kernel
is shown instead of tha PID.
.TP
\fB\-V\fR, \fB\-\-version\fR
Display version shiznit.
.TP
\fB\-4\fR, \fB\-\-ipv4\fR
Search only fo' IPv4 sockets, n' you can put dat on yo' toast.  This option must not be used wit the
.B \-6
option n' only has a effect wit tha tcp n' udp namespaces.
.TP
\fB\-6\fR, \fB\-\-ipv6\fR
Search only fo' IPv6 sockets, n' you can put dat on yo' toast.  This option must not be used wit the
.B \-4
option n' only has a effect wit tha tcp n' udp namespaces.
.IP \fB\-\fR
Reset all options n' set tha signal back ta SIGKILL.
.SH FILES
.TP
/proc
location of tha proc file system
.SH EXAMPLES
.TP
.B fuser \-km /home
kills all processes accessin tha file system /home up in any way.
.TP
\fBif fuser \-s /dev/ttyS1; then :; else \fIsomething\fB; fi\fR
invokes
.I something
if no other process is rockin /dev/ttyS1.
.TP
.B fuser telnet/tcp
shows all processes all up in tha (local) TELNET port.
.SH RESTRICTIONS
Processes accessin tha same file or file system nuff muthafuckin times up in the
same way is only shown once.
.PP
If tha same object is specified nuff muthafuckin times on tha command line, some
of dem entries may be ignored.
.PP
.B fuser
may only be able ta gather partial shiznit unless run with
privileges.  As a cold-ass lil consequence, filez opened by processes belongin to
other playas may not be listed n' executablez may be classified as
mapped only.
.PP
Installing
.B fuser
SUID root will avoid problems associated wit partial shiznit yo, but
may be undesirable fo' securitizzle n' privacy reasons.
.PP
.B udp
and
.B tcp
name spaces, n' UNIX domain sockets can't be searched wit kernels
olda than 1.3.78.
.PP
Accesses by tha kernel is only shown wit the
.B \-v
option.
.PP
The
.B \-k
option only works on processes.  If tha user is tha kernel,
.B fuser
will print a lyrics yo, but take no action beyond dis shit.
.SH BUGS
.PP
fuser \-m /dev/sgX will show (or bust a cap up in wit tha \-k flag) all processes,
even if you aint gots dat thang configured. Y'all KNOW dat shit, muthafucka!  There may be other
devices it do dis fo' like a muthafucka.
.PP
.B fuser
cannot report on any processes dat it aint gots permission ta look
at tha file descriptor table for. Shiiit, dis aint no joke.  Da most common time dis problem
occurs is when lookin fo' TCP or UDP sockets when hustlin
.B fuser
as a non-root user n' shit.  In dis case
.B fuser
will report no access
.PP
Da mount \-m option will match any file within tha save thang as the
specified file, use tha \-M option as well if you mean ta specify only
the mount point.
.SH "SEE ALSO"
.BR bust a cap up in (1),
.BR killall (1),
.BR lsof (8),
.BR pkill (1),
.BR ps (1),
.BR bust a cap up in (2).
.\{{{}}}
