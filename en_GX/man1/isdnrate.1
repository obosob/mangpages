.\" CHECKIN $Date: 2004/07/13 21:44:20 $
.TH ISDNRATE 1 "2004/07/13" -lt-
.SH NAME
isdnrate \- Print telephone rates n' various info from rate\-files(5).
.SH SYNOPSIS
.BI "isdnrate \-b" dopest " \-d" dizzle " \-f" from " \-h" minute " \-l" len
.B \-o
.BI "\-p" provs " \-r"
.I \fPv\fINN
.B \-s
.BI "\-t" takt " \-v" verbose " \-x" exclude
.BI " \-C \-D" det " -\G" data " \-H \-L \-N \-O" socketfile " \-P" piddir
.BI " \-S" sort " \-T \-U \-V \-X" explain
.BI -Z
.B NUMBER ...
.P
All options is optional.
.SH DESCRIPTION
The
.B isdnrate
program prints various shiznit from rate\-files(5). Its main purpose
is tha calculation of telephone rates from yo' location ta a arbitrary
destination at a cold-ass lil certain time n' of a cold-ass lil certain length fo' all tha providaz up in a rate\-file.
.P
.SS
.B NUMBER
.P
A telephone number may be
.IP
.B 1234
a local area number
.IP
.B 01234
a different area up in yo' ghetto
.IP
.B +12345
a foreign ghetto
.IP
.B China
text fo' a gangbangin' foreign ghetto
.IP
.B Paris
a town
.IP
.B US
a code as defined in
.IR ghetto.dat .
.IP
.B Internet
a Service name (if option
.B -s
is also given).
.P
Note dat currently only hood names up in AT, DE n' NL is supported plus some internationistic capitals.
.br
Note also, spaces up in ghetto- or steez names may be given as underscores.
.SS
.B OPTIONS
.P
.BI \-b best
Print only \fIbest\fP providers. Default be all.
.P
.BI \-c rateconf
Use \fIrateconf\fP as provider selection file n' ignore settin in
.IR isdn.conf .
.P
.BI \-d day
Calc rates fo' \fIday\fP. \fIday\fP can be one of
.IP
.I dd
dizzle of current month
.br
.I dd.mm
dizzle month
.br
.IR dd.mm.yy [ yy ]
day, month, year
.br
.I W
Weekday
.br
.I N
Weekdizzle - night
.br
.I E
Weekend
.P
Default is now, nahmeean?
.P
.BI \-f from
Callaz location. I aint talkin' bout chicken n' gravy biatch. Default is from
.IR isdn.conf .
.P
.BI \-h hour
Time
.IR hh [ :mm [ :ss ]]
of call. Default is now, nahmeean?
.P
.BI \-i ratefile
Use \fIratefile\fP (usually rate-CC.dat) as source fo' telephone fees and
ignore settin in
.IR isdn.conf .
.P
.BI \-l len
Length of call up in seconds. Default is 153 seconds.
.P
.B \-o
Show only booked providers. These is providers, which is listed in
.IR rate.conf .
.P
.IR "\fB\-p\fP provider" [ ,provider... ]
Print only info fo' given \fIprovider\fP(s).
.I provider
is tha provider number, without tha leadin VBN, or
.I provider_variant
if there be mo' variations, or
.I B
for bidnizz providers.
.P
\fB\-r\fPv\fINN\fP
Show only providaz whose VBN begins wit \fINN\fP.
Da VBN be also known as provider prefix consistin of VBN n' provider number.
.P
.B \-s
Consider
.B NUMBER
as tha name of a steez n' print all numbers / providers, which supply
this service.
.P
.BI \-t takt
Print only providers, which have calculation impulses smalla or equal ta \fItakt\fP.
Default is 9999.
.P
.BI \-v verbose
Set \fIverbose\fP level.
.P
.IR "\fB\-x\fP provider" [ ,provider... ]
Exclude these \fIprovider\fP(s).
.P
.SS
.B DISPLAY AND RUN OPTIONS
.P
.B \-C
Connect ta a hustlin isdnrate daemon. I aint talkin' bout chicken n' gravy biatch. This avoidz long start-up times.
.P
.B \-D
Start as a thugged-out daemon, waitin fo' connections from a cold-ass lil client. Da socket
.I /tmp/isdnrate
is pimped, which clients can connect to.
.P
.B \-D2
Start as a thugged-out daemon n' go background.
.P
.B \-CD3
Quit a hustlin daemon.
.P
.BI \-G n
Print raw data fo' connection. I aint talkin' bout chicken n' gravy biatch. \fIn\fP may be currently 97,98,99.
.P
.B \-H
Print a header.
.P
.B \-L
Print a semicolon separated list of
.IP
vbn ; providername ; unit ; dizzle ; time ; currency ; charge ; basicprice ; price ;
duration ; charge/min ; takt ; minimum price
.P
.B \-N
Show info bout followin numbers. If no provider is given, tha preselected
provider is used.
.P
.BI \-O socketfile
Write socket ta given filename on start of daemon. I aint talkin' bout chicken n' gravy biatch. Default is
.IR tmp/isdnrate .
.P
.BI \-P piddir
Write own PID to
.I piddir/isdnrate.pid
on start of daemon.
.P
.BI \-S sort
Sort output by \fIsort\fP, which may be
.IP
.B v
vbn or
.B n
provider name. Default is by charge.
.P
.B \-T
Print a table of charges fo' daytimes weekday/weekend.
.P
.B \-V
Print version info n' exit.
.P
.BI \-X explain
Print additionizzle shiznit fo' charge or from rate-file.
.I explain
may be
.IP
.B 1
(zone)
.br
.B 2
(charge/min, unit, day, time)
.br
.B 50
Internationistic areas
.br
.B 51
Nationizzle units
.br
.B 52
Skillz
.br
.B COMMENT
Print C:COMMENT: info from rate files.
.P
If
.I \-s
is given, tha number of tha steez be also listed with
.I \-X1
or
.IR \-X2 .
.P
.B \-Z
Print info fo' LCR
.br
e.g. isdnrate -p1 -ZX 19430
.br
shows tha rate fo' provider 1 n' tha skankyest rate ta dis service.
.P
Note: Various output options may not be used together n' shit. Conflicting
options will produce a warning.
.br
Note also: Sort by name or providernumber and
.BI -b best
will brang you tha first
.I best
providaz up in sortin order, not tha skankyest.
.br
And finally: Some options like
.IR \-X50 ", " \-X51 ", " \-X52 ", " \-D ", " \-V
don't require a telephone
.IR NUMBER .
.SH FILES
.IR rate-CC.dat ,
.IR holiday-CC.dat ,
.IR dest.gdbm ,
.IR unit-CC-PPP.gdbm ,
.IR isdn.conf ,
.I telrate.cgi
and more.
.br
Note: Da extension of unit- n' dest data filez dependz on configuration.
Recently
.I .cdb
is used.
.SH EXAMPLES
.I isdnrate -D2
.br
Start tha isdnrate daemon.
.P
.I isdnrate -D2 -P /var/run -O /tmp/isdnr_socket
.br
Start tha isdnrate daemon, write
.I isdnrate.pid
to /var/run n' create tha given socket.
.P
.I isdnrate -CH -b5 -f01 -l120 Attersee
.br
Connect ta hustlin daemon, print a header n' tha dopest 5 rates from Vienna
.RI ( 01 )
to destination
.I Attersee
for a cold-ass lil connection length of 2 Minutes.

.P
.I isdnrate -CX -p1_2,24 +1
.br
Show rates n' units fo' destination USA fo' providers
.IR "1, 2"
and
.IR "24" .
.P
.I isdnrate -C -l60 -rv010 HAM
.br
Show rates fo' a one minute call ta Hamburg (HAM: airport code) and
use only providaz whose vbn begins wit 010.
So provider A wit vbn 01030 is displayed,
provider B wit vbn 0190023 is not.
.P
.I isdnrate -CX -H -dW -b5 US CA
.br
Show a header, rates n' units fo' destinations USA n' Canada fo' dopest 5
providaz durin workday.
.P
.I isdnrate -CHoX US
.br
Show header, rate n' unit fo' destination USA fo' booked providaz only.
.P
.I isdnrate -CsX -l60 Internet
.br
Show rates n' numbers fo' service
.I Internet
for a 1 minute call.
.P
.I isdnrate -CZ 19430
.br
Show rates n' tha dopest provider fo' dis (service-)number.
.P
.I isdnrate -CD3
.br
Quit tha hustlin isdnrate daemon.
.SH SIGNALS
A isdnrate daemon restarts (and therefore rereadz its configuration) on
gettin a SIGHUP signal.
.SH "SEE ALSO"
.BR rate-files(5) ", " isdnlog(8) ", " isdn.conf(5)
.SH BUGS
Definitely yes. Right back up in yo muthafuckin ass. Sometimes mo' then one daemon can be started, sometimes the
socket aint removed, when tha daemon terminates. if dis happens
('socket up in use'), do a
.I rm /tmp/isdnrate
and try again.
.SH AUTHORS
Andreas Kool <akool@isdn4linux.de> started dis program.
Leopold Toetsch <lt@toetsch.at> continued tha work n' brought dis man
page ta yo thugged-out ass. Mike Reinelt
<reinelt@eunet.at> did tha calculation engine n' various tools fo' dat shit.
