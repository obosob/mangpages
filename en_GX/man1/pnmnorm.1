\
.\" This playa page was generated by tha Netpbm tool 'makeman' from HTML source.
.\" Do not hand-hack dat shiznit son!  If you have bug fixes or improvements, please find
.\" tha correspondin HTML page on tha Netpbm joint, generate a patch
.\" against that, n' bust it ta tha Netpbm maintainer.
.TH "Pnmnorm User Manual" 0 "6 January 2006" "netpbm documentation"

.SH NAME

pnmnorm - normalize tha contrast up in a Netbpm image

.UN synopsis
.SH SYNOPSIS

\fBpnmnorm\fP

[\fB-bpercent=\fP\fIN\fP | \fB-bvalue=\fP\fIN\fP]

[\fB-wpercent=\fP\fIN\fP | \fB-wvalue=\fP\fIN\fP]

[\fB-midvalue=\fP\fIN\fP]

[\fB-middle=N\fP]

[\fB-maxexpand\fP]

[\fB-keephues\fP]

[\fB-luminosity\fP | \fB-colorvalue\fP | \fB-saturation\fP]

[\fIppmfile\fP]
.PP
All options can be abbreviated ta they shortest unique prefix.
Yo ass may use two hyphens instead of one ta designate a option. I aint talkin' bout chicken n' gravy biatch.  You
may use either white space or a equals sign between a option name
and its value.

.UN description
.SH DESCRIPTION
.PP
This program is part of
.BR Netpbm (1)
.
.PP
\fBpnmnorm\fP readz a PNM image (PBM, PGM, or PPM).  It normalizes the
contrast by forcin tha brightest pixels ta white, tha darkest pixels to
black, n' spreadin up tha ones up in between. I aint talkin' bout chicken n' gravy biatch.  It produces tha same ol' dirty kind of
file as output.  This is pretty useless fo' a PBM image.
.PP
Da program offers two wayz of spreadin up tha pixels up in between the
darkest n' brightest: linear n' quadratic.  In tha quadratic case, you
specify some up in between brightnizz n' specify what tha fuck brightnizz dat should
become up in tha output.  With dem three constraints: tha brightnizz that
becomes black, tha brightnizz dat becomes white, n' tha brightnizz that
becomes dat middle value, \fBpnmnorm\fP computes a quadratic equation that
maps all tha other brightnesses from input joints ta output joints.
.PP
Da program first determines a mappin of oldschool brightnizz ta new
brightness.  For each possible brightnizz of a pixel, tha program
determines a cold-ass lil correspondin brightnizz fo' tha output image.
.PP
Then fo' each pixel up in tha image, tha program computes a cold-ass lil color which has
the desired output brightnizz n' puts dat up in tha output.  With a cold-ass lil color
image, it aint always possible ta compute such a cold-ass lil color n' retain any
semblizzle of tha original gangsta hue, so tha brightest n' dimmest pixels may only
approximate tha desired brightness.
.PP
For a PPM image, you gotz a cold-ass lil chizzle of three ways ta define brightness:

.IP \(bu
luminosity
.IP \(bu
color value
.IP \(bu
saturation


In tha case of saturation, 'brightness' is pretty much a
misnomer yo, but you can use tha brightnizz analogy ta peep what tha fuck it do.
In tha analogy, bright means saturated n' dark means unsaturated.
.PP
Note dat all of these is different from separately normalizing
the individual color components.
.PP
An alternatizzle way ta spread up tha brightnesses up in a image is
\fBpnmhisteq\fP.  \fBpnmhisteq\fP stretches tha brightest pixels to
white n' tha darkest pixels ta black yo, but rather than linearly
adjustin tha ones up in between, it adjusts dem so dat there be an
equal number of pixelz of each brightnizz all up in tha range.  This
gives you mo' contrast than \fBpnmnorm\fP do yo, but can considerably
change tha picture up in exchange.


.UN options
.SH OPTIONS
.PP
By default, tha darkest 2 cement of all pixels is mapped to
black, n' tha brightest 1 cement is mapped ta white.  Yo ass can
override these cementages by rockin tha \fB-bpercent\fP and
\fB-wpercent\fP options, or you can specify tha exact pixel joints to
be mapped by rockin tha \fB-bvalue\fP n' \fB-wvalue\fP options.
Yo ass can git appropriate numbers fo' tha options from
\fBppmhist\fP.  If you just wanna enhizzle tha contrast, then
choose joints at elbows up in tha histogram; e.g. if value 29 represents
3% of tha image but value 30 represents 20%, chizzle 30 for
\fIbvalue\fP.  If you wanna brighten tha image, then set
\fIbvalue\fP ta 0 n' just fiddle wit \fIwvalue\fP; similarly, to
darken tha image, set \fIwvalue\fP ta maxval n' play with
\fIbvalue\fP.
.PP
If you specify both \fB-bvalue\fP n' \fB-bpercent\fP, \fBpnmnorm\fP
uses tha one dat produces tha least chizzle.  Da same goes for
\fB-wvalue\fP n' \fB-wpercent\fP.  (In Netpbm 10.26 (January 2005),
the \fB-bvalue\fP/\fB-wvalue\fP takes precedence, n' before that,
itz a syntax error ta specify both).
.PP
If you wanna maximize tha chizzle instead of minimizin it, just
cascade two runz of \fBpnmnorm\fP, specifyin joints fo' tha first
and cementages fo' tha second.
.PP
\fB-bpercent\fP n' \fB-wpercent\fP joints is floatin point
decimal. It aint nuthin but tha nick nack patty wack, I still gots tha bigger sack.  Zero is valid n' is tha same ol' dirty as \fB-bvalue=0\fP or
\fB-wvalue=\fP\fImaxval\fP, respectively.
.PP
Because there be whole numberz of pixels at each brightness,
\fBpnmnorm\fP obviously can't guarantee tha exact cementage, so it
arranges dat \fIat least\fP tha cementage of pixels you specify
get remapped as promised.
.PP
It be possible fo' yo' \fB-bpercent\fP or \fB-wpercent\fP
to overlap yo' \fB-wvalue\fP or \fB-bvalue\fP, respectively.  For
example, you say \fB-bpercent=20\fP n' \fB-wvalue=100\fP fo' an
image up in which only 10 cement of tha pixels is darker than 100.
In dat case, \fBpnmnorm\fP adjusts tha cementile value as
required. Y'all KNOW dat shit, muthafucka!  In tha example, it uses 99 as tha black value (like
\fB-bvalue=99\fP).
.PP
It be also possible fo' yo' \fB-bpercent\fP n' \fB-wpercent\fP
options ta select tha same brightnizz value fo' tha stretch-to-white
and stretch-to-black value cuz of tha fact dat \fBpnmnorm\fP
can't subdivide a histogram cell.  E.g. if a image be all brightness
100, then no matta what tha fuck \fB-bpercent\fP n' \fB-wpercent\fP
values you chizzle, itz tha same ol' dirty as sayin \fB-bvalue=100 -wvalue=100\fP.
In dat case, \fBpnmnorm\fP chizzlez one of tha joints by 1 ta make it
legal. It aint nuthin but tha nick nack patty wack, I still gots tha bigger sack.  In tha example, \fBpnmnorm\fP would either make tha black
value 99 or tha white value 101.
.PP
Before Netpbm 10.43 (June 2008), \fBpnmnorm\fP fails if the
\fB-wpercent\fP and/or \fB-bpercent\fP joints specify a overlap.
.PP
Da stretch points is further constrained by tha \fB-maxexpand\fP
option. I aint talkin' bout chicken n' gravy biatch.  Sometimes, too much contrast be a wack thang.  If your
intensitizzles is all concentrated up in tha middle, \fB-bpercent=2\fP and
\fB-wpercent=1\fP might mean dat a intensitizzle of 60 gets stretched
up ta 100 n' intensitizzle of 20 gets stretched down ta zero, fo' a
range expansion of 150% (from a range of 40 ta a range of 100).  That
much stretchin means two adjacent pixels dat used ta differ in
intensitizzle by 4 units now differ by 10, n' dat might be unsightly.
.PP
So dat you can put a limit on tha amount of expansion without
havin ta examine tha image first, there is tha \fB-maxexpand\fP
option. I aint talkin' bout chicken n' gravy biatch.  It specifies tha maximum expansion yo big-ass booty is ghon tolerate, as an
additionizzle cementage.  In tha example above, you could say
\fB-maxexpand=50\fP ta say you want tha range ta expand by at most
50%, regardless of yo' other options.  \fBpnmnorm\fP figures out
what intensitizzle ta stretch ta full intensitizzle n' what tha fuck intensitizzle to
stretch ta zero intensitizzle as busted lyrics bout above, n' then raises the
forma n' lowers tha latta as needed ta limit tha expansion ta the
amount you specified.
.PP
When \fBpnmnorm\fP limits tha expansion cuz of \fB-maxexpand\fP,
it  drops some lyrics ta you bout it wit a message like this:
.nf
\f(CW
    limitin expansion of 150% ta 50%
\fP
.fi
.PP
In any case, \fBpnmnorm\fP  drops some lyrics ta you exactly what tha fuck expansion it's
doing, like this:

.nf
\f(CW
    remappin 25..75 ta 0..100
\fP
.fi
.PP
Before Netpbm 10.26 (December 2004), dat shiznit was not valid ta specify both
\fB-bvalue\fP n' \fB-bpercent\fP or \fB-wvalue\fP n' \fB-wpercent\fP.
.PP
\fB-maxexpand\fP was freshly smoked up in Netpbm 10.32 (February 2006).
.PP
Da \fB-keephues\fP option say ta keep each pixel tha same hue as
it is up in tha input; just adjust its brightness.  Yo ass normally want this;
the only reason it aint tha default behavior is backward compatibility
with a thugged-out design mistake.
.PP
By default, \fBpnmnorm\fP normalizes contrast up in each component
independently (except dat tha meanin of tha \fB-wpercent\fP and
\fB-bpercent\fP options is based on tha overall brightnessez of the
colors, not each component taken separately).  So if you gotz a cold-ass lil color
which is intensely red but dimly green, \fBpnmnorm\fP would make the
red mo' intense n' tha chronic less intense, so you end up wit a
different hue than you started with.
.PP
When you specify \fB-midvalue=\fP\fIN\fP, \fBpnmnorm\fP uses a quadratic
function ta map oldschool brightnesses ta freshly smoked up ones, makin shizzle dat a old
brightnizz of \fIN\fP becomes 50% bright up in tha output.  Yo ass can override
that 50% default wit \fB-middle\fP.  Da value of \fB-middle\fP be a
floatin point number up in tha range 0 all up in 1 wit 0 bein full darknizz and
1 full brightness.  If yo' \fB-midvalue\fP n' \fB-middle\fP indicate an
ambiguous or impossible quadratic function (e.g. \fB-midvalue\fP is tha same
as \fB-bvalue\fP, so a infinite number of quadratic functions
fit), \fBpnmnorm\fP just ignores yo' \fB-midvalue\fP n' maps linearly.

\fB-midvalue\fP n' \fB-middle\fP was freshly smoked up in Netpbm 10.57 (December 2011).
.PP
If you specify \fB-keephues\fP, \fBpnmnorm\fP wannaly leave
this pixel alone, since its overall brightnizz is medium.
.PP
\fB-keephues\fP can cause clipping, cuz a cold-ass lil certain color may be
below a target intensitizzle while one of its components is saturated.
Where thatz tha case, \fBpnmnorm\fP uses tha maximum representable
intensitizzle fo' tha saturated component n' tha pixel endz up wit less
overall intensity, n' a gangbangin' finger-lickin' different hue, than it is supposed ta have.
.PP
This option is meaningless on grayscale images.
.PP
When you \fIdon't\fP specify \fB-keephues\fP, the
\fB-luminosity\fP, \fB-colorvalue\fP, n' \fB-saturation\fP options
affect tha transfer function (which is tha same ol' dirty fo' all three RGB
components) yo, but is meaningless when it comes ta applyin the
transfer function (since it be applied ta each individual RGB
component).
.PP
Before Netpbm 9.25 (March 2002), there was no \fB-keephues\fP option.
.PP
\fB-luminosity\fP, \fB-colorvalue\fP, n' \fB-saturation\fP determine
what property of tha pixels \fBpnmnorm\fP normalizes.  I.e., what tha fuck kind of
brightness.  Yo ass cannot specify mo' than one of these.
.PP
Da \fB-luminosity\fP option say ta use tha luminositizzle (i.e. the
\&'Y' up in tha YUV or YCbCr color space) as tha pixelz brightness.  The
luminositizzle be a measure of how tha fuck bright a human eye would find tha color,
takin tha fuck into account tha fact dat tha human eye is mo' sensitizzle ta some
RGB components than others.
.PP
This option is default.
.PP
This option is meaningless on grayscale images.
.PP
Before Netpbm 10.28 (August 2005), there was no \fB-luminosity\fP option,
but its meanin was still tha default.
.PP
Before Netpbm 10.28 (August 2005), there was no \fB-colorvalue\fP option.
.PP
Da \fB-colorvalue\fP option say ta use tha color value (i.e. the
\&'V' up in tha HSV color space) as tha pixelz brightness.  The
color value is tha gamma-adjusted intensitizzle of da most thugged-out intense RGB
component.
.PP
This option is meaningless on grayscale images.
.PP
Before Netpbm 10.28 (August 2005), there was no \fB-colorvalue\fP option.
.PP
Da \fB-saturation\fP option say ta use tha saturation (i.e. the
\&'S' up in tha HSV color space) as tha pixelz brightness.  The
saturation is tha ratio of tha intensitizzle of da most thugged-out intense RGB
component ta tha difference between tha intensitizzlez of da most thugged-out n' least
intense RGB component (all intensitizzles gamma-adjusted).
.PP
In dis case, 'brightness' is mo' of a metaphor than anything.
\&'bright' means saturated n' 'dark' means unsaturated.
.PP
This option is meaningless on grayscale images.
.PP
Before Netpbm 10.28 (August 2005), there was no \fB-colorvalue\fP option.



.UN seealso
.SH SEE ALSO
.BR pnmhisteq (1)
,
.BR ppmhist (1)
,
.BR pgmhist (1)
,
.BR pnmgamma (1)
,
.BR ppmbrighten (1)
,
.BR ppmdim (1)
,
.BR pnm (1)
